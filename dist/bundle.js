!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){var o;
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,i){"use strict";var r=[],a=n.document,s=Object.getPrototypeOf,l=r.slice,c=r.concat,u=r.push,d=r.indexOf,p={},f=p.toString,h=p.hasOwnProperty,m=h.toString,g=m.call(Object),v={},b=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},y=function(e){return null!=e&&e===e.window},w={type:!0,src:!0,nonce:!0,noModule:!0};function C(e,t,n){var o,i,r=(n=n||a).createElement("script");if(r.text=e,t)for(o in w)(i=t[o]||t.getAttribute&&t.getAttribute(o))&&r.setAttribute(o,i);n.head.appendChild(r).parentNode.removeChild(r)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?p[f.call(e)]||"object":typeof e}var S=function(e,t){return new S.fn.init(e,t)},k=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!b(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}S.fn=S.prototype={jquery:"3.4.1",constructor:S,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(e){return this.pushStack(S.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:r.sort,splice:r.splice},S.extend=S.fn.extend=function(){var e,t,n,o,i,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||b(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)o=e[t],"__proto__"!==t&&a!==o&&(c&&o&&(S.isPlainObject(o)||(i=Array.isArray(o)))?(n=a[t],r=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(c,r,o)):void 0!==o&&(a[t]=o));return a},S.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==f.call(e))&&(!(t=s(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&m.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){C(e,{nonce:t&&t.nonce})},each:function(e,t){var n,o=0;if(T(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(k,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:d.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,i=e.length;o<n;o++)e[i++]=t[o];return e.length=i,e},grep:function(e,t,n){for(var o=[],i=0,r=e.length,a=!n;i<r;i++)!t(e[i],i)!==a&&o.push(e[i]);return o},map:function(e,t,n){var o,i,r=0,a=[];if(T(e))for(o=e.length;r<o;r++)null!=(i=t(e[r],r,n))&&a.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&a.push(i);return c.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=r[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){p["[object "+t+"]"]=t.toLowerCase()});var _=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(e){var t,n,o,i,r,a,s,l,c,u,d,p,f,h,m,g,v,b,y,w="sizzle"+1*new Date,C=e.document,x=0,S=0,k=le(),T=le(),_=le(),E=le(),I=function(e,t){return e===t&&(d=!0),0},A={}.hasOwnProperty,P=[],D=P.pop,N=P.push,L=P.push,F=P.slice,R=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},$="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+M+"*("+O+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",H=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",z=new RegExp(M+"+","g"),j=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),U=new RegExp("^"+M+"*,"+M+"*"),W=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),q=new RegExp(M+"|>"),V=new RegExp(H),G=new RegExp("^"+O+"$"),K={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+$+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ne=function(e,t,n){var o="0x"+t-65536;return o!=o||n?t:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){p()},ae=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{L.apply(P=F.call(C.childNodes),C.childNodes),P[C.childNodes.length].nodeType}catch(e){L={apply:P.length?function(e,t){N.apply(e,F.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}function se(e,t,o,i){var r,s,c,u,d,h,v,b=t&&t.ownerDocument,x=t?t.nodeType:9;if(o=o||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return o;if(!i&&((t?t.ownerDocument||t:C)!==f&&p(t),t=t||f,m)){if(11!==x&&(d=J.exec(e)))if(r=d[1]){if(9===x){if(!(c=t.getElementById(r)))return o;if(c.id===r)return o.push(c),o}else if(b&&(c=b.getElementById(r))&&y(t,c)&&c.id===r)return o.push(c),o}else{if(d[2])return L.apply(o,t.getElementsByTagName(e)),o;if((r=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(o,t.getElementsByClassName(r)),o}if(n.qsa&&!E[e+" "]&&(!g||!g.test(e))&&(1!==x||"object"!==t.nodeName.toLowerCase())){if(v=e,b=t,1===x&&q.test(e)){for((u=t.getAttribute("id"))?u=u.replace(oe,ie):t.setAttribute("id",u=w),s=(h=a(e)).length;s--;)h[s]="#"+u+" "+ye(h[s]);v=h.join(","),b=ee.test(e)&&ve(t.parentNode)||t}try{return L.apply(o,b.querySelectorAll(v)),o}catch(t){E(e,!0)}finally{u===w&&t.removeAttribute("id")}}}return l(e.replace(j,"$1"),t,o,i)}function le(){var e=[];return function t(n,i){return e.push(n+" ")>o.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ce(e){return e[w]=!0,e}function ue(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),i=n.length;i--;)o.attrHandle[n[i]]=t}function pe(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce(function(t){return t=+t,ce(function(n,o){for(var i,r=e([],n.length,t),a=r.length;a--;)n[i=r[a]]&&(n[i]=!(o[i]=n[i]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},r=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Z.test(t||n&&n.nodeName||"HTML")},p=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:C;return a!==f&&9===a.nodeType&&a.documentElement?(h=(f=a).documentElement,m=!r(f),C!==f&&(i=f.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(f.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=w,!f.getElementsByName||!f.getElementsByName(w).length}),n.getById?(o.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(o.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,o,i,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(i=t.getElementsByName(e),o=0;r=i[o++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),o.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],i=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[i++];)1===n.nodeType&&o.push(n);return o}return r},o.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=Q.test(f.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+M+"*(?:value|"+$+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Q.test(b=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",H)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),y=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=t?function(e,t){if(e===t)return d=!0,0;var o=!e.compareDocumentPosition-!t.compareDocumentPosition;return o||(1&(o=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===o?e===f||e.ownerDocument===C&&y(C,e)?-1:t===f||t.ownerDocument===C&&y(C,t)?1:u?R(u,e)-R(u,t):0:4&o?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,o=0,i=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!i||!r)return e===f?-1:t===f?1:i?-1:r?1:u?R(u,e)-R(u,t):0;if(i===r)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[o]===s[o];)o++;return o?pe(a[o],s[o]):a[o]===C?-1:s[o]===C?1:0},f):f},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),n.matchesSelector&&m&&!E[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var o=b.call(e,t);if(o||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){E(t,!0)}return se(t,f,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[t.toLowerCase()],r=i&&A.call(o.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==r?r:n.attributes||!m?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(oe,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,o=[],i=0,r=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(I),d){for(;t=e[r++];)t===e[r]&&(i=o.push(r));for(;i--;)e.splice(o[i],1)}return u=null,e},i=se.getText=function(e){var t,n="",o=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[o++];)n+=i(t);return n},(o=se.selectors={cacheLength:50,createPseudo:ce,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(o){var i=se.attr(o,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(z," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,o,i){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===o&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,f,h,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s,y=!1;if(g){if(r){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&b){for(y=(f=(c=(u=(d=(p=g)[w]||(p[w]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===x&&c[1])&&c[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(y=f=0)||h.pop();)if(1===p.nodeType&&++y&&p===t){u[e]=[x,f,y];break}}else if(b&&(y=f=(c=(u=(d=(p=t)[w]||(p[w]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===x&&c[1]),!1===y)for(;(p=++f&&p&&p[m]||(y=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++y||(b&&((u=(d=p[w]||(p[w]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]=[x,y]),p!==t)););return(y-=i)===o||y%o==0&&y/o>=0}}},PSEUDO:function(e,t){var n,i=o.pseudos[e]||o.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,n){for(var o,r=i(e,t),a=r.length;a--;)e[o=R(e,r[a])]=!(n[o]=r[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ce(function(e){var t=[],n=[],o=s(e.replace(j,"$1"));return o[w]?ce(function(e,t,n,i){for(var r,a=o(e,null,i,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))}):function(e,i,r){return t[0]=e,o(t,null,r,n),t[0]=null,!n.pop()}}),has:ce(function(e){return function(t){return se(e,t).length>0}}),contains:ce(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}}),lang:ce(function(e){return G.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge(function(){return[0]}),last:ge(function(e,t){return[t-1]}),eq:ge(function(e,t,n){return[n<0?n+t:n]}),even:ge(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ge(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ge(function(e,t,n){for(var o=n<0?n+t:n>t?t:n;--o>=0;)e.push(o);return e}),gt:ge(function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e})}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})o.pseudos[t]=he(t);function be(){}function ye(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function we(e,t,n){var o=t.dir,i=t.next,r=i||o,a=n&&"parentNode"===r,s=S++;return t.first?function(t,n,i){for(;t=t[o];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,l){var c,u,d,p=[x,s];if(l){for(;t=t[o];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[o];)if(1===t.nodeType||a)if(u=(d=t[w]||(t[w]={}))[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[o]||t;else{if((c=u[r])&&c[0]===x&&c[1]===s)return p[2]=c[2];if(u[r]=p,p[2]=e(t,n,l))return!0}return!1}}function Ce(e){return e.length>1?function(t,n,o){for(var i=e.length;i--;)if(!e[i](t,n,o))return!1;return!0}:e[0]}function xe(e,t,n,o,i){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,o,i)||(a.push(r),c&&t.push(s)));return a}function Se(e,t,n,o,i,r){return o&&!o[w]&&(o=Se(o)),i&&!i[w]&&(i=Se(i,r)),ce(function(r,a,s,l){var c,u,d,p=[],f=[],h=a.length,m=r||function(e,t,n){for(var o=0,i=t.length;o<i;o++)se(e,t[o],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!r&&t?m:xe(m,p,e,s,l),v=n?i||(r?e:h||o)?[]:a:g;if(n&&n(g,v,s,l),o)for(c=xe(v,f),o(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[f[u]]=!(g[f[u]]=d));if(r){if(i||e){if(i){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);i(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=i?R(r,d):p[u])>-1&&(r[c]=!(a[c]=d))}}else v=xe(v===a?v.splice(h,v.length):v),i?i(null,a,v,l):L.apply(a,v)})}function ke(e){for(var t,n,i,r=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,u=we(function(e){return e===t},s,!0),d=we(function(e){return R(t,e)>-1},s,!0),p=[function(e,n,o){var i=!a&&(o||n!==c)||((t=n).nodeType?u(e,n,o):d(e,n,o));return t=null,i}];l<r;l++)if(n=o.relative[e[l].type])p=[we(Ce(p),n)];else{if((n=o.filter[e[l].type].apply(null,e[l].matches))[w]){for(i=++l;i<r&&!o.relative[e[i].type];i++);return Se(l>1&&Ce(p),l>1&&ye(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(j,"$1"),n,l<i&&ke(e.slice(l,i)),i<r&&ke(e=e.slice(i)),i<r&&ye(e))}p.push(n)}return Ce(p)}return be.prototype=o.filters=o.pseudos,o.setFilters=new be,a=se.tokenize=function(e,t){var n,i,r,a,s,l,c,u=T[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=o.preFilter;s;){for(a in n&&!(i=U.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),n=!1,(i=W.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(j," ")}),s=s.slice(n.length)),o.filter)!(i=K[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):T(e,l).slice(0)},s=se.compile=function(e,t){var n,i=[],r=[],s=_[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=ke(t[n]))[w]?i.push(s):r.push(s);(s=_(e,function(e,t){var n=t.length>0,i=e.length>0,r=function(r,a,s,l,u){var d,h,g,v=0,b="0",y=r&&[],w=[],C=c,S=r||i&&o.find.TAG("*",u),k=x+=null==C?1:Math.random()||.1,T=S.length;for(u&&(c=a===f||a||u);b!==T&&null!=(d=S[b]);b++){if(i&&d){for(h=0,a||d.ownerDocument===f||(p(d),s=!m);g=e[h++];)if(g(d,a||f,s)){l.push(d);break}u&&(x=k)}n&&((d=!g&&d)&&v--,r&&y.push(d))}if(v+=b,n&&b!==v){for(h=0;g=t[h++];)g(y,w,a,s);if(r){if(v>0)for(;b--;)y[b]||w[b]||(w[b]=D.call(l));w=xe(w)}L.apply(l,w),u&&!r&&w.length>0&&v+t.length>1&&se.uniqueSort(l)}return u&&(x=k,c=C),y};return n?ce(r):r}(r,i))).selector=e}return s},l=se.select=function(e,t,n,i){var r,l,c,u,d,p="function"==typeof e&&e,f=!i&&a(e=p.selector||e);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&o.relative[l[1].type]){if(!(t=(o.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(r=K.needsContext.test(e)?0:l.length;r--&&(c=l[r],!o.relative[u=c.type]);)if((d=o.find[u])&&(i=d(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(r,1),!(e=i.length&&ye(l)))return L.apply(n,i),n;break}}return(p||s(e,f))(i,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(I).join("")===w,n.detectDuplicates=!!d,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||de($,function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),se}(n);S.find=_,S.expr=_.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=_.uniqueSort,S.text=_.getText,S.isXMLDoc=_.isXML,S.contains=_.contains,S.escapeSelector=_.escape;var E=function(e,t,n){for(var o=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&S(e).is(n))break;o.push(e)}return o},I=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=S.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(e,t,n){return b(t)?S.grep(e,function(e,o){return!!t.call(e,o,e)!==n}):t.nodeType?S.grep(e,function(e){return e===t!==n}):"string"!=typeof t?S.grep(e,function(e){return d.call(t,e)>-1!==n}):S.filter(t,e,n)}S.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?S.find.matchesSelector(o,e)?[o]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,o=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<o;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<o;t++)S.find(e,i[t],n);return o>1?S.uniqueSort(n):n},filter:function(e){return this.pushStack(N(this,e||[],!1))},not:function(e){return this.pushStack(N(this,e||[],!0))},is:function(e){return!!N(this,"string"==typeof e&&A.test(e)?S(e):e||[],!1).length}});var L,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var o,i;if(!e)return this;if(n=n||L,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:F.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),D.test(o[1])&&S.isPlainObject(t))for(o in t)b(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(i=a.getElementById(o[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,L=S(a);var R=/^(?:parents|prev(?:Until|All))/,$={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,o=0,i=this.length,r=[],a="string"!=typeof e&&S(e);if(!A.test(e))for(;o<i;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?S.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?d.call(S(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return I((e.parentNode||{}).firstChild,e)},children:function(e){return I(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(P(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(e,t){S.fn[e]=function(n,o){var i=S.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(i=S.filter(o,i)),this.length>1&&($[e]||S.uniqueSort(i),R.test(e)&&i.reverse()),this.pushStack(i)}});var O=/[^\x20\t\r\n\f]+/g;function B(e){return e}function H(e){throw e}function z(e,t,n,o){var i;try{e&&b(i=e.promise)?i.call(e).done(t).fail(n):e&&b(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return S.each(e.match(O)||[],function(e,n){t[n]=!0}),t}(e):S.extend({},e);var t,n,o,i,r=[],a=[],s=-1,l=function(){for(i=i||e.once,o=t=!0;a.length;s=-1)for(n=a.shift();++s<r.length;)!1===r[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=r.length,n=!1);e.memory||(n=!1),t=!1,i&&(r=n?[]:"")},c={add:function(){return r&&(n&&!t&&(s=r.length-1,a.push(n)),function t(n){S.each(n,function(n,o){b(o)?e.unique&&c.has(o)||r.push(o):o&&o.length&&"string"!==x(o)&&t(o)})}(arguments),n&&!t&&l()),this},remove:function(){return S.each(arguments,function(e,t){for(var n;(n=S.inArray(t,r,n))>-1;)r.splice(n,1),n<=s&&s--}),this},has:function(e){return e?S.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return i=a=[],r=n="",this},disabled:function(){return!r},lock:function(){return i=a=[],n||t||(r=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},S.extend({Deferred:function(e){var t=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],o="pending",i={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return S.Deferred(function(n){S.each(t,function(t,o){var i=b(e[o[4]])&&e[o[4]];r[o[1]](function(){var e=i&&i.apply(this,arguments);e&&b(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,o,i){var r=0;function a(e,t,o,i){return function(){var s=this,l=arguments,c=function(){var n,c;if(!(e<r)){if((n=o.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,b(c)?i?c.call(n,a(r,t,B,i),a(r,t,H,i)):(r++,c.call(n,a(r,t,B,i),a(r,t,H,i),a(r,t,B,t.notifyWith))):(o!==B&&(s=void 0,l=[n]),(i||t.resolveWith)(s,l))}},u=i?c:function(){try{c()}catch(n){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(n,u.stackTrace),e+1>=r&&(o!==H&&(s=void 0,l=[n]),t.rejectWith(s,l))}};e?u():(S.Deferred.getStackHook&&(u.stackTrace=S.Deferred.getStackHook()),n.setTimeout(u))}}return S.Deferred(function(n){t[0][3].add(a(0,n,b(i)?i:B,n.notifyWith)),t[1][3].add(a(0,n,b(e)?e:B)),t[2][3].add(a(0,n,b(o)?o:H))}).promise()},promise:function(e){return null!=e?S.extend(e,i):i}},r={};return S.each(t,function(e,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){o=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),r[n[0]]=function(){return r[n[0]+"With"](this===r?void 0:this,arguments),this},r[n[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t=arguments.length,n=t,o=Array(n),i=l.call(arguments),r=S.Deferred(),a=function(e){return function(n){o[e]=this,i[e]=arguments.length>1?l.call(arguments):n,--t||r.resolveWith(o,i)}};if(t<=1&&(z(e,r.done(a(n)).resolve,r.reject,!t),"pending"===r.state()||b(i[n]&&i[n].then)))return r.then();for(;n--;)z(i[n],a(n),r.reject);return r.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&j.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){n.setTimeout(function(){throw e})};var U=S.Deferred();function W(){a.removeEventListener("DOMContentLoaded",W),n.removeEventListener("load",W),S.ready()}S.fn.ready=function(e){return U.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==e&&--S.readyWait>0||U.resolveWith(a,[S]))}}),S.ready.then=U.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(S.ready):(a.addEventListener("DOMContentLoaded",W),n.addEventListener("load",W));var q=function(e,t,n,o,i,r,a){var s=0,l=e.length,c=null==n;if("object"===x(n))for(s in i=!0,n)q(e,t,s,n[s],!0,r,a);else if(void 0!==o&&(i=!0,b(o)||(a=!0),c&&(a?(t.call(e,o),t=null):(c=t,t=function(e,t,n){return c.call(S(e),n)})),t))for(;s<l;s++)t(e[s],n,a?o:o.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):l?t(e[0],n):r},V=/^-ms-/,G=/-([a-z])/g;function K(e,t){return t.toUpperCase()}function Z(e){return e.replace(V,"ms-").replace(G,K)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=S.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,i=this.cache(e);if("string"==typeof t)i[Z(t)]=n;else for(o in t)i[Z(o)]=t[o];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Z(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Z):(t=Z(t))in o?[t]:t.match(O)||[]).length;for(;n--;)delete o[t[n]]}(void 0===t||S.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Q=new X,J=new X,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),S.fn.extend({data:function(e,t){var n,o,i,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(i=J.get(r),1===r.nodeType&&!Q.get(r,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(o=a[n].name).indexOf("data-")&&(o=Z(o.slice(5)),ne(r,o,i[o]));Q.set(r,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){J.set(this,e)}):q(this,function(t){var n;if(r&&void 0===t)return void 0!==(n=J.get(r,e))?n:void 0!==(n=ne(r,e))?n:void 0;this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),S.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=Q.get(e,t),n&&(!o||Array.isArray(n)?o=Q.access(e,t,S.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),o=n.length,i=n.shift(),r=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),o--),i&&("fx"===t&&n.unshift("inprogress"),delete r.stop,i.call(e,function(){S.dequeue(e,t)},r)),!o&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:S.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?S.queue(this[0],e):void 0===t?this:this.each(function(){var n=S.queue(this,e,t);S._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&S.dequeue(this,e)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,i=S.Deferred(),r=this,a=this.length,s=function(){--o||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Q.get(r[a],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(s));return s(),i.promise(t)}});var oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+oe+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ae=a.documentElement,se=function(e){return S.contains(e.ownerDocument,e)},le={composed:!0};ae.getRootNode&&(se=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===S.css(e,"display")},ue=function(e,t,n,o){var i,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in i=n.apply(e,o||[]),t)e.style[r]=a[r];return i};function de(e,t,n,o){var i,r,a=20,s=o?function(){return o.cur()}:function(){return S.css(e,t,"")},l=s(),c=n&&n[3]||(S.cssNumber[t]?"":"px"),u=e.nodeType&&(S.cssNumber[t]||"px"!==c&&+l)&&ie.exec(S.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)S.style(e,t,u+c),(1-r)*(1-(r=s()/l||.5))<=0&&(a=0),u/=r;u*=2,S.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],o&&(o.unit=c,o.start=u,o.end=i)),i}var pe={};function fe(e){var t,n=e.ownerDocument,o=e.nodeName,i=pe[o];return i||(t=n.body.appendChild(n.createElement(o)),i=S.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),pe[o]=i,i)}function he(e,t){for(var n,o,i=[],r=0,a=e.length;r<a;r++)(o=e[r]).style&&(n=o.style.display,t?("none"===n&&(i[r]=Q.get(o,"display")||null,i[r]||(o.style.display="")),""===o.style.display&&ce(o)&&(i[r]=fe(o))):"none"!==n&&(i[r]="none",Q.set(o,"display",n)));for(r=0;r<a;r++)null!=i[r]&&(e[r].style.display=i[r]);return e}S.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ce(this)?S(this).show():S(this).hide()})}});var me=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i,be={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?S.merge([e],n):n}function we(e,t){for(var n=0,o=e.length;n<o;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}be.optgroup=be.option,be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td;var Ce,xe,Se=/<|&#?\w+;/;function ke(e,t,n,o,i){for(var r,a,s,l,c,u,d=t.createDocumentFragment(),p=[],f=0,h=e.length;f<h;f++)if((r=e[f])||0===r)if("object"===x(r))S.merge(p,r.nodeType?[r]:r);else if(Se.test(r)){for(a=a||d.appendChild(t.createElement("div")),s=(ge.exec(r)||["",""])[1].toLowerCase(),l=be[s]||be._default,a.innerHTML=l[1]+S.htmlPrefilter(r)+l[2],u=l[0];u--;)a=a.lastChild;S.merge(p,a.childNodes),(a=d.firstChild).textContent=""}else p.push(t.createTextNode(r));for(d.textContent="",f=0;r=p[f++];)if(o&&S.inArray(r,o)>-1)i&&i.push(r);else if(c=se(r),a=ye(d.appendChild(r),"script"),c&&we(a),n)for(u=0;r=a[u++];)ve.test(r.type||"")&&n.push(r);return d}Ce=a.createDocumentFragment().appendChild(a.createElement("div")),(xe=a.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),Ce.appendChild(xe),v.checkClone=Ce.cloneNode(!0).cloneNode(!0).lastChild.checked,Ce.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!Ce.cloneNode(!0).lastChild.defaultValue;var Te=/^key/,_e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\.(.+)|)/;function Ie(){return!0}function Ae(){return!1}function Pe(e,t){return e===function(){try{return a.activeElement}catch(e){}}()==("focus"===t)}function De(e,t,n,o,i,r){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(o=o||n,n=void 0),t)De(e,s,n,o,t[s],r);return e}if(null==o&&null==i?(i=n,o=n=void 0):null==i&&("string"==typeof n?(i=o,o=void 0):(i=o,o=n,n=void 0)),!1===i)i=Ae;else if(!i)return e;return 1===r&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,o,n)})}function Ne(e,t,n){n?(Q.set(e,t,!1),S.event.add(e,t,{namespace:!1,handler:function(e){var o,i,r=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(r.length)(S.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=l.call(arguments),Q.set(this,t,r),o=n(this,t),this[t](),r!==(i=Q.get(this,t))||o?Q.set(this,t,!1):i={},r!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else r.length&&(Q.set(this,t,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,t)&&S.event.add(e,t,Ie)}S.event={global:{},add:function(e,t,n,o,i){var r,a,s,l,c,u,d,p,f,h,m,g=Q.get(e);if(g)for(n.handler&&(n=(r=n).handler,i=r.selector),i&&S.find.matchesSelector(ae,i),n.guid||(n.guid=S.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(O)||[""]).length;c--;)f=m=(s=Ee.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),f&&(d=S.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=S.event.special[f]||{},u=S.extend({type:f,origType:m,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},r),(p=l[f])||((p=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,o,h,a)||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),S.event.global[f]=!0)},remove:function(e,t,n,o,i){var r,a,s,l,c,u,d,p,f,h,m,g=Q.hasData(e)&&Q.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(O)||[""]).length;c--;)if(f=m=(s=Ee.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),f){for(d=S.event.special[f]||{},p=l[f=(o?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=p.length;r--;)u=p[r],!i&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||o&&o!==u.selector&&("**"!==o||!u.selector)||(p.splice(r,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||S.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)S.event.remove(e,f+t[c],n,o,!0);S.isEmptyObject(l)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,o,i,r,a,s=S.event.fix(e),l=new Array(arguments.length),c=(Q.get(this,"events")||{})[s.type]||[],u=S.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=S.event.handlers.call(this,s,c),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==r.namespace&&!s.rnamespace.test(r.namespace)||(s.handleObj=r,s.data=r.data,void 0!==(o=((S.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,l))&&!1===(s.result=o)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,o,i,r,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],a={},n=0;n<l;n++)void 0===a[i=(o=t[n]).selector+" "]&&(a[i]=o.needsContext?S(i,this).index(c)>-1:S.find(i,this,null,[c]).length),a[i]&&r.push(o);r.length&&s.push({elem:c,handlers:r})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(S.Event.prototype,e,{enumerable:!0,configurable:!0,get:b(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return me.test(t.type)&&t.click&&P(t,"input")&&Ne(t,"click",Ie),!1},trigger:function(e){var t=this||e;return me.test(t.type)&&t.click&&P(t,"input")&&Ne(t,"click"),!0},_default:function(e){var t=e.target;return me.test(t.type)&&t.click&&P(t,"input")&&Q.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ie:Ae,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Ae,isPropagationStopped:Ae,isImmediatePropagationStopped:Ae,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ie,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ie,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ie,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&_e.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Ne(this,e,Pe),!1},trigger:function(){return Ne(this,e),!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){S.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=this,i=e.relatedTarget,r=e.handleObj;return i&&(i===o||S.contains(o,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),S.fn.extend({on:function(e,t,n,o){return De(this,e,t,n,o)},one:function(e,t,n,o){return De(this,e,t,n,o,1)},off:function(e,t,n){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,S(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ae),this.each(function(){S.event.remove(this,e,n,t)})}});var Le=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Fe=/<script|<style|<link/i,Re=/checked\s*(?:[^=]|=\s*.checked.)/i,$e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Me(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function He(e,t){var n,o,i,r,a,s,l,c;if(1===t.nodeType){if(Q.hasData(e)&&(r=Q.access(e),a=Q.set(t,r),c=r.events))for(i in delete a.handle,a.events={},c)for(n=0,o=c[i].length;n<o;n++)S.event.add(t,i,c[i][n]);J.hasData(e)&&(s=J.access(e),l=S.extend({},s),J.set(t,l))}}function ze(e,t){var n=t.nodeName.toLowerCase();"input"===n&&me.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function je(e,t,n,o){t=c.apply([],t);var i,r,a,s,l,u,d=0,p=e.length,f=p-1,h=t[0],m=b(h);if(m||p>1&&"string"==typeof h&&!v.checkClone&&Re.test(h))return e.each(function(i){var r=e.eq(i);m&&(t[0]=h.call(this,i,r.html())),je(r,t,n,o)});if(p&&(r=(i=ke(t,e[0].ownerDocument,!1,e,o)).firstChild,1===i.childNodes.length&&(i=r),r||o)){for(s=(a=S.map(ye(i,"script"),Oe)).length;d<p;d++)l=i,d!==f&&(l=S.clone(l,!0,!0),s&&S.merge(a,ye(l,"script"))),n.call(e[d],l,d);if(s)for(u=a[a.length-1].ownerDocument,S.map(a,Be),d=0;d<s;d++)l=a[d],ve.test(l.type||"")&&!Q.access(l,"globalEval")&&S.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&!l.noModule&&S._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):C(l.textContent.replace($e,""),l,u))}return e}function Ue(e,t,n){for(var o,i=t?S.filter(t,e):e,r=0;null!=(o=i[r]);r++)n||1!==o.nodeType||S.cleanData(ye(o)),o.parentNode&&(n&&se(o)&&we(ye(o,"script")),o.parentNode.removeChild(o));return e}S.extend({htmlPrefilter:function(e){return e.replace(Le,"<$1></$2>")},clone:function(e,t,n){var o,i,r,a,s=e.cloneNode(!0),l=se(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ye(s),o=0,i=(r=ye(e)).length;o<i;o++)ze(r[o],a[o]);if(t)if(n)for(r=r||ye(e),a=a||ye(s),o=0,i=r.length;o<i;o++)He(r[o],a[o]);else He(e,s);return(a=ye(s,"script")).length>0&&we(a,!l&&ye(e,"script")),s},cleanData:function(e){for(var t,n,o,i=S.event.special,r=0;void 0!==(n=e[r]);r++)if(Y(n)){if(t=n[Q.expando]){if(t.events)for(o in t.events)i[o]?S.event.remove(n,o):S.removeEvent(n,o,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Ue(this,e,!0)},remove:function(e){return Ue(this,e)},text:function(e){return q(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return je(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)})},prepend:function(){return je(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Me(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return je(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return je(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return q(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Fe.test(e)&&!be[(ge.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return je(this,arguments,function(t){var n=this.parentNode;S.inArray(this,e)<0&&(S.cleanData(ye(this)),n&&n.replaceChild(t,this))},e)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){S.fn[e]=function(e){for(var n,o=[],i=S(e),r=i.length-1,a=0;a<=r;a++)n=a===r?this:this.clone(!0),S(i[a])[t](n),u.apply(o,n.get());return this.pushStack(o)}});var We=new RegExp("^("+oe+")(?!px)[a-z%]+$","i"),qe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Ve=new RegExp(re.join("|"),"i");function Ge(e,t,n){var o,i,r,a,s=e.style;return(n=n||qe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||se(e)||(a=S.style(e,t)),!v.pixelBoxStyles()&&We.test(a)&&Ve.test(t)&&(o=s.width,i=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=o,s.minWidth=i,s.maxWidth=r)),void 0!==a?a+"":a}function Ke(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(c).appendChild(u);var e=n.getComputedStyle(u);o="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),i=36===t(e.width),u.style.position="absolute",r=12===t(u.offsetWidth/3),ae.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var o,i,r,s,l,c=a.createElement("div"),u=a.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===u.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),o},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),r}}))}();var Ze=["Webkit","Moz","ms"],Ye=a.createElement("div").style,Xe={};function Qe(e){var t=S.cssProps[e]||Xe[e];return t||(e in Ye?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ze.length;n--;)if((e=Ze[n]+t)in Ye)return e}(e)||e)}var Je=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function ot(e,t,n){var o=ie.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function it(e,t,n,o,i,r){var a="width"===t?1:0,s=0,l=0;if(n===(o?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=S.css(e,n+re[a],!0,i)),o?("content"===n&&(l-=S.css(e,"padding"+re[a],!0,i)),"margin"!==n&&(l-=S.css(e,"border"+re[a]+"Width",!0,i))):(l+=S.css(e,"padding"+re[a],!0,i),"padding"!==n?l+=S.css(e,"border"+re[a]+"Width",!0,i):s+=S.css(e,"border"+re[a]+"Width",!0,i));return!o&&r>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-s-.5))||0),l}function rt(e,t,n){var o=qe(e),i=(!v.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,o),r=i,a=Ge(e,t,o),s="offset"+t[0].toUpperCase()+t.slice(1);if(We.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,o))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,o),(r=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(i?"border":"content"),r,o,a)+"px"}function at(e,t,n,o,i){return new at.prototype.init(e,t,n,o,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,a,s=Z(t),l=et.test(t),c=e.style;if(l||(t=Qe(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,o))?i:c[t];"string"===(r=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=de(e,t,i),r="number"),null!=n&&n==n&&("number"!==r||l||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,o))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,o){var i,r,a,s=Z(t);return et.test(t)||(t=Qe(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ge(e,t,o)),"normal"===i&&t in nt&&(i=nt[t]),""===n||n?(r=parseFloat(i),!0===n||isFinite(r)?r||0:i):i}}),S.each(["height","width"],function(e,t){S.cssHooks[t]={get:function(e,n,o){if(n)return!Je.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?rt(e,t,o):ue(e,tt,function(){return rt(e,t,o)})},set:function(e,n,o){var i,r=qe(e),a=!v.scrollboxSize()&&"absolute"===r.position,s=(a||o)&&"border-box"===S.css(e,"boxSizing",!1,r),l=o?it(e,t,o,s,r):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-it(e,t,"border",!1,r)-.5)),l&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=S.css(e,t)),ot(0,n,l)}}}),S.cssHooks.marginLeft=Ke(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(e,t){S.cssHooks[e+t]={expand:function(n){for(var o=0,i={},r="string"==typeof n?n.split(" "):[n];o<4;o++)i[e+re[o]+t]=r[o]||r[o-2]||r[0];return i}},"margin"!==e&&(S.cssHooks[e+t].set=ot)}),S.fn.extend({css:function(e,t){return q(this,function(e,t,n){var o,i,r={},a=0;if(Array.isArray(t)){for(o=qe(e),i=t.length;a<i;a++)r[t[a]]=S.css(e,t[a],!1,o);return r}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,arguments.length>1)}}),S.Tween=at,at.prototype={constructor:at,init:function(e,t,n,o,i,r){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=r||(S.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}},at.prototype.init.prototype=at.prototype,at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[Qe(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}},at.propHooks.scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=at.prototype.init,S.fx.step={};var st,lt,ct=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function dt(){lt&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(dt):n.setTimeout(dt,S.fx.interval),S.fx.tick())}function pt(){return n.setTimeout(function(){st=void 0}),st=Date.now()}function ft(e,t){var n,o=0,i={height:e};for(t=t?1:0;o<4;o+=2-t)i["margin"+(n=re[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ht(e,t,n){for(var o,i=(mt.tweeners[t]||[]).concat(mt.tweeners["*"]),r=0,a=i.length;r<a;r++)if(o=i[r].call(n,t,e))return o}function mt(e,t,n){var o,i,r=0,a=mt.prefilters.length,s=S.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=st||pt(),n=Math.max(0,c.startTime+c.duration-t),o=1-(n/c.duration||0),r=0,a=c.tweens.length;r<a;r++)c.tweens[r].run(o);return s.notifyWith(e,[c,o,n]),o<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:t,originalOptions:n,startTime:st||pt(),duration:n.duration,tweens:[],createTween:function(t,n){var o=S.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(o),o},stop:function(t){var n=0,o=t?c.tweens.length:0;if(i)return this;for(i=!0;n<o;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,o,i,r,a;for(n in e)if(i=t[o=Z(n)],r=e[n],Array.isArray(r)&&(i=r[1],r=e[n]=r[0]),n!==o&&(e[o]=r,delete e[n]),(a=S.cssHooks[o])&&"expand"in a)for(n in r=a.expand(r),delete e[o],r)n in e||(e[n]=r[n],t[n]=i);else t[o]=i}(u,c.opts.specialEasing);r<a;r++)if(o=mt.prefilters[r].call(c,e,u,c.opts))return b(o.stop)&&(S._queueHooks(c.elem,c.opts.queue).stop=o.stop.bind(o)),o;return S.map(u,ht,c),b(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),S.fx.timer(S.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}S.Animation=S.extend(mt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return de(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){b(e)?(t=e,e=["*"]):e=e.match(O);for(var n,o=0,i=e.length;o<i;o++)n=e[o],mt.tweeners[n]=mt.tweeners[n]||[],mt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var o,i,r,a,s,l,c,u,d="width"in t||"height"in t,p=this,f={},h=e.style,m=e.nodeType&&ce(e),g=Q.get(e,"fxshow");for(o in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[o],ct.test(i)){if(delete t[o],r=r||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[o])continue;m=!0}f[o]=g&&g[o]||S.style(e,o)}if((l=!S.isEmptyObject(t))||!S.isEmptyObject(f))for(o in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=g&&g.display)&&(c=Q.get(e,"display")),"none"===(u=S.css(e,"display"))&&(c?u=c:(he([e],!0),c=e.style.display||c,u=S.css(e,"display"),he([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===S.css(e,"float")&&(l||(p.done(function(){h.display=c}),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=Q.access(e,"fxshow",{display:c}),r&&(g.hidden=!m),m&&he([e],!0),p.done(function(){for(o in m||he([e]),Q.remove(e,"fxshow"),f)S.style(e,o,f[o])})),l=ht(m?g[o]:0,o,p),o in g||(g[o]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?mt.prefilters.unshift(e):mt.prefilters.push(e)}}),S.speed=function(e,t,n){var o=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||b(e)&&e,duration:e,easing:n&&t||t&&!b(t)&&t};return S.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in S.fx.speeds?o.duration=S.fx.speeds[o.duration]:o.duration=S.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){b(o.old)&&o.old.call(this),o.queue&&S.dequeue(this,o.queue)},o},S.fn.extend({fadeTo:function(e,t,n,o){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var i=S.isEmptyObject(e),r=S.speed(t,n,o),a=function(){var t=mt(this,S.extend({},e),r);(i||Q.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",r=S.timers,a=Q.get(this);if(i)a[i]&&a[i].stop&&o(a[i]);else for(i in a)a[i]&&a[i].stop&&ut.test(i)&&o(a[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(n),t=!1,r.splice(i,1));!t&&n||S.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Q.get(this),o=n[e+"queue"],i=n[e+"queueHooks"],r=S.timers,a=o?o.length:0;for(n.finish=!0,S.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish})}}),S.each(["toggle","show","hide"],function(e,t){var n=S.fn[t];S.fn[t]=function(e,o,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ft(t,!0),e,o,i)}}),S.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){S.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),st=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){lt||(lt=!0,dt())},S.fx.stop=function(){lt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(e,t){return e=S.fx&&S.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,o){var i=n.setTimeout(t,e);o.stop=function(){n.clearTimeout(i)}})},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var gt,vt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return q(this,S.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var o,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?S.prop(e,t,n):(1===r&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=S.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,i=t&&t.match(O);if(i&&1===e.nodeType)for(;n=i[o++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vt[t]||S.find.attr;vt[t]=function(e,t,o){var i,r,a=t.toLowerCase();return o||(r=vt[a],vt[a]=i,i=null!=n(e,t,o)?a:null,vt[a]=r),i}});var bt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function wt(e){return(e.match(O)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(O)||[]}S.fn.extend({prop:function(e,t){return q(this,S.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var o,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:e[t]=n:i&&"get"in i&&null!==(o=i.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(e){var t,n,o,i,r,a,s,l=0;if(b(e))return this.each(function(t){S(this).addClass(e.call(this,t,Ct(this)))});if((t=xt(e)).length)for(;n=this[l++];)if(i=Ct(n),o=1===n.nodeType&&" "+wt(i)+" "){for(a=0;r=t[a++];)o.indexOf(" "+r+" ")<0&&(o+=r+" ");i!==(s=wt(o))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,o,i,r,a,s,l=0;if(b(e))return this.each(function(t){S(this).removeClass(e.call(this,t,Ct(this)))});if(!arguments.length)return this.attr("class","");if((t=xt(e)).length)for(;n=this[l++];)if(i=Ct(n),o=1===n.nodeType&&" "+wt(i)+" "){for(a=0;r=t[a++];)for(;o.indexOf(" "+r+" ")>-1;)o=o.replace(" "+r+" "," ");i!==(s=wt(o))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,o="string"===n||Array.isArray(e);return"boolean"==typeof t&&o?t?this.addClass(e):this.removeClass(e):b(e)?this.each(function(n){S(this).toggleClass(e.call(this,n,Ct(this),t),t)}):this.each(function(){var t,i,r,a;if(o)for(i=0,r=S(this),a=xt(e);t=a[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=Ct(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&(" "+wt(Ct(n))+" ").indexOf(t)>-1)return!0;return!1}});var St=/\r/g;S.fn.extend({val:function(e){var t,n,o,i=this[0];return arguments.length?(o=b(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=o?e.call(this,n,S(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=S.map(i,function(e){return null==e?"":e+""})),(t=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=S.valHooks[i.type]||S.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(St,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:wt(S.text(e))}},select:{get:function(e){var t,n,o,i=e.options,r=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?r+1:i.length;for(o=r<0?l:a?r:0;o<l;o++)if(((n=i[o]).selected||o===r)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,o,i=e.options,r=S.makeArray(t),a=i.length;a--;)((o=i[a]).selected=S.inArray(S.valHooks.option.get(o),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=S.inArray(S(e).val(),t)>-1}},v.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in n;var kt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,o,i){var r,s,l,c,u,d,p,f,m=[o||a],g=h.call(e,"type")?e.type:e,v=h.call(e,"namespace")?e.namespace.split("."):[];if(s=f=l=o=o||a,3!==o.nodeType&&8!==o.nodeType&&!kt.test(g+S.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),u=g.indexOf(":")<0&&"on"+g,(e=e[S.expando]?e:new S.Event(g,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),t=null==t?[e]:S.makeArray(t,[e]),p=S.event.special[g]||{},i||!p.trigger||!1!==p.trigger.apply(o,t))){if(!i&&!p.noBubble&&!y(o)){for(c=p.delegateType||g,kt.test(c+g)||(s=s.parentNode);s;s=s.parentNode)m.push(s),l=s;l===(o.ownerDocument||a)&&m.push(l.defaultView||l.parentWindow||n)}for(r=0;(s=m[r++])&&!e.isPropagationStopped();)f=s,e.type=r>1?c:p.bindType||g,(d=(Q.get(s,"events")||{})[e.type]&&Q.get(s,"handle"))&&d.apply(s,t),(d=u&&s[u])&&d.apply&&Y(s)&&(e.result=d.apply(s,t),!1===e.result&&e.preventDefault());return e.type=g,i||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(m.pop(),t)||!Y(o)||u&&b(o[g])&&!y(o)&&((l=o[u])&&(o[u]=null),S.event.triggered=g,e.isPropagationStopped()&&f.addEventListener(g,Tt),o[g](),e.isPropagationStopped()&&f.removeEventListener(g,Tt),S.event.triggered=void 0,l&&(o[u]=l)),e.result}},simulate:function(e,t,n){var o=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(o,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){S.event.simulate(t,e.target,S.event.fix(e))};S.event.special[t]={setup:function(){var o=this.ownerDocument||this,i=Q.access(o,t);i||o.addEventListener(e,n,!0),Q.access(o,t,(i||0)+1)},teardown:function(){var o=this.ownerDocument||this,i=Q.access(o,t)-1;i?Q.access(o,t,i):(o.removeEventListener(e,n,!0),Q.remove(o,t))}}});var _t=n.location,Et=Date.now(),It=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var At=/\[\]$/,Pt=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function Lt(e,t,n,o){var i;if(Array.isArray(t))S.each(t,function(t,i){n||At.test(e)?o(e,i):Lt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,o)});else if(n||"object"!==x(t))o(e,t);else for(i in t)Lt(e+"["+i+"]",t[i],n,o)}S.param=function(e,t){var n,o=[],i=function(e,t){var n=b(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)Lt(n,e[n],t,i);return o.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Nt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!me.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}}):{name:t.name,value:n.replace(Pt,"\r\n")}}).get()}});var Ft=/%20/g,Rt=/#.*$/,$t=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Bt=/^\/\//,Ht={},zt={},jt="*/".concat("*"),Ut=a.createElement("a");function Wt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,i=0,r=t.toLowerCase().match(O)||[];if(b(n))for(;o=r[i++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function qt(e,t,n,o){var i={},r=e===zt;function a(s){var l;return i[s]=!0,S.each(e[s]||[],function(e,s){var c=s(t,n,o);return"string"!=typeof c||r||i[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Vt(e,t){var n,o,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:o||(o={}))[n]=t[n]);return o&&S.extend(!0,e,o),e}Ut.href=_t.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,S.ajaxSettings),t):Vt(S.ajaxSettings,e)},ajaxPrefilter:Wt(Ht),ajaxTransport:Wt(zt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,i,r,s,l,c,u,d,p,f,h=S.ajaxSetup({},t),m=h.context||h,g=h.context&&(m.nodeType||m.jquery)?S(m):S.event,v=S.Deferred(),b=S.Callbacks("once memory"),y=h.statusCode||{},w={},C={},x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Mt.exec(r);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?r:null},setRequestHeader:function(e,t){return null==u&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)k.always(e[k.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||x;return o&&o.abort(t),T(0,t),this}};if(v.promise(k),h.url=((e||h.url||_t.href)+"").replace(Bt,_t.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(O)||[""],null==h.crossDomain){c=a.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=Ut.protocol+"//"+Ut.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=S.param(h.data,h.traditional)),qt(Ht,h,t,k),u)return k;for(p in(d=S.event&&h.global)&&0==S.active++&&S.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ot.test(h.type),i=h.url.replace(Rt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Ft,"+")):(f=h.url.slice(i.length),h.data&&(h.processData||"string"==typeof h.data)&&(i+=(It.test(i)?"&":"?")+h.data,delete h.data),!1===h.cache&&(i=i.replace($t,"$1"),f=(It.test(i)?"&":"?")+"_="+Et+++f),h.url=i+f),h.ifModified&&(S.lastModified[i]&&k.setRequestHeader("If-Modified-Since",S.lastModified[i]),S.etag[i]&&k.setRequestHeader("If-None-Match",S.etag[i])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+jt+"; q=0.01":""):h.accepts["*"]),h.headers)k.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(m,k,h)||u))return k.abort();if(x="abort",b.add(h.complete),k.done(h.success),k.fail(h.error),o=qt(zt,h,t,k)){if(k.readyState=1,d&&g.trigger("ajaxSend",[k,h]),u)return k;h.async&&h.timeout>0&&(l=n.setTimeout(function(){k.abort("timeout")},h.timeout));try{u=!1,o.send(w,T)}catch(e){if(u)throw e;T(-1,e)}}else T(-1,"No Transport");function T(e,t,a,s){var c,p,f,w,C,x=t;u||(u=!0,l&&n.clearTimeout(l),o=void 0,r=s||"",k.readyState=e>0?4:0,c=e>=200&&e<300||304===e,a&&(w=function(e,t,n){for(var o,i,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(i in s)if(s[i]&&s[i].test(o)){l.unshift(i);break}if(l[0]in n)r=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){r=i;break}a||(a=i)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}(h,k,a)),w=function(e,t,n,o){var i,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(i in c)if((s=i.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(h,w,k,c),c?(h.ifModified&&((C=k.getResponseHeader("Last-Modified"))&&(S.lastModified[i]=C),(C=k.getResponseHeader("etag"))&&(S.etag[i]=C)),204===e||"HEAD"===h.type?x="nocontent":304===e?x="notmodified":(x=w.state,p=w.data,c=!(f=w.error))):(f=x,!e&&x||(x="error",e<0&&(e=0))),k.status=e,k.statusText=(t||x)+"",c?v.resolveWith(m,[p,x,k]):v.rejectWith(m,[k,x,f]),k.statusCode(y),y=void 0,d&&g.trigger(c?"ajaxSuccess":"ajaxError",[k,h,c?p:f]),b.fireWith(m,[k,x]),d&&(g.trigger("ajaxComplete",[k,h]),--S.active||S.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,t){S[t]=function(e,n,o,i){return b(n)&&(i=i||o,o=n,n=void 0),S.ajax(S.extend({url:e,type:t,dataType:i,data:n,success:o},S.isPlainObject(e)&&e))}}),S._evalUrl=function(e,t){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(b(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return b(e)?this.each(function(t){S(this).wrapInner(e.call(this,t))}):this.each(function(){var t=S(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b(e);return this.each(function(n){S(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204},Kt=S.ajaxSettings.xhr();v.cors=!!Kt&&"withCredentials"in Kt,v.ajax=Kt=!!Kt,S.ajaxTransport(function(e){var t,o;if(v.cors||Kt&&!e.crossDomain)return{send:function(i,r){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=o=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(Gt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),o=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=o:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&o()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(o,i){t=S("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}});var Zt,Yt=[],Xt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||S.expando+"_"+Et++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,o){var i,r,a,s=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Xt,"$1"+i):!1!==e.jsonp&&(e.url+=(It.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||S.error(i+" was not called"),a[0]},e.dataTypes[0]="json",r=n[i],n[i]=function(){a=arguments},o.always(function(){void 0===r?S(n).removeProp(i):n[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(i)),a&&b(r)&&r(a[0]),a=r=void 0}),"script"}),v.createHTMLDocument=((Zt=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Zt.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((o=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(o)):t=a),r=!n&&[],(i=D.exec(e))?[t.createElement(i[1])]:(i=ke([e],t,r),r&&r.length&&S(r).remove(),S.merge([],i.childNodes)));var o,i,r},S.fn.load=function(e,t,n){var o,i,r,a=this,s=e.indexOf(" ");return s>-1&&(o=wt(e.slice(s)),e=e.slice(0,s)),b(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){r=arguments,a.html(o?S("<div>").append(S.parseHTML(e)).find(o):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.expr.pseudos.animated=function(e){return S.grep(S.timers,function(t){return e===t.elem}).length},S.offset={setOffset:function(e,t,n){var o,i,r,a,s,l,c=S.css(e,"position"),u=S(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),r=S.css(e,"top"),l=S.css(e,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(a=(o=u.position()).top,i=o.left):(a=parseFloat(r)||0,i=parseFloat(l)||0),b(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):u.css(d)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){S.offset.setOffset(this,e,t)});var t,n,o=this[0];return o?o.getClientRects().length?(t=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,o=this[0],i={top:0,left:0};if("fixed"===S.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(o,"marginTop",!0),left:t.left-i.left-S.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||ae})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;S.fn[e]=function(o){return q(this,function(e,o,i){var r;if(y(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===i)return r?r[t]:e[o];r?r.scrollTo(n?r.pageXOffset:i,n?i:r.pageYOffset):e[o]=i},e,o,arguments.length)}}),S.each(["top","left"],function(e,t){S.cssHooks[t]=Ke(v.pixelPosition,function(e,n){if(n)return n=Ge(e,t),We.test(n)?S(e).position()[t]+"px":n})}),S.each({Height:"height",Width:"width"},function(e,t){S.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,o){S.fn[o]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return q(this,function(t,n,i){var r;return y(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?S.css(t,n,s):S.style(t,n,i,s)},t,a?i:void 0,a)}})}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){S.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),S.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),S.proxy=function(e,t){var n,o,i;if("string"==typeof t&&(n=e[t],t=e,e=n),b(e))return o=l.call(arguments,2),(i=function(){return e.apply(t||this,o.concat(l.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=P,S.isFunction=b,S.isWindow=y,S.camelCase=Z,S.type=x,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(o=function(){return S}.apply(t,[]))||(e.exports=o);var Qt=n.jQuery,Jt=n.$;return S.noConflict=function(e){return n.$===S&&(n.$=Jt),e&&n.jQuery===S&&(n.jQuery=Qt),S},i||(n.jQuery=n.$=S),S})},function(e,t,n){var o,i,r={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=o.apply(this,arguments)),i}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var o=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),l=null,c=0,u=[],d=n(8);function p(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(b(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(b(o.parts[a],t));r[o.id]={id:o.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],o={},i=0;i<e.length;i++){var r=e[i],a=t.base?r[0]+t.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=u[u.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertAt.before,n);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=function(){0;return n.nc}();o&&(e.attrs.nonce=o)}return v(t,e.attrs),h(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,o,i,r;if(t.transform&&e.css){if(!(r="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var a=c++;n=l||(l=g(t)),o=C.bind(null,n,a,!1),i=C.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),h(e,t),t}(t),o=function(e,t,n){var o=n.css,i=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||r)&&(o=d(o));i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return p(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var a=n[i];(s=r[a.id]).refs--,o.push(s)}e&&p(f(e,t),t);for(i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var y,w=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function C(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";n.r(t);n(0),n(5),n(6),n(9),n(11),n(12),n(14),n(15),n(17),n(18),n(19),n(20),n(21),n(24),n(26)},function(e,t,n){"use strict";(function(e){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.15.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var t="undefined"!=typeof window&&"undefined"!=typeof document;const n=["Edge","Trident","Firefox"];let o=0;for(let e=0;e<n.length;e+=1)if(t&&navigator.userAgent.indexOf(n[e])>=0){o=1;break}var i=t&&window.Promise?function(e){let t=!1;return()=>{t||(t=!0,window.Promise.resolve().then(()=>{t=!1,e()}))}}:function(e){let t=!1;return()=>{t||(t=!0,setTimeout(()=>{t=!1,e()},o))}};function r(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];const n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}const{overflow:t,overflowX:n,overflowY:o}=a(e);return/(auto|scroll|overlay)/.test(t+o+n)?e:l(s(e))}const c=t&&!(!window.MSInputMethodContext||!document.documentMode),u=t&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?c:10===e?u:c||u}function p(e){if(!e)return document.documentElement;const t=d(10)?document.body:null;let n=e.offsetParent||null;for(;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;const o=n&&n.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function f(e){return null!==e.parentNode?f(e.parentNode):e}function h(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;const n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?e:t,i=n?t:e,r=document.createRange();r.setStart(o,0),r.setEnd(i,0);const{commonAncestorContainer:a}=r;if(e!==a&&t!==a||o.contains(i))return function(e){const{nodeName:t}=e;return"BODY"!==t&&("HTML"===t||p(e.firstElementChild)===e)}(a)?a:p(a);const s=f(e);return s.host?h(s.host,t):h(e,f(t).host)}function m(e,t="top"){const n="top"===t?"scrollTop":"scrollLeft",o=e.nodeName;if("BODY"===o||"HTML"===o){const t=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||t)[n]}return e[n]}function g(e,t){const n="x"===t?"Left":"Top",o="Left"===n?"Right":"Bottom";return parseFloat(e[`border${n}Width`],10)+parseFloat(e[`border${o}Width`],10)}function v(e,t,n,o){return Math.max(t[`offset${e}`],t[`scroll${e}`],n[`client${e}`],n[`offset${e}`],n[`scroll${e}`],d(10)?parseInt(n[`offset${e}`])+parseInt(o[`margin${"Height"===e?"Top":"Left"}`])+parseInt(o[`margin${"Height"===e?"Bottom":"Right"}`]):0)}function b(e){const t=e.body,n=e.documentElement,o=d(10)&&getComputedStyle(n);return{height:v("Height",t,n,o),width:v("Width",t,n,o)}}var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function w(e){return y({},e,{right:e.left+e.width,bottom:e.top+e.height})}function C(e){let t={};try{if(d(10)){t=e.getBoundingClientRect();const n=m(e,"top"),o=m(e,"left");t.top+=n,t.left+=o,t.bottom+=n,t.right+=o}else t=e.getBoundingClientRect()}catch(e){}const n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?b(e.ownerDocument):{},i=o.width||e.clientWidth||n.right-n.left,r=o.height||e.clientHeight||n.bottom-n.top;let s=e.offsetWidth-i,l=e.offsetHeight-r;if(s||l){const t=a(e);s-=g(t,"x"),l-=g(t,"y"),n.width-=s,n.height-=l}return w(n)}function x(e,t,n=!1){const o=d(10),i="HTML"===t.nodeName,r=C(e),s=C(t),c=l(e),u=a(t),p=parseFloat(u.borderTopWidth,10),f=parseFloat(u.borderLeftWidth,10);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));let h=w({top:r.top-s.top-p,left:r.left-s.left-f,width:r.width,height:r.height});if(h.marginTop=0,h.marginLeft=0,!o&&i){const e=parseFloat(u.marginTop,10),t=parseFloat(u.marginLeft,10);h.top-=p-e,h.bottom-=p-e,h.left-=f-t,h.right-=f-t,h.marginTop=e,h.marginLeft=t}return(o&&!n?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(h=function(e,t,n=!1){const o=m(t,"top"),i=m(t,"left"),r=n?-1:1;return e.top+=o*r,e.bottom+=o*r,e.left+=i*r,e.right+=i*r,e}(h,t)),h}function S(e){if(!e||!e.parentElement||d())return document.documentElement;let t=e.parentElement;for(;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function k(e,t,n,o,i=!1){let r={top:0,left:0};const c=i?S(e):h(e,t);if("viewport"===o)r=function(e,t=!1){const n=e.ownerDocument.documentElement,o=x(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:m(n),s=t?0:m(n,"left");return w({top:a-o.top+o.marginTop,left:s-o.left+o.marginLeft,width:i,height:r})}(c,i);else{let n;"scrollParent"===o?"BODY"===(n=l(s(t))).nodeName&&(n=e.ownerDocument.documentElement):n="window"===o?e.ownerDocument.documentElement:o;const u=x(n,c,i);if("HTML"!==n.nodeName||function e(t){const n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===a(t,"position"))return!0;const o=s(t);return!!o&&e(o)}(c))r=u;else{const{height:t,width:n}=b(e.ownerDocument);r.top+=u.top-u.marginTop,r.bottom=t+u.top,r.left+=u.left-u.marginLeft,r.right=n+u.left}}const u="number"==typeof(n=n||0);return r.left+=u?n:n.left||0,r.top+=u?n:n.top||0,r.right-=u?n:n.right||0,r.bottom-=u?n:n.bottom||0,r}function T({width:e,height:t}){return e*t}function _(e,t,n,o,i,r=0){if(-1===e.indexOf("auto"))return e;const a=k(n,o,r,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map(e=>y({key:e},s[e],{area:T(s[e])})).sort((e,t)=>t.area-e.area),c=l.filter(({width:e,height:t})=>e>=n.clientWidth&&t>=n.clientHeight),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?`-${d}`:"")}function E(e,t,n,o=null){return x(n,o?S(t):h(t,n),o)}function I(e){const t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),o=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+o,height:e.offsetHeight+n}}function A(e){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,e=>t[e])}function P(e,t,n){n=n.split("-")[0];const o=I(e),i={width:o.width,height:o.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",s=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return i[a]=t[a]+t[l]/2-o[l]/2,i[s]=n===s?t[s]-o[c]:t[A(s)],i}function D(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function N(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(e=>e[t]===n);const o=D(e,e=>e[t]===n);return e.indexOf(o)}(e,"name",n))).forEach(e=>{e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");const n=e.function||e.fn;e.enabled&&r(n)&&(t.offsets.popper=w(t.offsets.popper),t.offsets.reference=w(t.offsets.reference),t=n(t,e))}),t}function L(e,t){return e.some(({name:e,enabled:n})=>n&&e===t)}function F(e){const t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1);for(let o=0;o<t.length;o++){const i=t[o],r=i?`${i}${n}`:e;if(void 0!==document.body.style[r])return r}return null}function R(e){const t=e.ownerDocument;return t?t.defaultView:window}function $(e,t,n,o){n.updateBound=o,R(e).addEventListener("resize",n.updateBound,{passive:!0});const i=l(e);return function e(t,n,o,i){const r="BODY"===t.nodeName,a=r?t.ownerDocument.defaultView:t;a.addEventListener(n,o,{passive:!0}),r||e(l(a.parentNode),n,o,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function M(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,R(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(e=>{e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function O(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function B(e,t){Object.keys(t).forEach(n=>{let o="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&O(t[n])&&(o="px"),e.style[n]=t[n]+o})}const H=t&&/Firefox/i.test(navigator.userAgent);function z(e,t,n){const o=D(e,({name:e})=>e===t),i=!!o&&e.some(e=>e.name===n&&e.enabled&&e.order<o.order);if(!i){const e=`\`${t}\``,o=`\`${n}\``;console.warn(`${o} modifier is required by ${e} modifier in order to work, be sure to include it before ${e}!`)}return i}var j=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];const U=j.slice(3);function W(e,t=!1){const n=U.indexOf(e),o=U.slice(n+1).concat(U.slice(0,n));return t?o.reverse():o}const q={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function V(e,t,n,o){const i=[0,0],r=-1!==["right","left"].indexOf(o),a=e.split(/(\+|\-)/).map(e=>e.trim()),s=a.indexOf(D(a,e=>-1!==e.search(/,|\s/)));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");const l=/\s*,\s*|\s+/;let c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map((e,o)=>{const i=(1===o?!r:r)?"height":"width";let a=!1;return e.reduce((e,t)=>""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t),[]).map(e=>(function(e,t,n,o){const i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],a=i[2];if(!r)return e;if(0===a.indexOf("%")){let e;switch(a){case"%p":e=n;break;case"%":case"%r":default:e=o}return w(e)[t]/100*r}if("vh"===a||"vw"===a){let e;return(e="vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r}return r})(e,i,t,n))})).forEach((e,t)=>{e.forEach((n,o)=>{O(n)&&(i[t]+=n*("-"===e[o-1]?-1:1))})}),i}var G={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:()=>{},onUpdate:()=>{},modifiers:{shift:{order:100,enabled:!0,fn:function(e){const t=e.placement,n=t.split("-")[0],o=t.split("-")[1];if(o){const{reference:t,popper:i}=e.offsets,r=-1!==["bottom","top"].indexOf(n),a=r?"left":"top",s=r?"width":"height",l={start:{[a]:t[a]},end:{[a]:t[a]+t[s]-i[s]}};e.offsets.popper=y({},i,l[o])}return e}},offset:{order:200,enabled:!0,fn:function(e,{offset:t}){const{placement:n,offsets:{popper:o,reference:i}}=e,r=n.split("-")[0];let a;return a=O(+t)?[+t,0]:V(t,o,i,r),"left"===r?(o.top+=a[0],o.left-=a[1]):"right"===r?(o.top+=a[0],o.left+=a[1]):"top"===r?(o.left+=a[0],o.top-=a[1]):"bottom"===r&&(o.left+=a[0],o.top+=a[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){let n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));const o=F("transform"),i=e.instance.popper.style,{top:r,left:a,[o]:s}=i;i.top="",i.left="",i[o]="";const l=k(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=r,i.left=a,i[o]=s,t.boundaries=l;const c=t.priority;let u=e.offsets.popper;const d={primary(e){let n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),{[e]:n}},secondary(e){const n="right"===e?"left":"top";let o=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(o=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),{[n]:o}}};return c.forEach(e=>{const t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=y({},u,d[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){const{popper:t,reference:n}=e.offsets,o=e.placement.split("-")[0],i=Math.floor,r=-1!==["top","bottom"].indexOf(o),a=r?"right":"bottom",s=r?"left":"top",l=r?"width":"height";return t[a]<i(n[s])&&(e.offsets.popper[s]=i(n[s])-t[l]),t[s]>i(n[a])&&(e.offsets.popper[s]=i(n[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){if(!z(e.instance.modifiers,"arrow","keepTogether"))return e;let n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;const o=e.placement.split("-")[0],{popper:i,reference:r}=e.offsets,s=-1!==["left","right"].indexOf(o),l=s?"height":"width",c=s?"Top":"Left",u=c.toLowerCase(),d=s?"left":"top",p=s?"bottom":"right",f=I(n)[l];r[p]-f<i[u]&&(e.offsets.popper[u]-=i[u]-(r[p]-f)),r[u]+f>i[p]&&(e.offsets.popper[u]+=r[u]+f-i[p]),e.offsets.popper=w(e.offsets.popper);const h=r[u]+r[l]/2-f/2,m=a(e.instance.popper),g=parseFloat(m[`margin${c}`],10),v=parseFloat(m[`border${c}Width`],10);let b=h-e.offsets.popper[u]-g-v;return b=Math.max(Math.min(i[l]-f,b),0),e.arrowElement=n,e.offsets.arrow={[u]:Math.round(b),[d]:""},e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(L(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;const n=k(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed);let o=e.placement.split("-")[0],i=A(o),r=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case q.FLIP:a=[o,i];break;case q.CLOCKWISE:a=W(o);break;case q.COUNTERCLOCKWISE:a=W(o,!0);break;default:a=t.behavior}return a.forEach((s,l)=>{if(o!==s||a.length===l+1)return e;o=e.placement.split("-")[0],i=A(o);const c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===o&&d(c.right)>d(u.left)||"right"===o&&d(c.left)<d(u.right)||"top"===o&&d(c.bottom)>d(u.top)||"bottom"===o&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),h=d(c.right)>d(n.right),m=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),v="left"===o&&f||"right"===o&&h||"top"===o&&m||"bottom"===o&&g,b=-1!==["top","bottom"].indexOf(o),w=!!t.flipVariations&&(b&&"start"===r&&f||b&&"end"===r&&h||!b&&"start"===r&&m||!b&&"end"===r&&g),C=!!t.flipVariationsByContent&&(b&&"start"===r&&h||b&&"end"===r&&f||!b&&"start"===r&&g||!b&&"end"===r&&m),x=w||C;(p||v||x)&&(e.flipped=!0,(p||v)&&(o=a[l+1]),x&&(r=function(e){return"end"===e?"start":"start"===e?"end":e}(r)),e.placement=o+(r?"-"+r:""),e.offsets.popper=y({},e.offsets.popper,P(e.instance.popper,e.offsets.reference,e.placement)),e=N(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){const t=e.placement,n=t.split("-")[0],{popper:o,reference:i}=e.offsets,r=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return o[r?"left":"top"]=i[n]-(a?o[r?"width":"height"]:0),e.placement=A(t),e.offsets.popper=w(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!z(e.instance.modifiers,"hide","preventOverflow"))return e;const t=e.offsets.reference,n=D(e.instance.modifiers,e=>"preventOverflow"===e.name).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){const{x:n,y:o}=t,{popper:i}=e.offsets,r=D(e.instance.modifiers,e=>"applyStyle"===e.name).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");const a=void 0!==r?r:t.gpuAcceleration,s=p(e.instance.popper),l=C(s),c={position:i.position},u=function(e,t){const{popper:n,reference:o}=e.offsets,{round:i,floor:r}=Math,a=e=>e,s=i(o.width),l=i(n.width),c=-1!==["left","right"].indexOf(e.placement),u=-1!==e.placement.indexOf("-"),d=t?c||u||s%2==l%2?i:r:a,p=t?i:a;return{left:d(s%2==1&&l%2==1&&!u&&t?n.left-1:n.left),top:p(n.top),bottom:p(n.bottom),right:d(n.right)}}(e,window.devicePixelRatio<2||!H),d="bottom"===n?"top":"bottom",f="right"===o?"left":"right",h=F("transform");let m,g;if(g="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,m="right"===f?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&h)c[h]=`translate3d(${m}px, ${g}px, 0)`,c[d]=0,c[f]=0,c.willChange="transform";else{const e="bottom"===d?-1:1,t="right"===f?-1:1;c[d]=g*e,c[f]=m*t,c.willChange=`${d}, ${f}`}const v={"x-placement":e.placement};return e.attributes=y({},v,e.attributes),e.styles=y({},c,e.styles),e.arrowStyles=y({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return B(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&B(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,o,i){const r=E(0,t,e,n.positionFixed),a=_(n.placement,r,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),B(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}};class K{constructor(e,t,n={}){this.scheduleUpdate=()=>requestAnimationFrame(this.update),this.update=i(this.update.bind(this)),this.options=y({},K.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(y({},K.Defaults.modifiers,n.modifiers)).forEach(e=>{this.options.modifiers[e]=y({},K.Defaults.modifiers[e]||{},n.modifiers?n.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(e=>y({name:e},this.options.modifiers[e])).sort((e,t)=>e.order-t.order),this.modifiers.forEach(e=>{e.enabled&&r(e.onLoad)&&e.onLoad(this.reference,this.popper,this.options,e,this.state)}),this.update();const o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}update(){return function(){if(this.state.isDestroyed)return;let e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=E(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=_(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=P(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=N(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}.call(this)}destroy(){return function(){return this.state.isDestroyed=!0,L(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}enableEventListeners(){return function(){this.state.eventsEnabled||(this.state=$(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}disableEventListeners(){return M.call(this)}}K.Utils=("undefined"!=typeof window?window:e).PopperUtils,K.placements=j,K.Defaults=G}).call(this,n(2))},function(e,t,n){var o=n(7);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,n){
/*!
  * Bootstrap v4.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2019 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){var o,i,r;o=e,r=n[i=t],i in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r})}return e}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var a="transitionend",s={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var n=t(e).css("transition-duration"),o=t(e).css("transition-delay"),i=parseFloat(n),r=parseFloat(o);return i||r?(n=n.split(",")[0],o=o.split(",")[0],1e3*(parseFloat(n)+parseFloat(o))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(a)},supportsTransitionEnd:function(){return Boolean(a)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=n[o],r=t[o],a=r&&s.isElement(r)?"element":(l=r,{}.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(i).test(a))throw new Error(e.toUpperCase()+': Option "'+o+'" provided type "'+a+'" but expected type "'+i+'".')}var l},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"!=typeof e.getRootNode)return e instanceof ShadowRoot?e:e.parentNode?s.findShadowRoot(e.parentNode):null;var t=e.getRootNode();return t instanceof ShadowRoot?t:null}};t.fn.emulateTransitionEnd=function(e){var n=this,o=!1;return t(this).one(s.TRANSITION_END,function(){o=!0}),setTimeout(function(){o||s.triggerTransitionEnd(n)},e),this},t.event.special[s.TRANSITION_END]={bindType:a,delegateType:a,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var l="alert",c="bs.alert",u="."+c,d=t.fn[l],p={CLOSE:"close"+u,CLOSED:"closed"+u,CLICK_DATA_API:"click"+u+".data-api"},f=function(){function e(e){this._element=e}var n=e.prototype;return n.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},n.dispose=function(){t.removeData(this._element,c),this._element=null},n._getRootElement=function(e){var n=s.getSelectorFromElement(e),o=!1;return n&&(o=document.querySelector(n)),o||(o=t(e).closest(".alert")[0]),o},n._triggerCloseEvent=function(e){var n=t.Event(p.CLOSE);return t(e).trigger(n),n},n._removeElement=function(e){var n=this;if(t(e).removeClass("show"),t(e).hasClass("fade")){var o=s.getTransitionDurationFromElement(e);t(e).one(s.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(o)}else this._destroyElement(e)},n._destroyElement=function(e){t(e).detach().trigger(p.CLOSED).remove()},e._jQueryInterface=function(n){return this.each(function(){var o=t(this),i=o.data(c);i||(i=new e(this),o.data(c,i)),"close"===n&&i[n](this)})},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),e}();t(document).on(p.CLICK_DATA_API,'[data-dismiss="alert"]',f._handleDismiss(new f)),t.fn[l]=f._jQueryInterface,t.fn[l].Constructor=f,t.fn[l].noConflict=function(){return t.fn[l]=d,f._jQueryInterface};var h="button",m="bs.button",g="."+m,v=".data-api",b=t.fn[h],y="active",w='[data-toggle^="button"]',C=".btn",x={CLICK_DATA_API:"click"+g+v,FOCUS_BLUR_DATA_API:"focus"+g+v+" blur"+g+v},S=function(){function e(e){this._element=e}var n=e.prototype;return n.toggle=function(){var e=!0,n=!0,o=t(this._element).closest('[data-toggle="buttons"]')[0];if(o){var i=this._element.querySelector('input:not([type="hidden"])');if(i){if("radio"===i.type)if(i.checked&&this._element.classList.contains(y))e=!1;else{var r=o.querySelector(".active");r&&t(r).removeClass(y)}if(e){if(i.hasAttribute("disabled")||o.hasAttribute("disabled")||i.classList.contains("disabled")||o.classList.contains("disabled"))return;i.checked=!this._element.classList.contains(y),t(i).trigger("change")}i.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(y)),e&&t(this._element).toggleClass(y)},n.dispose=function(){t.removeData(this._element,m),this._element=null},e._jQueryInterface=function(n){return this.each(function(){var o=t(this).data(m);o||(o=new e(this),t(this).data(m,o)),"toggle"===n&&o[n]()})},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),e}();t(document).on(x.CLICK_DATA_API,w,function(e){e.preventDefault();var n=e.target;t(n).hasClass("btn")||(n=t(n).closest(C)),S._jQueryInterface.call(t(n),"toggle")}).on(x.FOCUS_BLUR_DATA_API,w,function(e){var n=t(e.target).closest(C)[0];t(n).toggleClass("focus",/^focus(in)?$/.test(e.type))}),t.fn[h]=S._jQueryInterface,t.fn[h].Constructor=S,t.fn[h].noConflict=function(){return t.fn[h]=b,S._jQueryInterface};var k="carousel",T="bs.carousel",_="."+T,E=".data-api",I=t.fn[k],A={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},P={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},D="next",N="prev",L={SLIDE:"slide"+_,SLID:"slid"+_,KEYDOWN:"keydown"+_,MOUSEENTER:"mouseenter"+_,MOUSELEAVE:"mouseleave"+_,TOUCHSTART:"touchstart"+_,TOUCHMOVE:"touchmove"+_,TOUCHEND:"touchend"+_,POINTERDOWN:"pointerdown"+_,POINTERUP:"pointerup"+_,DRAG_START:"dragstart"+_,LOAD_DATA_API:"load"+_+E,CLICK_DATA_API:"click"+_+E},F="active",R=".active.carousel-item",$=".carousel-indicators",M={TOUCH:"touch",PEN:"pen"},O=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector($),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=e.prototype;return n.next=function(){this._isSliding||this._slide(D)},n.nextWhenVisible=function(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide(N)},n.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(s.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(e){var n=this;this._activeElement=this._element.querySelector(R);var o=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)t(this._element).one(L.SLID,function(){return n.to(e)});else{if(o===e)return this.pause(),void this.cycle();var i=o<e?D:N;this._slide(i,this._items[e])}},n.dispose=function(){t(this._element).off(_),t.removeData(this._element,T),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(e){return e=r({},A,e),s.typeCheckConfig(k,e,P),e},n._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;0<t&&this.prev(),t<0&&this.next()}},n._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(L.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&t(this._element).on(L.MOUSEENTER,function(t){return e.pause(t)}).on(L.MOUSELEAVE,function(t){return e.cycle(t)}),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var e=this;if(this._touchSupported){var n=function(t){e._pointerEvent&&M[t.originalEvent.pointerType.toUpperCase()]?e.touchStartX=t.originalEvent.clientX:e._pointerEvent||(e.touchStartX=t.originalEvent.touches[0].clientX)},o=function(t){e._pointerEvent&&M[t.originalEvent.pointerType.toUpperCase()]&&(e.touchDeltaX=t.originalEvent.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval))};t(this._element.querySelectorAll(".carousel-item img")).on(L.DRAG_START,function(e){return e.preventDefault()}),this._pointerEvent?(t(this._element).on(L.POINTERDOWN,function(e){return n(e)}),t(this._element).on(L.POINTERUP,function(e){return o(e)}),this._element.classList.add("pointer-event")):(t(this._element).on(L.TOUCHSTART,function(e){return n(e)}),t(this._element).on(L.TOUCHMOVE,function(t){var n;(n=t).originalEvent.touches&&1<n.originalEvent.touches.length?e.touchDeltaX=0:e.touchDeltaX=n.originalEvent.touches[0].clientX-e.touchStartX}),t(this._element).on(L.TOUCHEND,function(e){return o(e)}))}},n._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},n._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(e)},n._getItemByDirection=function(e,t){var n=e===D,o=e===N,i=this._getItemIndex(t),r=this._items.length-1;if((o&&0===i||n&&i===r)&&!this._config.wrap)return t;var a=(i+(e===N?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},n._triggerSlideEvent=function(e,n){var o=this._getItemIndex(e),i=this._getItemIndex(this._element.querySelector(R)),r=t.Event(L.SLIDE,{relatedTarget:e,direction:n,from:i,to:o});return t(this._element).trigger(r),r},n._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));t(n).removeClass(F);var o=this._indicatorsElement.children[this._getItemIndex(e)];o&&t(o).addClass(F)}},n._slide=function(e,n){var o,i,r,a=this,l=this._element.querySelector(R),c=this._getItemIndex(l),u=n||l&&this._getItemByDirection(e,l),d=this._getItemIndex(u),p=Boolean(this._interval);if(r=e===D?(o="carousel-item-left",i="carousel-item-next","left"):(o="carousel-item-right",i="carousel-item-prev","right"),u&&t(u).hasClass(F))this._isSliding=!1;else if(!this._triggerSlideEvent(u,r).isDefaultPrevented()&&l&&u){this._isSliding=!0,p&&this.pause(),this._setActiveIndicatorElement(u);var f=t.Event(L.SLID,{relatedTarget:u,direction:r,from:c,to:d});if(t(this._element).hasClass("slide")){t(u).addClass(i),s.reflow(u),t(l).addClass(o),t(u).addClass(o);var h=parseInt(u.getAttribute("data-interval"),10);this._config.interval=h?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,h):this._config.defaultInterval||this._config.interval;var m=s.getTransitionDurationFromElement(l);t(l).one(s.TRANSITION_END,function(){t(u).removeClass(o+" "+i).addClass(F),t(l).removeClass(F+" "+i+" "+o),a._isSliding=!1,setTimeout(function(){return t(a._element).trigger(f)},0)}).emulateTransitionEnd(m)}else t(l).removeClass(F),t(u).addClass(F),this._isSliding=!1,t(this._element).trigger(f);p&&this.cycle()}},e._jQueryInterface=function(n){return this.each(function(){var o=t(this).data(T),i=r({},A,t(this).data());"object"==typeof n&&(i=r({},i,n));var a="string"==typeof n?n:i.slide;if(o||(o=new e(this,i),t(this).data(T,o)),"number"==typeof n)o.to(n);else if("string"==typeof a){if(void 0===o[a])throw new TypeError('No method named "'+a+'"');o[a]()}else i.interval&&i.ride&&(o.pause(),o.cycle())})},e._dataApiClickHandler=function(n){var o=s.getSelectorFromElement(this);if(o){var i=t(o)[0];if(i&&t(i).hasClass("carousel")){var a=r({},t(i).data(),t(this).data()),l=this.getAttribute("data-slide-to");l&&(a.interval=!1),e._jQueryInterface.call(t(i),a),l&&t(i).data(T).to(l),n.preventDefault()}}},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return A}}]),e}();t(document).on(L.CLICK_DATA_API,"[data-slide], [data-slide-to]",O._dataApiClickHandler),t(window).on(L.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),n=0,o=e.length;n<o;n++){var i=t(e[n]);O._jQueryInterface.call(i,i.data())}}),t.fn[k]=O._jQueryInterface,t.fn[k].Constructor=O,t.fn[k].noConflict=function(){return t.fn[k]=I,O._jQueryInterface};var B="collapse",H="bs.collapse",z="."+H,j=t.fn[B],U={toggle:!0,parent:""},W={toggle:"boolean",parent:"(string|element)"},q={SHOW:"show"+z,SHOWN:"shown"+z,HIDE:"hide"+z,HIDDEN:"hidden"+z,CLICK_DATA_API:"click"+z+".data-api"},V="show",G="collapse",K="collapsing",Z="collapsed",Y='[data-toggle="collapse"]',X=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(Y)),o=0,i=n.length;o<i;o++){var r=n[o],a=s.getSelectorFromElement(r),l=[].slice.call(document.querySelectorAll(a)).filter(function(t){return t===e});null!==a&&0<l.length&&(this._selector=a,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=e.prototype;return n.toggle=function(){t(this._element).hasClass(V)?this.hide():this.show()},n.show=function(){var n,o,i=this;if(!(this._isTransitioning||t(this._element).hasClass(V)||(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(e){return"string"==typeof i._config.parent?e.getAttribute("data-parent")===i._config.parent:e.classList.contains(G)})).length&&(n=null),n&&(o=t(n).not(this._selector).data(H))&&o._isTransitioning))){var r=t.Event(q.SHOW);if(t(this._element).trigger(r),!r.isDefaultPrevented()){n&&(e._jQueryInterface.call(t(n).not(this._selector),"hide"),o||t(n).data(H,null));var a=this._getDimension();t(this._element).removeClass(G).addClass(K),this._element.style[a]=0,this._triggerArray.length&&t(this._triggerArray).removeClass(Z).attr("aria-expanded",!0),this.setTransitioning(!0);var l="scroll"+(a[0].toUpperCase()+a.slice(1)),c=s.getTransitionDurationFromElement(this._element);t(this._element).one(s.TRANSITION_END,function(){t(i._element).removeClass(K).addClass(G).addClass(V),i._element.style[a]="",i.setTransitioning(!1),t(i._element).trigger(q.SHOWN)}).emulateTransitionEnd(c),this._element.style[a]=this._element[l]+"px"}}},n.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(V)){var n=t.Event(q.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var o=this._getDimension();this._element.style[o]=this._element.getBoundingClientRect()[o]+"px",s.reflow(this._element),t(this._element).addClass(K).removeClass(G).removeClass(V);var i=this._triggerArray.length;if(0<i)for(var r=0;r<i;r++){var a=this._triggerArray[r],l=s.getSelectorFromElement(a);null!==l&&(t([].slice.call(document.querySelectorAll(l))).hasClass(V)||t(a).addClass(Z).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[o]="";var c=s.getTransitionDurationFromElement(this._element);t(this._element).one(s.TRANSITION_END,function(){e.setTransitioning(!1),t(e._element).removeClass(K).addClass(G).trigger(q.HIDDEN)}).emulateTransitionEnd(c)}}},n.setTransitioning=function(e){this._isTransitioning=e},n.dispose=function(){t.removeData(this._element,H),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(e){return(e=r({},U,e)).toggle=Boolean(e.toggle),s.typeCheckConfig(B,e,W),e},n._getDimension=function(){return t(this._element).hasClass("width")?"width":"height"},n._getParent=function(){var n,o=this;s.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',r=[].slice.call(n.querySelectorAll(i));return t(r).each(function(t,n){o._addAriaAndCollapsedClass(e._getTargetFromElement(n),[n])}),n},n._addAriaAndCollapsedClass=function(e,n){var o=t(e).hasClass(V);n.length&&t(n).toggleClass(Z,!o).attr("aria-expanded",o)},e._getTargetFromElement=function(e){var t=s.getSelectorFromElement(e);return t?document.querySelector(t):null},e._jQueryInterface=function(n){return this.each(function(){var o=t(this),i=o.data(H),a=r({},U,o.data(),"object"==typeof n&&n?n:{});if(!i&&a.toggle&&/show|hide/.test(n)&&(a.toggle=!1),i||(i=new e(this,a),o.data(H,i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return U}}]),e}();t(document).on(q.CLICK_DATA_API,Y,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var n=t(this),o=s.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(o));t(i).each(function(){var e=t(this),o=e.data(H)?"toggle":n.data();X._jQueryInterface.call(e,o)})}),t.fn[B]=X._jQueryInterface,t.fn[B].Constructor=X,t.fn[B].noConflict=function(){return t.fn[B]=j,X._jQueryInterface};var Q="dropdown",J="bs.dropdown",ee="."+J,te=".data-api",ne=t.fn[Q],oe=new RegExp("38|40|27"),ie={HIDE:"hide"+ee,HIDDEN:"hidden"+ee,SHOW:"show"+ee,SHOWN:"shown"+ee,CLICK:"click"+ee,CLICK_DATA_API:"click"+ee+te,KEYDOWN_DATA_API:"keydown"+ee+te,KEYUP_DATA_API:"keyup"+ee+te},re="disabled",ae="show",se="dropdown-menu-right",le='[data-toggle="dropdown"]',ce=".dropdown-menu",ue={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},de={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},pe=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var o=e.prototype;return o.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass(re)){var o=e._getParentFromElement(this._element),i=t(this._menu).hasClass(ae);if(e._clearMenus(),!i){var r={relatedTarget:this._element},a=t.Event(ie.SHOW,r);if(t(o).trigger(a),!a.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var l=this._element;"parent"===this._config.reference?l=o:s.isElement(this._config.reference)&&(l=this._config.reference,void 0!==this._config.reference.jquery&&(l=this._config.reference[0])),"scrollParent"!==this._config.boundary&&t(o).addClass("position-static"),this._popper=new n(l,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===t(o).closest(".navbar-nav").length&&t(document.body).children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass(ae),t(o).toggleClass(ae).trigger(t.Event(ie.SHOWN,r))}}}},o.show=function(){if(!(this._element.disabled||t(this._element).hasClass(re)||t(this._menu).hasClass(ae))){var n={relatedTarget:this._element},o=t.Event(ie.SHOW,n),i=e._getParentFromElement(this._element);t(i).trigger(o),o.isDefaultPrevented()||(t(this._menu).toggleClass(ae),t(i).toggleClass(ae).trigger(t.Event(ie.SHOWN,n)))}},o.hide=function(){if(!this._element.disabled&&!t(this._element).hasClass(re)&&t(this._menu).hasClass(ae)){var n={relatedTarget:this._element},o=t.Event(ie.HIDE,n),i=e._getParentFromElement(this._element);t(i).trigger(o),o.isDefaultPrevented()||(t(this._menu).toggleClass(ae),t(i).toggleClass(ae).trigger(t.Event(ie.HIDDEN,n)))}},o.dispose=function(){t.removeData(this._element,J),t(this._element).off(ee),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},o.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},o._addEventListeners=function(){var e=this;t(this._element).on(ie.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},o._getConfig=function(e){return e=r({},this.constructor.Default,t(this._element).data(),e),s.typeCheckConfig(Q,e,this.constructor.DefaultType),e},o._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(ce))}return this._menu},o._getPlacement=function(){var e=t(this._element.parentNode),n="bottom-start";return e.hasClass("dropup")?(n="top-start",t(this._menu).hasClass(se)&&(n="top-end")):e.hasClass("dropright")?n="right-start":e.hasClass("dropleft")?n="left-start":t(this._menu).hasClass(se)&&(n="bottom-end"),n},o._detectNavbar=function(){return 0<t(this._element).closest(".navbar").length},o._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=r({},t.offsets,e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},o._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),e},e._jQueryInterface=function(n){return this.each(function(){var o=t(this).data(J);if(o||(o=new e(this,"object"==typeof n?n:null),t(this).data(J,o)),"string"==typeof n){if(void 0===o[n])throw new TypeError('No method named "'+n+'"');o[n]()}})},e._clearMenus=function(n){if(!n||3!==n.which&&("keyup"!==n.type||9===n.which))for(var o=[].slice.call(document.querySelectorAll(le)),i=0,r=o.length;i<r;i++){var a=e._getParentFromElement(o[i]),s=t(o[i]).data(J),l={relatedTarget:o[i]};if(n&&"click"===n.type&&(l.clickEvent=n),s){var c=s._menu;if(t(a).hasClass(ae)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&9===n.which)&&t.contains(a,n.target))){var u=t.Event(ie.HIDE,l);t(a).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),o[i].setAttribute("aria-expanded","false"),t(c).removeClass(ae),t(a).removeClass(ae).trigger(t.Event(ie.HIDDEN,l)))}}}},e._getParentFromElement=function(e){var t,n=s.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},e._dataApiKeydownHandler=function(n){if((/input|textarea/i.test(n.target.tagName)?!(32===n.which||27!==n.which&&(40!==n.which&&38!==n.which||t(n.target).closest(ce).length)):oe.test(n.which))&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!t(this).hasClass(re))){var o=e._getParentFromElement(this),i=t(o).hasClass(ae);if(i&&(!i||27!==n.which&&32!==n.which)){var r=[].slice.call(o.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"));if(0!==r.length){var a=r.indexOf(n.target);38===n.which&&0<a&&a--,40===n.which&&a<r.length-1&&a++,a<0&&(a=0),r[a].focus()}}else{if(27===n.which){var s=o.querySelector(le);t(s).trigger("focus")}t(this).trigger("click")}}},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return ue}},{key:"DefaultType",get:function(){return de}}]),e}();t(document).on(ie.KEYDOWN_DATA_API,le,pe._dataApiKeydownHandler).on(ie.KEYDOWN_DATA_API,ce,pe._dataApiKeydownHandler).on(ie.CLICK_DATA_API+" "+ie.KEYUP_DATA_API,pe._clearMenus).on(ie.CLICK_DATA_API,le,function(e){e.preventDefault(),e.stopPropagation(),pe._jQueryInterface.call(t(this),"toggle")}).on(ie.CLICK_DATA_API,".dropdown form",function(e){e.stopPropagation()}),t.fn[Q]=pe._jQueryInterface,t.fn[Q].Constructor=pe,t.fn[Q].noConflict=function(){return t.fn[Q]=ne,pe._jQueryInterface};var fe="modal",he="bs.modal",me="."+he,ge=t.fn[fe],ve={backdrop:!0,keyboard:!0,focus:!0,show:!0},be={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ye={HIDE:"hide"+me,HIDDEN:"hidden"+me,SHOW:"show"+me,SHOWN:"shown"+me,FOCUSIN:"focusin"+me,RESIZE:"resize"+me,CLICK_DISMISS:"click.dismiss"+me,KEYDOWN_DISMISS:"keydown.dismiss"+me,MOUSEUP_DISMISS:"mouseup.dismiss"+me,MOUSEDOWN_DISMISS:"mousedown.dismiss"+me,CLICK_DATA_API:"click"+me+".data-api"},we="modal-open",Ce="fade",xe="show",Se=".modal-dialog",ke=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Te=".sticky-top",_e=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(Se),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=e.prototype;return n.toggle=function(e){return this._isShown?this.hide():this.show(e)},n.show=function(e){var n=this;if(!this._isShown&&!this._isTransitioning){t(this._element).hasClass(Ce)&&(this._isTransitioning=!0);var o=t.Event(ye.SHOW,{relatedTarget:e});t(this._element).trigger(o),this._isShown||o.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(ye.CLICK_DISMISS,'[data-dismiss="modal"]',function(e){return n.hide(e)}),t(this._dialog).on(ye.MOUSEDOWN_DISMISS,function(){t(n._element).one(ye.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))}},n.hide=function(e){var n=this;if(e&&e.preventDefault(),this._isShown&&!this._isTransitioning){var o=t.Event(ye.HIDE);if(t(this._element).trigger(o),this._isShown&&!o.isDefaultPrevented()){this._isShown=!1;var i=t(this._element).hasClass(Ce);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(ye.FOCUSIN),t(this._element).removeClass(xe),t(this._element).off(ye.CLICK_DISMISS),t(this._dialog).off(ye.MOUSEDOWN_DISMISS),i){var r=s.getTransitionDurationFromElement(this._element);t(this._element).one(s.TRANSITION_END,function(e){return n._hideModal(e)}).emulateTransitionEnd(r)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach(function(e){return t(e).off(me)}),t(document).off(ye.FOCUSIN),t.removeData(this._element,he),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(e){return e=r({},ve,e),s.typeCheckConfig(fe,e,be),e},n._showElement=function(e){var n=this,o=t(this._element).hasClass(Ce);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),t(this._dialog).hasClass("modal-dialog-scrollable")?this._dialog.querySelector(".modal-body").scrollTop=0:this._element.scrollTop=0,o&&s.reflow(this._element),t(this._element).addClass(xe),this._config.focus&&this._enforceFocus();var i=t.Event(ye.SHOWN,{relatedTarget:e}),r=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(i)};if(o){var a=s.getTransitionDurationFromElement(this._dialog);t(this._dialog).one(s.TRANSITION_END,r).emulateTransitionEnd(a)}else r()},n._enforceFocus=function(){var e=this;t(document).off(ye.FOCUSIN).on(ye.FOCUSIN,function(n){document!==n.target&&e._element!==n.target&&0===t(e._element).has(n.target).length&&e._element.focus()})},n._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(ye.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||t(this._element).off(ye.KEYDOWN_DISMISS)},n._setResizeEvent=function(){var e=this;this._isShown?t(window).on(ye.RESIZE,function(t){return e.handleUpdate(t)}):t(window).off(ye.RESIZE)},n._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(we),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(ye.HIDDEN)})},n._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(e){var n=this,o=t(this._element).hasClass(Ce)?Ce:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",o&&this._backdrop.classList.add(o),t(this._backdrop).appendTo(document.body),t(this._element).on(ye.CLICK_DISMISS,function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),o&&s.reflow(this._backdrop),t(this._backdrop).addClass(xe),!e)return;if(!o)return void e();var i=s.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(s.TRANSITION_END,e).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(xe);var r=function(){n._removeBackdrop(),e&&e()};if(t(this._element).hasClass(Ce)){var a=s.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(s.TRANSITION_END,r).emulateTransitionEnd(a)}else r()}else e&&e()},n._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(ke)),o=[].slice.call(document.querySelectorAll(Te));t(n).each(function(n,o){var i=o.style.paddingRight,r=t(o).css("padding-right");t(o).data("padding-right",i).css("padding-right",parseFloat(r)+e._scrollbarWidth+"px")}),t(o).each(function(n,o){var i=o.style.marginRight,r=t(o).css("margin-right");t(o).data("margin-right",i).css("margin-right",parseFloat(r)-e._scrollbarWidth+"px")});var i=document.body.style.paddingRight,r=t(document.body).css("padding-right");t(document.body).data("padding-right",i).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}t(document.body).addClass(we)},n._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(ke));t(e).each(function(e,n){var o=t(n).data("padding-right");t(n).removeData("padding-right"),n.style.paddingRight=o||""});var n=[].slice.call(document.querySelectorAll(""+Te));t(n).each(function(e,n){var o=t(n).data("margin-right");void 0!==o&&t(n).css("margin-right",o).removeData("margin-right")});var o=t(document.body).data("padding-right");t(document.body).removeData("padding-right"),document.body.style.paddingRight=o||""},n._getScrollbarWidth=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(n,o){return this.each(function(){var i=t(this).data(he),a=r({},ve,t(this).data(),"object"==typeof n&&n?n:{});if(i||(i=new e(this,a),t(this).data(he,i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n](o)}else a.show&&i.show(o)})},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return ve}}]),e}();t(document).on(ye.CLICK_DATA_API,'[data-toggle="modal"]',function(e){var n,o=this,i=s.getSelectorFromElement(this);i&&(n=document.querySelector(i));var a=t(n).data(he)?"toggle":r({},t(n).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var l=t(n).one(ye.SHOW,function(e){e.isDefaultPrevented()||l.one(ye.HIDDEN,function(){t(o).is(":visible")&&o.focus()})});_e._jQueryInterface.call(t(n),a,this)}),t.fn[fe]=_e._jQueryInterface,t.fn[fe].Constructor=_e,t.fn[fe].noConflict=function(){return t.fn[fe]=ge,_e._jQueryInterface};var Ee=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Ie=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Ae=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Pe(e,t,n){if(0===e.length)return e;if(n&&"function"==typeof n)return n(e);for(var o=(new window.DOMParser).parseFromString(e,"text/html"),i=Object.keys(t),r=[].slice.call(o.body.querySelectorAll("*")),a=function(e,n){var o=r[e],a=o.nodeName.toLowerCase();if(-1===i.indexOf(o.nodeName.toLowerCase()))return o.parentNode.removeChild(o),"continue";var s=[].slice.call(o.attributes),l=[].concat(t["*"]||[],t[a]||[]);s.forEach(function(e){(function(e,t){var n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===Ee.indexOf(n)||Boolean(e.nodeValue.match(Ie)||e.nodeValue.match(Ae));for(var o=t.filter(function(e){return e instanceof RegExp}),i=0,r=o.length;i<r;i++)if(n.match(o[i]))return!0;return!1})(e,l)||o.removeAttribute(e.nodeName)})},s=0,l=r.length;s<l;s++)a(s);return o.body.innerHTML}var De="tooltip",Ne="bs.tooltip",Le="."+Ne,Fe=t.fn[De],Re="bs-tooltip",$e=new RegExp("(^|\\s)"+Re+"\\S+","g"),Me=["sanitize","whiteList","sanitizeFn"],Oe={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},Be={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},He={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},ze="show",je={HIDE:"hide"+Le,HIDDEN:"hidden"+Le,SHOW:"show"+Le,SHOWN:"shown"+Le,INSERTED:"inserted"+Le,CLICK:"click"+Le,FOCUSIN:"focusin"+Le,FOCUSOUT:"focusout"+Le,MOUSEENTER:"mouseenter"+Le,MOUSELEAVE:"mouseleave"+Le},Ue="fade",We="show",qe="hover",Ve="focus",Ge=function(){function e(e,t){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var o=e.prototype;return o.enable=function(){this._isEnabled=!0},o.disable=function(){this._isEnabled=!1},o.toggleEnabled=function(){this._isEnabled=!this._isEnabled},o.toggle=function(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,o=t(e.currentTarget).data(n);o||(o=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,o)),o._activeTrigger.click=!o._activeTrigger.click,o._isWithActiveTrigger()?o._enter(null,o):o._leave(null,o)}else{if(t(this.getTipElement()).hasClass(We))return void this._leave(null,this);this._enter(null,this)}},o.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},o.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var o=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(o);var i=s.findShadowRoot(this.element),r=t.contains(null!==i?i:this.element.ownerDocument.documentElement,this.element);if(o.isDefaultPrevented()||!r)return;var a=this.getTipElement(),l=s.getUID(this.constructor.NAME);a.setAttribute("id",l),this.element.setAttribute("aria-describedby",l),this.setContent(),this.config.animation&&t(a).addClass(Ue);var c="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,u=this._getAttachment(c);this.addAttachmentClass(u);var d=this._getContainer();t(a).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(a).appendTo(d),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,a,{placement:u,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}}),t(a).addClass(We),"ontouchstart"in document.documentElement&&t(document.body).children().on("mouseover",null,t.noop);var p=function(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),"out"===n&&e._leave(null,e)};if(t(this.tip).hasClass(Ue)){var f=s.getTransitionDurationFromElement(this.tip);t(this.tip).one(s.TRANSITION_END,p).emulateTransitionEnd(f)}else p()}},o.hide=function(e){var n=this,o=this.getTipElement(),i=t.Event(this.constructor.Event.HIDE),r=function(){n._hoverState!==ze&&o.parentNode&&o.parentNode.removeChild(o),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};if(t(this.element).trigger(i),!i.isDefaultPrevented()){if(t(o).removeClass(We),"ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),this._activeTrigger.click=!1,this._activeTrigger[Ve]=!1,this._activeTrigger[qe]=!1,t(this.tip).hasClass(Ue)){var a=s.getTransitionDurationFromElement(o);t(o).one(s.TRANSITION_END,r).emulateTransitionEnd(a)}else r();this._hoverState=""}},o.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},o.isWithContent=function(){return Boolean(this.getTitle())},o.addAttachmentClass=function(e){t(this.getTipElement()).addClass(Re+"-"+e)},o.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},o.setContent=function(){var e=this.getTipElement();this.setElementContent(t(e.querySelectorAll(".tooltip-inner")),this.getTitle()),t(e).removeClass(Ue+" "+We)},o.setElementContent=function(e,n){"object"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=Pe(n,this.config.whiteList,this.config.sanitizeFn)),e.html(n)):e.text(n):this.config.html?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text())},o.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},o._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=r({},t.offsets,e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},o._getContainer=function(){return!1===this.config.container?document.body:s.isElement(this.config.container)?t(this.config.container):t(document).find(this.config.container)},o._getAttachment=function(e){return Be[e.toUpperCase()]},o._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if("manual"!==n){var o=n===qe?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,i=n===qe?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(o,e.config.selector,function(t){return e._enter(t)}).on(i,e.config.selector,function(t){return e._leave(t)})}}),t(this.element).closest(".modal").on("hide.bs.modal",function(){e.element&&e.hide()}),this.config.selector?this.config=r({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},o._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},o._enter=function(e,n){var o=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(o))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(o,n)),e&&(n._activeTrigger["focusin"===e.type?Ve:qe]=!0),t(n.getTipElement()).hasClass(We)||n._hoverState===ze?n._hoverState=ze:(clearTimeout(n._timeout),n._hoverState=ze,n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){n._hoverState===ze&&n.show()},n.config.delay.show):n.show())},o._leave=function(e,n){var o=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(o))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(o,n)),e&&(n._activeTrigger["focusout"===e.type?Ve:qe]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState="out",n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){"out"===n._hoverState&&n.hide()},n.config.delay.hide):n.hide())},o._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},o._getConfig=function(e){var n=t(this.element).data();return Object.keys(n).forEach(function(e){-1!==Me.indexOf(e)&&delete n[e]}),"number"==typeof(e=r({},this.constructor.Default,n,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),s.typeCheckConfig(De,e,this.constructor.DefaultType),e.sanitize&&(e.template=Pe(e.template,e.whiteList,e.sanitizeFn)),e},o._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},o._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match($e);null!==n&&n.length&&e.removeClass(n.join(""))},o._handlePopperPlacementChange=function(e){var t=e.instance;this.tip=t.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},o._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(Ue),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},e._jQueryInterface=function(n){return this.each(function(){var o=t(this).data(Ne),i="object"==typeof n&&n;if((o||!/dispose|hide/.test(n))&&(o||(o=new e(this,i),t(this).data(Ne,o)),"string"==typeof n)){if(void 0===o[n])throw new TypeError('No method named "'+n+'"');o[n]()}})},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return He}},{key:"NAME",get:function(){return De}},{key:"DATA_KEY",get:function(){return Ne}},{key:"Event",get:function(){return je}},{key:"EVENT_KEY",get:function(){return Le}},{key:"DefaultType",get:function(){return Oe}}]),e}();t.fn[De]=Ge._jQueryInterface,t.fn[De].Constructor=Ge,t.fn[De].noConflict=function(){return t.fn[De]=Fe,Ge._jQueryInterface};var Ke="popover",Ze="bs.popover",Ye="."+Ze,Xe=t.fn[Ke],Qe="bs-popover",Je=new RegExp("(^|\\s)"+Qe+"\\S+","g"),et=r({},Ge.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),tt=r({},Ge.DefaultType,{content:"(string|element|function)"}),nt={HIDE:"hide"+Ye,HIDDEN:"hidden"+Ye,SHOW:"show"+Ye,SHOWN:"shown"+Ye,INSERTED:"inserted"+Ye,CLICK:"click"+Ye,FOCUSIN:"focusin"+Ye,FOCUSOUT:"focusout"+Ye,MOUSEENTER:"mouseenter"+Ye,MOUSELEAVE:"mouseleave"+Ye},ot=function(e){var n,o;function r(){return e.apply(this,arguments)||this}o=e,(n=r).prototype=Object.create(o.prototype),(n.prototype.constructor=n).__proto__=o;var a=r.prototype;return a.isWithContent=function(){return this.getTitle()||this._getContent()},a.addAttachmentClass=function(e){t(this.getTipElement()).addClass(Qe+"-"+e)},a.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},a.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(".popover-body"),n),e.removeClass("fade show")},a._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},a._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(Je);null!==n&&0<n.length&&e.removeClass(n.join(""))},r._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(Ze),o="object"==typeof e?e:null;if((n||!/dispose|hide/.test(e))&&(n||(n=new r(this,o),t(this).data(Ze,n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},i(r,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return et}},{key:"NAME",get:function(){return Ke}},{key:"DATA_KEY",get:function(){return Ze}},{key:"Event",get:function(){return nt}},{key:"EVENT_KEY",get:function(){return Ye}},{key:"DefaultType",get:function(){return tt}}]),r}(Ge);t.fn[Ke]=ot._jQueryInterface,t.fn[Ke].Constructor=ot,t.fn[Ke].noConflict=function(){return t.fn[Ke]=Xe,ot._jQueryInterface};var it="scrollspy",rt="bs.scrollspy",at="."+rt,st=t.fn[it],lt={offset:10,method:"auto",target:""},ct={offset:"number",method:"string",target:"(string|element)"},ut={ACTIVATE:"activate"+at,SCROLL:"scroll"+at,LOAD_DATA_API:"load"+at+".data-api"},dt="active",pt=".nav, .list-group",ft=".nav-link",ht=".list-group-item",mt=".dropdown-item",gt="position",vt=function(){function e(e,n){var o=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+" "+ft+","+this._config.target+" "+ht+","+this._config.target+" "+mt,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(ut.SCROLL,function(e){return o._process(e)}),this.refresh(),this._process()}var n=e.prototype;return n.refresh=function(){var e=this,n=this._scrollElement===this._scrollElement.window?"offset":gt,o="auto"===this._config.method?n:this._config.method,i=o===gt?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(e){var n,r=s.getSelectorFromElement(e);if(r&&(n=document.querySelector(r)),n){var a=n.getBoundingClientRect();if(a.width||a.height)return[t(n)[o]().top+i,r]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},n.dispose=function(){t.removeData(this._element,rt),t(this._scrollElement).off(at),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(e){if("string"!=typeof(e=r({},lt,"object"==typeof e&&e?e:{})).target){var n=t(e.target).attr("id");n||(n=s.getUID(it),t(e.target).attr("id",n)),e.target="#"+n}return s.typeCheckConfig(it,e,ct),e},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),n<=e){var o=this._targets[this._targets.length-1];this._activeTarget!==o&&this._activate(o)}else{if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}},n._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",").map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'}),o=t([].slice.call(document.querySelectorAll(n.join(","))));o.hasClass("dropdown-item")?(o.closest(".dropdown").find(".dropdown-toggle").addClass(dt),o.addClass(dt)):(o.addClass(dt),o.parents(pt).prev(ft+", "+ht).addClass(dt),o.parents(pt).prev(".nav-item").children(ft).addClass(dt)),t(this._scrollElement).trigger(ut.ACTIVATE,{relatedTarget:e})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(e){return e.classList.contains(dt)}).forEach(function(e){return e.classList.remove(dt)})},e._jQueryInterface=function(n){return this.each(function(){var o=t(this).data(rt);if(o||(o=new e(this,"object"==typeof n&&n),t(this).data(rt,o)),"string"==typeof n){if(void 0===o[n])throw new TypeError('No method named "'+n+'"');o[n]()}})},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return lt}}]),e}();t(window).on(ut.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),n=e.length;n--;){var o=t(e[n]);vt._jQueryInterface.call(o,o.data())}}),t.fn[it]=vt._jQueryInterface,t.fn[it].Constructor=vt,t.fn[it].noConflict=function(){return t.fn[it]=st,vt._jQueryInterface};var bt="bs.tab",yt="."+bt,wt=t.fn.tab,Ct={HIDE:"hide"+yt,HIDDEN:"hidden"+yt,SHOW:"show"+yt,SHOWN:"shown"+yt,CLICK_DATA_API:"click"+yt+".data-api"},xt="active",St=".active",kt="> li > .active",Tt=function(){function e(e){this._element=e}var n=e.prototype;return n.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(xt)||t(this._element).hasClass("disabled"))){var n,o,i=t(this._element).closest(".nav, .list-group")[0],r=s.getSelectorFromElement(this._element);if(i){var a="UL"===i.nodeName||"OL"===i.nodeName?kt:St;o=(o=t.makeArray(t(i).find(a)))[o.length-1]}var l=t.Event(Ct.HIDE,{relatedTarget:this._element}),c=t.Event(Ct.SHOW,{relatedTarget:o});if(o&&t(o).trigger(l),t(this._element).trigger(c),!c.isDefaultPrevented()&&!l.isDefaultPrevented()){r&&(n=document.querySelector(r)),this._activate(this._element,i);var u=function(){var n=t.Event(Ct.HIDDEN,{relatedTarget:e._element}),i=t.Event(Ct.SHOWN,{relatedTarget:o});t(o).trigger(n),t(e._element).trigger(i)};n?this._activate(n,n.parentNode,u):u()}}},n.dispose=function(){t.removeData(this._element,bt),this._element=null},n._activate=function(e,n,o){var i=this,r=(!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?t(n).children(St):t(n).find(kt))[0],a=o&&r&&t(r).hasClass("fade"),l=function(){return i._transitionComplete(e,r,o)};if(r&&a){var c=s.getTransitionDurationFromElement(r);t(r).removeClass("show").one(s.TRANSITION_END,l).emulateTransitionEnd(c)}else l()},n._transitionComplete=function(e,n,o){if(n){t(n).removeClass(xt);var i=t(n.parentNode).find("> .dropdown-menu .active")[0];i&&t(i).removeClass(xt),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(t(e).addClass(xt),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),s.reflow(e),e.classList.contains("fade")&&e.classList.add("show"),e.parentNode&&t(e.parentNode).hasClass("dropdown-menu")){var r=t(e).closest(".dropdown")[0];if(r){var a=[].slice.call(r.querySelectorAll(".dropdown-toggle"));t(a).addClass(xt)}e.setAttribute("aria-expanded",!0)}o&&o()},e._jQueryInterface=function(n){return this.each(function(){var o=t(this),i=o.data(bt);if(i||(i=new e(this),o.data(bt,i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),e}();t(document).on(Ct.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(e){e.preventDefault(),Tt._jQueryInterface.call(t(this),"show")}),t.fn.tab=Tt._jQueryInterface,t.fn.tab.Constructor=Tt,t.fn.tab.noConflict=function(){return t.fn.tab=wt,Tt._jQueryInterface};var _t="toast",Et="bs.toast",It="."+Et,At=t.fn[_t],Pt={CLICK_DISMISS:"click.dismiss"+It,HIDE:"hide"+It,HIDDEN:"hidden"+It,SHOW:"show"+It,SHOWN:"shown"+It},Dt="show",Nt="showing",Lt={animation:"boolean",autohide:"boolean",delay:"number"},Ft={animation:!0,autohide:!0,delay:500},Rt=function(){function e(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var n=e.prototype;return n.show=function(){var e=this;t(this._element).trigger(Pt.SHOW),this._config.animation&&this._element.classList.add("fade");var n=function(){e._element.classList.remove(Nt),e._element.classList.add(Dt),t(e._element).trigger(Pt.SHOWN),e._config.autohide&&e.hide()};if(this._element.classList.remove("hide"),this._element.classList.add(Nt),this._config.animation){var o=s.getTransitionDurationFromElement(this._element);t(this._element).one(s.TRANSITION_END,n).emulateTransitionEnd(o)}else n()},n.hide=function(e){var n=this;this._element.classList.contains(Dt)&&(t(this._element).trigger(Pt.HIDE),e?this._close():this._timeout=setTimeout(function(){n._close()},this._config.delay))},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(Dt)&&this._element.classList.remove(Dt),t(this._element).off(Pt.CLICK_DISMISS),t.removeData(this._element,Et),this._element=null,this._config=null},n._getConfig=function(e){return e=r({},Ft,t(this._element).data(),"object"==typeof e&&e?e:{}),s.typeCheckConfig(_t,e,this.constructor.DefaultType),e},n._setListeners=function(){var e=this;t(this._element).on(Pt.CLICK_DISMISS,'[data-dismiss="toast"]',function(){return e.hide(!0)})},n._close=function(){var e=this,n=function(){e._element.classList.add("hide"),t(e._element).trigger(Pt.HIDDEN)};if(this._element.classList.remove(Dt),this._config.animation){var o=s.getTransitionDurationFromElement(this._element);t(this._element).one(s.TRANSITION_END,n).emulateTransitionEnd(o)}else n()},e._jQueryInterface=function(n){return this.each(function(){var o=t(this),i=o.data(Et);if(i||(i=new e(this,"object"==typeof n&&n),o.data(Et,i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n](this)}})},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return Lt}},{key:"Default",get:function(){return Ft}}]),e}();t.fn[_t]=Rt._jQueryInterface,t.fn[_t].Constructor=Rt,t.fn[_t].noConflict=function(){return t.fn[_t]=At,Rt._jQueryInterface},function(){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||4<=e[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),e.Util=s,e.Alert=f,e.Button=S,e.Carousel=O,e.Collapse=X,e.Dropdown=pe,e.Modal=_e,e.Popover=ot,e.Scrollspy=vt,e.Tab=Tt,e.Toast=Rt,e.Tooltip=Ge,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0),n(10))},function(e,t,n){"use strict";n.r(t),function(e){for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.15.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document,o=["Edge","Trident","Firefox"],i=0,r=0;r<o.length;r+=1)if(n&&navigator.userAgent.indexOf(o[r])>=0){i=1;break}var a=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},i))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function l(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function c(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=l(e),n=t.overflow,o=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+o)?e:u(c(e))}var d=n&&!(!window.MSInputMethodContext||!document.documentMode),p=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?d:10===e?p:d||p}function h(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var o=n&&n.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===l(n,"position")?h(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?e:t,i=n?t:e,r=document.createRange();r.setStart(o,0),r.setEnd(i,0);var a,s,l=r.commonAncestorContainer;if(e!==l&&t!==l||o.contains(i))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&h(a.firstElementChild)!==a?h(l):l;var c=m(e);return c.host?g(c.host,t):g(e,m(t).host)}function v(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var o=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||o)[t]}return e[t]}function b(e,t){var n="x"===t?"Left":"Top",o="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+o+"Width"],10)}function y(e,t,n,o){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(o["margin"+("Height"===e?"Top":"Left")])+parseInt(o["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,n=e.documentElement,o=f(10)&&getComputedStyle(n);return{height:y("Height",t,n,o),width:y("Width",t,n,o)}}var C=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),S=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function T(e){return k({},e,{right:e.left+e.width,bottom:e.top+e.height})}function _(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=v(e,"top"),o=v(e,"left");t.top+=n,t.left+=o,t.bottom+=n,t.right+=o}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?w(e.ownerDocument):{},a=r.width||e.clientWidth||i.right-i.left,s=r.height||e.clientHeight||i.bottom-i.top,c=e.offsetWidth-a,u=e.offsetHeight-s;if(c||u){var d=l(e);c-=b(d,"x"),u-=b(d,"y"),i.width-=c,i.height-=u}return T(i)}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=f(10),i="HTML"===t.nodeName,r=_(e),a=_(t),s=u(e),c=l(t),d=parseFloat(c.borderTopWidth,10),p=parseFloat(c.borderLeftWidth,10);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var h=T({top:r.top-a.top-d,left:r.left-a.left-p,width:r.width,height:r.height});if(h.marginTop=0,h.marginLeft=0,!o&&i){var m=parseFloat(c.marginTop,10),g=parseFloat(c.marginLeft,10);h.top-=d-m,h.bottom-=d-m,h.left-=p-g,h.right-=p-g,h.marginTop=m,h.marginLeft=g}return(o&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=v(t,"top"),i=v(t,"left"),r=n?-1:1;return e.top+=o*r,e.bottom+=o*r,e.left+=i*r,e.right+=i*r,e}(h,t)),h}function I(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===l(t,"transform");)t=t.parentElement;return t||document.documentElement}function A(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},a=i?I(e):g(e,t);if("viewport"===o)r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,o=E(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:v(n),s=t?0:v(n,"left");return T({top:a-o.top+o.marginTop,left:s-o.left+o.marginLeft,width:i,height:r})}(a,i);else{var s=void 0;"scrollParent"===o?"BODY"===(s=u(c(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===o?e.ownerDocument.documentElement:o;var d=E(s,a,i);if("HTML"!==s.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===l(t,"position"))return!0;var o=c(t);return!!o&&e(o)}(a))r=d;else{var p=w(e.ownerDocument),f=p.height,h=p.width;r.top+=d.top-d.marginTop,r.bottom=f+d.top,r.left+=d.left-d.marginLeft,r.right=h+d.left}}var m="number"==typeof(n=n||0);return r.left+=m?n:n.left||0,r.top+=m?n:n.top||0,r.right-=m?n:n.right||0,r.bottom-=m?n:n.bottom||0,r}function P(e,t,n,o,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=A(n,o,r,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map(function(e){return k({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,o=e.height;return t>=n.clientWidth&&o>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function D(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return E(n,o?I(t):g(t,n),o)}function N(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),o=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+o,height:e.offsetHeight+n}}function L(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function F(e,t,n){n=n.split("-")[0];var o=N(e),i={width:o.width,height:o.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",s=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return i[a]=t[a]+t[l]/2-o[l]/2,i[s]=n===s?t[s]-o[c]:t[L(s)],i}function R(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function $(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var o=R(e,function(e){return e[t]===n});return e.indexOf(o)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&s(n)&&(t.offsets.popper=T(t.offsets.popper),t.offsets.reference=T(t.offsets.reference),t=n(t,e))}),t}function M(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function O(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<t.length;o++){var i=t[o],r=i?""+i+n:e;if(void 0!==document.body.style[r])return r}return null}function B(e){var t=e.ownerDocument;return t?t.defaultView:window}function H(e,t,n,o){n.updateBound=o,B(e).addEventListener("resize",n.updateBound,{passive:!0});var i=u(e);return function e(t,n,o,i){var r="BODY"===t.nodeName,a=r?t.ownerDocument.defaultView:t;a.addEventListener(n,o,{passive:!0}),r||e(u(a.parentNode),n,o,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function z(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,B(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function j(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function U(e,t){Object.keys(t).forEach(function(n){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&j(t[n])&&(o="px"),e.style[n]=t[n]+o})}var W=n&&/Firefox/i.test(navigator.userAgent);function q(e,t,n){var o=R(e,function(e){return e.name===t}),i=!!o&&e.some(function(e){return e.name===n&&e.enabled&&e.order<o.order});if(!i){var r="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return i}var V=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],G=V.slice(3);function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=G.indexOf(e),o=G.slice(n+1).concat(G.slice(0,n));return t?o.reverse():o}var Z={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Y(e,t,n,o){var i=[0,0],r=-1!==["right","left"].indexOf(o),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(R(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(e,o){var i=(1===o?!r:r)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,o){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],a=i[2];if(!r)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=o}return T(s)[t]/100*r}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r;return r}(e,i,t,n)})})).forEach(function(e,t){e.forEach(function(n,o){j(n)&&(i[t]+=n*("-"===e[o-1]?-1:1))})}),i}var X={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],o=t.split("-")[1];if(o){var i=e.offsets,r=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:S({},l,r[l]),end:S({},l,r[l]+r[c]-a[c])};e.offsets.popper=k({},a,u[o])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,o=e.placement,i=e.offsets,r=i.popper,a=i.reference,s=o.split("-")[0],l=void 0;return l=j(+n)?[+n,0]:Y(n,r,a,s),"left"===s?(r.top+=l[0],r.left-=l[1]):"right"===s?(r.top+=l[0],r.left+=l[1]):"top"===s?(r.left+=l[0],r.top-=l[1]):"bottom"===s&&(r.left+=l[0],r.top+=l[1]),e.popper=r,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||h(e.instance.popper);e.instance.reference===n&&(n=h(n));var o=O("transform"),i=e.instance.popper.style,r=i.top,a=i.left,s=i[o];i.top="",i.left="",i[o]="";var l=A(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=r,i.left=a,i[o]=s,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),S({},e,n)},secondary:function(e){var n="right"===e?"left":"top",o=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(o=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),S({},n,o)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=k({},u,d[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,o=t.reference,i=e.placement.split("-")[0],r=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<r(o[l])&&(e.offsets.popper[l]=r(o[l])-n[c]),n[l]>r(o[s])&&(e.offsets.popper[l]=r(o[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!q(e.instance.modifiers,"arrow","keepTogether"))return e;var o=t.element;if("string"==typeof o){if(!(o=e.instance.popper.querySelector(o)))return e}else if(!e.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],r=e.offsets,a=r.popper,s=r.reference,c=-1!==["left","right"].indexOf(i),u=c?"height":"width",d=c?"Top":"Left",p=d.toLowerCase(),f=c?"left":"top",h=c?"bottom":"right",m=N(o)[u];s[h]-m<a[p]&&(e.offsets.popper[p]-=a[p]-(s[h]-m)),s[p]+m>a[h]&&(e.offsets.popper[p]+=s[p]+m-a[h]),e.offsets.popper=T(e.offsets.popper);var g=s[p]+s[u]/2-m/2,v=l(e.instance.popper),b=parseFloat(v["margin"+d],10),y=parseFloat(v["border"+d+"Width"],10),w=g-e.offsets.popper[p]-b-y;return w=Math.max(Math.min(a[u]-m,w),0),e.arrowElement=o,e.offsets.arrow=(S(n={},p,Math.round(w)),S(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(M(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=A(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),o=e.placement.split("-")[0],i=L(o),r=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case Z.FLIP:a=[o,i];break;case Z.CLOCKWISE:a=K(o);break;case Z.COUNTERCLOCKWISE:a=K(o,!0);break;default:a=t.behavior}return a.forEach(function(s,l){if(o!==s||a.length===l+1)return e;o=e.placement.split("-")[0],i=L(o);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===o&&d(c.right)>d(u.left)||"right"===o&&d(c.left)<d(u.right)||"top"===o&&d(c.bottom)>d(u.top)||"bottom"===o&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),h=d(c.right)>d(n.right),m=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),v="left"===o&&f||"right"===o&&h||"top"===o&&m||"bottom"===o&&g,b=-1!==["top","bottom"].indexOf(o),y=!!t.flipVariations&&(b&&"start"===r&&f||b&&"end"===r&&h||!b&&"start"===r&&m||!b&&"end"===r&&g),w=!!t.flipVariationsByContent&&(b&&"start"===r&&h||b&&"end"===r&&f||!b&&"start"===r&&g||!b&&"end"===r&&m),C=y||w;(p||v||C)&&(e.flipped=!0,(p||v)&&(o=a[l+1]),C&&(r=function(e){return"end"===e?"start":"start"===e?"end":e}(r)),e.placement=o+(r?"-"+r:""),e.offsets.popper=k({},e.offsets.popper,F(e.instance.popper,e.offsets.reference,e.placement)),e=$(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],o=e.offsets,i=o.popper,r=o.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=r[n]-(s?i[a?"width":"height"]:0),e.placement=L(t),e.offsets.popper=T(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=R(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,o=t.y,i=e.offsets.popper,r=R(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==r?r:t.gpuAcceleration,s=h(e.instance.popper),l=_(s),c={position:i.position},u=function(e,t){var n=e.offsets,o=n.popper,i=n.reference,r=Math.round,a=Math.floor,s=function(e){return e},l=r(i.width),c=r(o.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||l%2==c%2?r:a:s,f=t?r:s;return{left:p(l%2==1&&c%2==1&&!d&&t?o.left-1:o.left),top:f(o.top),bottom:f(o.bottom),right:p(o.right)}}(e,window.devicePixelRatio<2||!W),d="bottom"===n?"top":"bottom",p="right"===o?"left":"right",f=O("transform"),m=void 0,g=void 0;if(g="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,m="right"===p?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&f)c[f]="translate3d("+m+"px, "+g+"px, 0)",c[d]=0,c[p]=0,c.willChange="transform";else{var v="bottom"===d?-1:1,b="right"===p?-1:1;c[d]=g*v,c[p]=m*b,c.willChange=d+", "+p}var y={"x-placement":e.placement};return e.attributes=k({},y,e.attributes),e.styles=k({},c,e.styles),e.arrowStyles=k({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return U(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&U(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,o,i){var r=D(i,t,e,n.positionFixed),a=P(n.placement,r,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),U(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Q=function(){function e(t,n){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};C(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=a(this.update.bind(this)),this.options=k({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(k({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){o.options.modifiers[t]=k({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return k({name:e},o.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&s(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return x(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=D(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=P(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=F(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=$(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,M(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[O("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return z.call(this)}}]),e}();Q.Utils=("undefined"!=typeof window?window:e).PopperUtils,Q.placements=V,Q.Defaults=X,t.default=Q}.call(this,n(2))},function(e,t,n){(function(e,t){!function(o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var i=function(){function e(e,t,n,o){this.markup=e,this.children=t,this.options=n,this.callback=o}return e.prototype.render=function(e){var t=o(this.markup);if(this.options&&this.options.contents&&t.html(this.options.contents),this.options&&this.options.className&&t.addClass(this.options.className),this.options&&this.options.data&&o.each(this.options.data,function(e,n){t.attr("data-"+e,n)}),this.options&&this.options.click&&t.on("click",this.options.click),this.children){var n=t.find(".note-children-container");this.children.forEach(function(e){e.render(n.length?n:t)})}return this.callback&&this.callback(t,this.options),this.options&&this.options.callback&&this.options.callback(t),e&&e.append(t),t},e}(),r={create:function(e,t){return function(){var n="object"==typeof arguments[1]?arguments[1]:arguments[0],o=Array.isArray(arguments[0])?arguments[0]:[];return n&&n.children&&(o=n.children),new i(e,o,n,t)}}},a=r.create('<div class="note-editor note-frame panel panel-default"/>'),s=r.create('<div class="note-toolbar panel-heading" role="toolbar"></div></div>'),l=r.create('<div class="note-editing-area"/>'),c=r.create('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),u=r.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),d=r.create(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),p=r.create('<div class="note-editor"/>'),f=r.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),h=r.create('<div class="note-btn-group btn-group">'),m=r.create('<ul class="dropdown-menu" role="list">',function(e,t){var n=Array.isArray(t.items)?t.items.map(function(e){var n="string"==typeof e?e:e.value||"",o=t.template?t.template(e):e,i="object"==typeof e?e.option:void 0,r='data-value="'+n+'"',a=void 0!==i?' data-option="'+i+'"':"";return'<li role="listitem" aria-label="'+n+'"><a href="#" '+(r+a)+">"+o+"</a></li>"}).join(""):t.items;e.html(n).attr({"aria-label":t.title})}),g=r.create('<ul class="dropdown-menu note-check" role="list">',function(e,t){var n=Array.isArray(t.items)?t.items.map(function(e){var n="string"==typeof e?e:e.value||"",o=t.template?t.template(e):e;return'<li role="listitem" aria-label="'+e+'"><a href="#" data-value="'+n+'">'+C(t.checkClassName)+" "+o+"</a></li>"}).join(""):t.items;e.html(n).attr({"aria-label":t.title})}),v=r.create('<div class="note-color-palette"/>',function(e,t){for(var n=[],o=0,i=t.colors.length;o<i;o++){for(var r=t.eventName,a=t.colors[o],s=t.colorsName[o],l=[],c=0,u=a.length;c<u;c++){var d=a[c],p=s[c];l.push(['<button type="button" class="note-color-btn"','style="background-color:',d,'" ','data-event="',r,'" ','data-value="',d,'" ','title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(n.join("")),t.tooltip&&e.find(".note-color-btn").tooltip({container:t.container,trigger:"hover",placement:"bottom"})}),b=r.create('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">'+t.title+"</h4>    </div>":"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),y=r.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var n=void 0!==t.direction?t.direction:"bottom";e.addClass(n),t.hideArrow&&e.find(".arrow").hide()}),w=r.create('<div class="checkbox"></div>',function(e,t){e.html(["<label"+(t.id?' for="'+t.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(t.id?' id="'+t.id+'"':""),t.checked?" checked":"",' aria-checked="'+(t.checked?"true":"false")+'"/>',t.text?t.text:"","</label>"].join(""))}),C=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'},x={editor:a,toolbar:s,editingArea:l,codable:c,editable:u,statusbar:d,airEditor:p,airEditable:f,buttonGroup:h,dropdown:m,dropdownButtonContents:function(e,t){return e+" "+C(t.icons.caret,"span")},dropdownCheck:g,palette:v,dialog:b,popover:y,checkbox:w,icon:C,options:{},button:function(e,t){return r.create('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip,"aria-label":t.tooltip}).tooltip({container:void 0!==t.container?t.container:"body",trigger:"hover",placement:"bottom"}).on("click",function(e){o(e.currentTarget).tooltip("hide")})})(e,t)},toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){var n=(t.airMode?x.airEditor([x.editingArea([x.airEditable()])]):x.editor([x.toolbar(),x.editingArea([x.codable(),x.editable()]),x.statusbar()])).render();return n.insertAfter(e),{note:e,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};o.summernote=o.summernote||{lang:{}},o.extend(o.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var S,k=n(3),T=navigator.userAgent,_=/MSIE|Trident/i.test(T);if(_){var E=/MSIE (\d+[.]\d+)/.exec(T);E&&(S=parseFloat(E[1])),(E=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(T))&&(S=parseFloat(E[1]))}var I=/Edge\/\d+/.test(T),A=!!window.CodeMirror,P="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,D=_||I?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",N={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:_,isEdge:I,isFF:!I&&/firefox/i.test(T),isPhantom:/PhantomJS/i.test(T),isWebkit:!I&&/webkit/i.test(T),isChrome:!I&&/chrome/i.test(T),isSafari:!I&&/safari/i.test(T),browserVersion:S,jqueryVersion:parseFloat(o.fn.jquery),isSupportAmd:k,isSupportTouch:P,hasCodeMirror:A,isFontInstalled:function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n=document.createElement("canvas").getContext("2d");n.font="200px '"+t+"'";var o=n.measureText("mmmmmmmmmmwwwww").width;n.font="200px '"+e+"', '"+t+"'";var i=n.measureText("mmmmmmmmmmwwwww").width;return o!==i},isW3CRangeSupport:!!document.createRange,inputEventName:D},L=0,F={eq:function(e){return function(t){return e===t}},eq2:function(e,t){return e===t},peq2:function(e){return function(t,n){return t[e]===n[e]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(e,t){return function(n){return e(n)&&t(n)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},uniqueId:function(e){var t=++L+"";return e?e+t:t},rect2bnd:function(t){var n=e(document);return{top:t.top+n.scrollTop(),left:t.left+n.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},debounce:function(e,t,n){var o;return function(){var i=this,r=arguments,a=function(){o=null,n||e.apply(i,r)},s=n&&!o;clearTimeout(o),o=setTimeout(a,t),s&&e.apply(i,r)}},isValidUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi.test(e)}};function R(e){return e[0]}function $(e){return e[e.length-1]}function M(e){return e.slice(1)}function O(e,t){return!!(e&&e.length&&t)&&-1!==e.indexOf(t)}var B={head:R,last:$,initial:function(e){return e.slice(0,e.length-1)},tail:M,prev:function(e,t){if(e&&e.length&&t){var n=e.indexOf(t);return-1===n?null:e[n-1]}return null},next:function(e,t){if(e&&e.length&&t){var n=e.indexOf(t);return-1===n?null:e[n+1]}return null},find:function(e,t){for(var n=0,o=e.length;n<o;n++){var i=e[n];if(t(i))return i}},contains:O,all:function(e,t){for(var n=0,o=e.length;n<o;n++)if(!t(e[n]))return!1;return!0},sum:function(e,t){return t=t||F.self,e.reduce(function(e,n){return e+t(n)},0)},from:function(e){for(var t=[],n=e.length,o=-1;++o<n;)t[o]=e[o];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,t){return e.length?M(e).reduce(function(e,n){var o=$(e);return t($(o),n)?o[o.length]=n:e[e.length]=[n],e},[[R(e)]]):[]},compact:function(e){for(var t=[],n=0,o=e.length;n<o;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,o=e.length;n<o;n++)O(t,e[n])||t.push(e[n]);return t}},H=String.fromCharCode(160);function z(e){return e&&o(e).hasClass("note-editable")}function j(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function U(e){return e&&3===e.nodeType}function W(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(e.nodeName.toUpperCase())}function q(e){return!z(e)&&e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())}var V=j("PRE"),G=j("LI"),K=j("TABLE"),Z=j("DATA");function Y(e){return!(te(e)||X(e)||Q(e)||q(e)||K(e)||ee(e)||Z(e))}function X(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var Q=j("HR");function J(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var ee=j("BLOCKQUOTE");function te(e){return J(e)||ee(e)||z(e)}var ne=j("A"),oe=j("BODY"),ie=N.isMSIE&&N.browserVersion<11?"&nbsp;":"<br>";function re(e){return U(e)?e.nodeValue.length:e?e.childNodes.length:0}function ae(e){var t=re(e);return 0===t||!U(e)&&1===t&&e.innerHTML===ie||!(!B.all(e.childNodes,U)||""!==e.innerHTML)}function se(e){W(e)||re(e)||(e.innerHTML=ie)}function le(e,t){for(;e;){if(t(e))return e;if(z(e))break;e=e.parentNode}return null}function ce(e,t){t=t||F.fail;var n=[];return le(e,function(e){return z(e)||n.push(e),t(e)}),n}function ue(e,t){t=t||F.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n}function de(e,t){var n=t.nextSibling,o=t.parentNode;return n?o.insertBefore(e,n):o.appendChild(e),e}function pe(e,t){return o.each(t,function(t,n){e.appendChild(n)}),e}function fe(e){return 0===e.offset}function he(e){return e.offset===re(e.node)}function me(e){return fe(e)||he(e)}function ge(e,t){for(;e&&e!==t;){if(0!==be(e))return!1;e=e.parentNode}return!0}function ve(e,t){if(!t)return!1;for(;e&&e!==t;){if(be(e)!==re(e.parentNode)-1)return!1;e=e.parentNode}return!0}function be(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function ye(e){return!!(e&&e.childNodes&&e.childNodes.length)}function we(e,t){var n,o;if(0===e.offset){if(z(e.node))return null;n=e.node.parentNode,o=be(e.node)}else ye(e.node)?(n=e.node.childNodes[e.offset-1],o=re(n)):(n=e.node,o=t?0:e.offset-1);return{node:n,offset:o}}function Ce(e,t){var n,o;if(re(e.node)===e.offset){if(z(e.node))return null;n=e.node.parentNode,o=be(e.node)+1}else ye(e.node)?(n=e.node.childNodes[e.offset],o=0):(n=e.node,o=t?re(e.node):e.offset+1);return{node:n,offset:o}}function xe(e,t){return e.node===t.node&&e.offset===t.offset}function Se(e,t){var n=t&&t.isSkipPaddingBlankHTML,o=t&&t.isNotSplitEdgePoint,i=t&&t.isDiscardEmptySplits;if(i&&(n=!0),me(e)&&(U(e.node)||o)){if(fe(e))return e.node;if(he(e))return e.node.nextSibling}if(U(e.node))return e.node.splitText(e.offset);var r=e.node.childNodes[e.offset],a=de(e.node.cloneNode(!1),e.node);return pe(a,ue(r)),n||(se(e.node),se(a)),i&&(ae(e.node)&&_e(e.node),ae(a))?(_e(a),e.node.nextSibling):a}function ke(e,t,n){var o=ce(t.node,F.eq(e));return o.length?1===o.length?Se(t,n):o.reduce(function(e,o){return e===t.node&&(e=Se(t,n)),Se({node:o,offset:e?be(e):re(o)},n)}):null}function Te(e){return document.createElement(e)}function _e(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){for(var o=[],i=0,r=e.childNodes.length;i<r;i++)o.push(e.childNodes[i]);for(var i=0,r=o.length;i<r;i++)n.insertBefore(o[i],e)}n.removeChild(e)}}var Ee=j("TEXTAREA");function Ie(e,t){var n=Ee(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n}var Ae={NBSP_CHAR:H,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:ie,emptyPara:"<p>"+ie+"</p>",makePredByNodeName:j,isEditable:z,isControlSizing:function(e){return e&&o(e).hasClass("note-control-sizing")},isText:U,isElement:function(e){return e&&1===e.nodeType},isVoid:W,isPara:q,isPurePara:function(e){return q(e)&&!G(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:Y,isBlock:F.not(Y),isBodyInline:function(e){return Y(e)&&!le(e,q)},isBody:oe,isParaInline:function(e){return Y(e)&&!!le(e,q)},isPre:V,isList:X,isTable:K,isData:Z,isCell:J,isBlockquote:ee,isBodyContainer:te,isAnchor:ne,isDiv:j("DIV"),isLi:G,isBR:j("BR"),isSpan:j("SPAN"),isB:j("B"),isU:j("U"),isS:j("S"),isI:j("I"),isImg:j("IMG"),isTextarea:Ee,isEmpty:ae,isEmptyAnchor:F.and(ne,ae),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||F.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:re,isLeftEdgePoint:fe,isRightEdgePoint:he,isEdgePoint:me,isLeftEdgeOf:ge,isRightEdgeOf:ve,isLeftEdgePointOf:function(e,t){return fe(e)&&ge(e.node,t)},isRightEdgePointOf:function(e,t){return he(e)&&ve(e.node,t)},prevPoint:we,nextPoint:Ce,isSamePoint:xe,isVisiblePoint:function(e){if(U(e.node)||!ye(e.node)||ae(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return!(t&&!W(t)||n&&!W(n))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=we(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=Ce(e)}return null},isCharPoint:function(e){if(!U(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==H},walkPoint:function(e,t,n,o){for(var i=e;i&&(n(i),!xe(i,t));){var r=o&&e.node!==i.node&&t.node!==i.node;i=Ce(i,r)}},ancestor:le,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===re(e);){if(t(e))return e;if(z(e))break;e=e.parentNode}return null},listAncestor:ce,lastAncestor:function(e,t){var n=ce(e);return B.last(n.filter(t))},listNext:ue,listPrev:function(e,t){t=t||F.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(e,t){var n=[];return t=t||F.ok,function o(i){e!==i&&t(i)&&n.push(i);for(var r=0,a=i.childNodes.length;r<a;r++)o(i.childNodes[r])}(e),n},commonAncestor:function(e,t){for(var n=ce(e),o=t;o;o=o.parentNode)if(n.indexOf(o)>-1)return o;return null},wrap:function(e,t){var n=e.parentNode,i=o("<"+t+">")[0];return n.insertBefore(i,e),i.appendChild(e),i},insertAfter:de,appendChildNodes:pe,position:be,hasChildren:ye,makeOffsetPath:function(e,t){return ce(t,F.eq(e)).map(be).reverse()},fromOffsetPath:function(e,t){for(var n=e,o=0,i=t.length;o<i;o++)n=n.childNodes.length<=t[o]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[o]];return n},splitTree:ke,splitPoint:function(e,t){var n,o,i=t?q:te,r=ce(e.node,i),a=B.last(r)||e.node;i(a)?(n=r[r.length-2],o=a):o=(n=a).parentNode;var s=n&&ke(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return s||o!==e.node||(s=e.node.childNodes[e.offset]),{rightNode:s,container:o}},create:Te,createText:function(e){return document.createTextNode(e)},remove:_e,removeWhile:function(e,t){for(;e&&!z(e)&&t(e);){var n=e.parentNode;_e(e),e=n}},replace:function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=Te(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),pe(n,B.from(e.childNodes)),de(n,e),_e(e),n},html:function(e,t){var n=Ie(e);return t&&(n=(n=n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,n){n=n.toUpperCase();var o=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,i=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(o||i?"\n":"")})).trim()),n},value:Ie,posFromPlaceholder:function(e){var t=o(e),n=t.offset(),i=t.outerHeight(!0);return{left:n.left,top:n.top+i}},attachEvents:function(e,t){Object.keys(t).forEach(function(n){e.on(n,t[n])})},detachEvents:function(e,t){Object.keys(t).forEach(function(n){e.off(n,t[n])})},isCustomStyleTag:function(e){return e&&!U(e)&&B.contains(e.classList,"note-styletag")}},Pe=function(){function e(e,t){this.ui=o.summernote.ui,this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize()}return e.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},e.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},e.prototype.reset=function(){var e=this.isDisabled();this.code(Ae.emptyPara),this._destroy(),this._initialize(),e&&this.disable()},e.prototype._initialize=function(){var e=this,t=o.extend({},this.options.buttons);Object.keys(t).forEach(function(n){e.memo("button."+n,t[n])});var n=o.extend({},this.options.modules,o.summernote.plugins||{});Object.keys(n).forEach(function(t){e.module(t,n[t],!0)}),Object.keys(this.modules).forEach(function(t){e.initializeModule(t)})},e.prototype._destroy=function(){var e=this;Object.keys(this.modules).reverse().forEach(function(t){e.removeModule(t)}),Object.keys(this.memos).forEach(function(t){e.removeMemo(t)}),this.triggerEvent("destroy",this)},e.prototype.code=function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e,this.layoutInfo.editable)},e.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},e.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},e.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},e.prototype.triggerEvent=function(){var e=B.head(arguments),t=B.tail(B.from(arguments)),n=this.options.callbacks[F.namespaceToCamel(e,"on")];n&&n.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)},e.prototype.initializeModule=function(e){var t=this.modules[e];t.shouldInitialize=t.shouldInitialize||F.ok,t.shouldInitialize()&&(t.initialize&&t.initialize(),t.events&&Ae.attachEvents(this.$note,t.events))},e.prototype.module=function(e,t,n){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),n||this.initializeModule(e)},e.prototype.removeModule=function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&Ae.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]},e.prototype.memo=function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t},e.prototype.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},e.prototype.createInvokeHandlerAndUpdateState=function(e,t){var n=this;return function(o){n.createInvokeHandler(e,t)(o),n.invoke("buttons.updateCurrentStyle")}},e.prototype.createInvokeHandler=function(e,t){var n=this;return function(i){i.preventDefault();var r=o(i.target);n.invoke(e,t||r.closest("[data-value]").data("value"),r)}},e.prototype.invoke=function(){var e=B.head(arguments),t=B.tail(B.from(arguments)),n=e.split("."),o=n.length>1,i=o&&B.head(n),r=o?B.last(n):B.head(n),a=this.modules[i||"editor"];return!i&&this[r]?this[r].apply(this,t):a&&a[r]&&a.shouldInitialize()?a[r].apply(a,t):void 0},e}();function De(e,t){var n,o,i=e.parentElement(),r=document.body.createTextRange(),a=B.from(i.childNodes);for(n=0;n<a.length;n++)if(!Ae.isText(a[n])){if(r.moveToElementText(a[n]),r.compareEndPoints("StartToStart",e)>=0)break;o=a[n]}if(0!==n&&Ae.isText(a[n-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(o||i),s.collapse(!o),l=o?o.nextSibling:i.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,t&&l.nextSibling&&Ae.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),i=l,n=u}return{cont:i,offset:n}}function Ne(e){var t=function(e,n){var o,i;if(Ae.isText(e)){var r=Ae.listPrev(e,F.not(Ae.isText)),a=B.last(r).previousSibling;o=a||e.parentNode,n+=B.sum(B.tail(r),Ae.nodeLength),i=!a}else{if(o=e.childNodes[n]||e,Ae.isText(o))return t(o,0);n=0,i=!1}return{node:o,collapseToStart:i,offset:n}},n=document.body.createTextRange(),o=t(e.node,e.offset);return n.moveToElementText(o.node),n.collapse(o.collapseToStart),n.moveStart("character",o.offset),n}o.fn.extend({summernote:function(){var e=o.type(B.head(arguments)),t="string"===e,n="object"===e,i=o.extend({},o.summernote.options,n?B.head(arguments):{});i.langInfo=o.extend(!0,{},o.summernote.lang["en-US"],o.summernote.lang[i.lang]),i.icons=o.extend(!0,{},o.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!N.isSupportTouch:i.tooltip,this.each(function(e,t){var n=o(t);if(!n.data("summernote")){var r=new Pe(n,i);n.data("summernote",r),n.data("summernote").triggerEvent("init",r.layoutInfo)}});var r=this.first();if(r.length){var a=r.data("summernote");if(t)return a.invoke.apply(a,B.from(arguments));i.focus&&a.invoke("editor.focus")}return this}});var Le=function(){function e(e,t,n,o){this.sc=e,this.so=t,this.ec=n,this.eo=o,this.isOnEditable=this.makeIsOn(Ae.isEditable),this.isOnList=this.makeIsOn(Ae.isList),this.isOnAnchor=this.makeIsOn(Ae.isAnchor),this.isOnCell=this.makeIsOn(Ae.isCell),this.isOnData=this.makeIsOn(Ae.isData)}return e.prototype.nativeRange=function(){if(N.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),e.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),e}var t=Ne({node:this.sc,offset:this.so});return t.setEndPoint("EndToEnd",Ne({node:this.ec,offset:this.eo})),t},e.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},e.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},e.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},e.prototype.select=function(){var e=this.nativeRange();if(N.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},e.prototype.scrollIntoView=function(e){var t=o(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this},e.prototype.normalize=function(){var t=function(e,t){if(Ae.isVisiblePoint(e)&&(!Ae.isEdgePoint(e)||Ae.isRightEdgePoint(e)&&!t||Ae.isLeftEdgePoint(e)&&t||Ae.isRightEdgePoint(e)&&t&&Ae.isVoid(e.node.nextSibling)||Ae.isLeftEdgePoint(e)&&!t&&Ae.isVoid(e.node.previousSibling)||Ae.isBlock(e.node)&&Ae.isEmpty(e.node)))return e;var n=Ae.ancestor(e.node,Ae.isBlock);if((Ae.isLeftEdgePointOf(e,n)||Ae.isVoid(Ae.prevPoint(e).node))&&!t||(Ae.isRightEdgePointOf(e,n)||Ae.isVoid(Ae.nextPoint(e).node))&&t){if(Ae.isVisiblePoint(e))return e;t=!t}var o=t?Ae.nextPointUntil(Ae.nextPoint(e),Ae.isVisiblePoint):Ae.prevPointUntil(Ae.prevPoint(e),Ae.isVisiblePoint);return o||e},n=t(this.getEndPoint(),!1),o=this.isCollapsed()?n:t(this.getStartPoint(),!0);return new e(o.node,o.offset,n.node,n.offset)},e.prototype.nodes=function(e,t){e=e||F.ok;var n=t&&t.includeAncestor,o=t&&t.fullyContains,i=this.getStartPoint(),r=this.getEndPoint(),a=[],s=[];return Ae.walkPoint(i,r,function(t){var i;Ae.isEditable(t.node)||(o?(Ae.isLeftEdgePoint(t)&&s.push(t.node),Ae.isRightEdgePoint(t)&&B.contains(s,t.node)&&(i=t.node)):i=n?Ae.ancestor(t.node,e):t.node,i&&e(i)&&a.push(i))},!0),B.unique(a)},e.prototype.commonAncestor=function(){return Ae.commonAncestor(this.sc,this.ec)},e.prototype.expand=function(t){var n=Ae.ancestor(this.sc,t),o=Ae.ancestor(this.ec,t);if(!n&&!o)return new e(this.sc,this.so,this.ec,this.eo);var i=this.getPoints();return n&&(i.sc=n,i.so=0),o&&(i.ec=o,i.eo=Ae.nodeLength(o)),new e(i.sc,i.so,i.ec,i.eo)},e.prototype.collapse=function(t){return t?new e(this.sc,this.so,this.sc,this.so):new e(this.ec,this.eo,this.ec,this.eo)},e.prototype.splitText=function(){var t=this.sc===this.ec,n=this.getPoints();return Ae.isText(this.ec)&&!Ae.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Ae.isText(this.sc)&&!Ae.isEdgePoint(this.getStartPoint())&&(n.sc=this.sc.splitText(this.so),n.so=0,t&&(n.ec=n.sc,n.eo=this.eo-this.so)),new e(n.sc,n.so,n.ec,n.eo)},e.prototype.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),n=t.nodes(null,{fullyContains:!0}),i=Ae.prevPointUntil(t.getStartPoint(),function(e){return!B.contains(n,e.node)}),r=[];return o.each(n,function(e,t){var n=t.parentNode;i.node!==n&&1===Ae.nodeLength(n)&&r.push(n),Ae.remove(t,!1)}),o.each(r,function(e,t){Ae.remove(t,!1)}),new e(i.node,i.offset,i.node,i.offset).normalize()},e.prototype.makeIsOn=function(e){return function(){var t=Ae.ancestor(this.sc,e);return!!t&&t===Ae.ancestor(this.ec,e)}},e.prototype.isLeftEdgeOf=function(e){if(!Ae.isLeftEdgePoint(this.getStartPoint()))return!1;var t=Ae.ancestor(this.sc,e);return t&&Ae.isLeftEdgeOf(this.sc,t)},e.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},e.prototype.wrapBodyInlineWithPara=function(){if(Ae.isBodyContainer(this.sc)&&Ae.isEmpty(this.sc))return this.sc.innerHTML=Ae.emptyPara,new e(this.sc.firstChild,0,this.sc.firstChild,0);var t,n=this.normalize();if(Ae.isParaInline(this.sc)||Ae.isPara(this.sc))return n;if(Ae.isInline(n.sc)){var o=Ae.listAncestor(n.sc,F.not(Ae.isInline));t=B.last(o),Ae.isInline(t)||(t=o[o.length-2]||n.sc.childNodes[n.so])}else t=n.sc.childNodes[n.so>0?n.so-1:0];var i=Ae.listPrev(t,Ae.isParaInline).reverse();if((i=i.concat(Ae.listNext(t.nextSibling,Ae.isParaInline))).length){var r=Ae.wrap(B.head(i),"p");Ae.appendChildNodes(r,B.tail(i))}return this.normalize()},e.prototype.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),n=Ae.splitPoint(t.getStartPoint(),Ae.isInline(e));return n.rightNode?n.rightNode.parentNode.insertBefore(e,n.rightNode):n.container.appendChild(e),e},e.prototype.pasteHTML=function(e){var t=o("<div></div>").html(e)[0],n=B.from(t.childNodes),i=this.wrapBodyInlineWithPara().deleteContents();return i.so>0&&(n=n.reverse()),n=n.map(function(e){return i.insertNode(e)}),i.so>0&&(n=n.reverse()),n},e.prototype.toString=function(){var e=this.nativeRange();return N.isW3CRangeSupport?e.toString():e.text},e.prototype.getWordRange=function(t){var n=this.getEndPoint();if(!Ae.isCharPoint(n))return this;var o=Ae.prevPointUntil(n,function(e){return!Ae.isCharPoint(e)});return t&&(n=Ae.nextPointUntil(n,function(e){return!Ae.isCharPoint(e)})),new e(o.node,o.offset,n.node,n.offset)},e.prototype.bookmark=function(e){return{s:{path:Ae.makeOffsetPath(e,this.sc),offset:this.so},e:{path:Ae.makeOffsetPath(e,this.ec),offset:this.eo}}},e.prototype.paraBookmark=function(e){return{s:{path:B.tail(Ae.makeOffsetPath(B.head(e),this.sc)),offset:this.so},e:{path:B.tail(Ae.makeOffsetPath(B.last(e),this.ec)),offset:this.eo}}},e.prototype.getClientRects=function(){var e=this.nativeRange();return e.getClientRects()},e}(),Fe={create:function(e,t,n,o){if(4===arguments.length)return new Le(e,t,n,o);if(2===arguments.length)return new Le(e,t,n=e,o=t);var i=this.createFromSelection();return i||1!==arguments.length?i:(i=this.createFromNode(arguments[0])).collapse(Ae.emptyPara===arguments[0].innerHTML)},createFromSelection:function(){var e,t,n,o;if(N.isW3CRangeSupport){var i=document.getSelection();if(!i||0===i.rangeCount)return null;if(Ae.isBody(i.anchorNode))return null;var r=i.getRangeAt(0);e=r.startContainer,t=r.startOffset,n=r.endContainer,o=r.endOffset}else{var a=document.selection.createRange(),s=a.duplicate();s.collapse(!1);var l=a;l.collapse(!0);var c=De(l,!0),u=De(s,!1);Ae.isText(c.node)&&Ae.isLeftEdgePoint(c)&&Ae.isTextNode(u.node)&&Ae.isRightEdgePoint(u)&&u.node.nextSibling===c.node&&(c=u),e=c.cont,t=c.offset,n=u.cont,o=u.offset}return new Le(e,t,n,o)},createFromNode:function(e){var t=e,n=0,o=e,i=Ae.nodeLength(o);return Ae.isVoid(t)&&(n=Ae.listPrev(t).length-1,t=t.parentNode),Ae.isBR(o)?(i=Ae.listPrev(o).length-1,o=o.parentNode):Ae.isVoid(o)&&(i=Ae.listPrev(o).length,o=o.parentNode),this.create(t,n,o,i)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=Ae.fromOffsetPath(e,t.s.path),o=t.s.offset,i=Ae.fromOffsetPath(e,t.e.path),r=t.e.offset;return new Le(n,o,i,r)},createFromParaBookmark:function(e,t){var n=e.s.offset,o=e.e.offset,i=Ae.fromOffsetPath(B.head(t),e.s.path),r=Ae.fromOffsetPath(B.last(t),e.e.path);return new Le(i,n,r,o)}},Re={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},$e={isEdit:function(e){return B.contains([Re.BACKSPACE,Re.TAB,Re.ENTER,Re.SPACE,Re.DELETE],e)},isMove:function(e){return B.contains([Re.LEFT,Re.UP,Re.RIGHT,Re.DOWN],e)},nameFromCode:F.invertObject(Re),code:Re},Me=function(){function e(e){this.stack=[],this.stackOffset=-1,this.$editable=e,this.editable=e[0]}return e.prototype.makeSnapshot=function(){var e=Fe.create(this.editable);return{contents:this.$editable.html(),bookmark:e&&e.isOnEditable()?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},e.prototype.applySnapshot=function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&Fe.createFromBookmark(this.editable,e.bookmark).select()},e.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},e.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},e.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},e.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},e.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},e.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},e}(),Oe=function(){function e(){}return e.prototype.jQueryCSS=function(e,t){if(N.jqueryVersion<1.9){var n={};return o.each(t,function(t,o){n[o]=e.css(o)}),n}return e.css(t)},e.prototype.fromNode=function(e){var t=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return t["font-size"]=parseInt(t["font-size"],10),t},e.prototype.stylePara=function(e,t){o.each(e.nodes(Ae.isPara,{includeAncestor:!0}),function(e,n){o(n).css(t)})},e.prototype.styleNodes=function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",i=!(!t||!t.expandClosestSibling),r=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(Ae.create(n))];var a=Ae.makePredByNodeName(n),s=e.nodes(Ae.isText,{fullyContains:!0}).map(function(e){return Ae.singleChildAncestor(e,a)||Ae.wrap(e,n)});if(i){if(r){var l=e.nodes();a=F.and(a,function(e){return B.contains(l,e)})}return s.map(function(e){var t=Ae.withClosestSiblings(e,a),n=B.head(t),i=B.tail(t);return o.each(i,function(e,t){Ae.appendChildNodes(n,t.childNodes),Ae.remove(t)}),B.head(t)})}return s},e.prototype.current=function(e){var t=o(Ae.isElement(e.sc)?e.sc:e.sc.parentNode),n=this.fromNode(t);try{n=o.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(e){}if(e.isOnList()){var i=["circle","disc","disc-leading-zero","square"].indexOf(n["list-style-type"])>-1;n["list-style"]=i?"unordered":"ordered"}else n["list-style"]="none";var r=Ae.ancestor(e.sc,Ae.isPara);if(r&&r.style["line-height"])n["line-height"]=r.style.lineHeight;else{var a=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=a.toFixed(1)}return n.anchor=e.isOnAnchor()&&Ae.ancestor(e.sc,Ae.isAnchor),n.ancestors=Ae.listAncestor(e.sc,Ae.isEditable),n.range=e,n},e}(),Be=function(){function e(){}return e.prototype.insertOrderedList=function(e){this.toggleList("OL",e)},e.prototype.insertUnorderedList=function(e){this.toggleList("UL",e)},e.prototype.indent=function(e){var t=this,n=Fe.create(e).wrapBodyInlineWithPara(),i=n.nodes(Ae.isPara,{includeAncestor:!0}),r=B.clusterBy(i,F.peq2("parentNode"));o.each(r,function(e,n){var i=B.head(n);if(Ae.isLi(i)){var r=t.findList(i.previousSibling);r?n.map(function(e){return r.appendChild(e)}):(t.wrapList(n,i.parentNode.nodeName),n.map(function(e){return e.parentNode}).map(function(e){return t.appendToPrevious(e)}))}else o.each(n,function(e,t){o(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),n.select()},e.prototype.outdent=function(e){var t=this,n=Fe.create(e).wrapBodyInlineWithPara(),i=n.nodes(Ae.isPara,{includeAncestor:!0}),r=B.clusterBy(i,F.peq2("parentNode"));o.each(r,function(e,n){var i=B.head(n);Ae.isLi(i)?t.releaseList([n]):o.each(n,function(e,t){o(t).css("marginLeft",function(e,t){return(t=parseInt(t,10)||0)>25?t-25:""})})}),n.select()},e.prototype.toggleList=function(e,t){var n=this,i=Fe.create(t).wrapBodyInlineWithPara(),r=i.nodes(Ae.isPara,{includeAncestor:!0}),a=i.paraBookmark(r),s=B.clusterBy(r,F.peq2("parentNode"));if(B.find(r,Ae.isPurePara)){var l=[];o.each(s,function(t,o){l=l.concat(n.wrapList(o,e))}),r=l}else{var c=i.nodes(Ae.isList,{includeAncestor:!0}).filter(function(t){return!o.nodeName(t,e)});c.length?o.each(c,function(t,n){Ae.replace(n,e)}):r=this.releaseList(s,!0)}Fe.createFromParaBookmark(a,r).select()},e.prototype.wrapList=function(e,t){var n=B.head(e),o=B.last(e),i=Ae.isList(n.previousSibling)&&n.previousSibling,r=Ae.isList(o.nextSibling)&&o.nextSibling,a=i||Ae.insertAfter(Ae.create(t||"UL"),o);return e=e.map(function(e){return Ae.isPurePara(e)?Ae.replace(e,"LI"):e}),Ae.appendChildNodes(a,e),r&&(Ae.appendChildNodes(a,B.from(r.childNodes)),Ae.remove(r)),e},e.prototype.releaseList=function(e,t){var n=this,i=[];return o.each(e,function(e,r){var a=B.head(r),s=B.last(r),l=t?Ae.lastAncestor(a,Ae.isList):a.parentNode,c=l.parentNode;if("LI"===l.parentNode.nodeName)r.map(function(e){var t=n.findNextSiblings(e);c.nextSibling?c.parentNode.insertBefore(e,c.nextSibling):c.parentNode.appendChild(e),t.length&&(n.wrapList(t,l.nodeName),e.appendChild(t[0].parentNode))}),0===l.children.length&&c.removeChild(l),0===c.childNodes.length&&c.parentNode.removeChild(c);else{var u=l.childNodes.length>1?Ae.splitTree(l,{node:s.parentNode,offset:Ae.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,d=Ae.splitTree(l,{node:a.parentNode,offset:Ae.position(a)},{isSkipPaddingBlankHTML:!0});r=t?Ae.listDescendant(d,Ae.isLi):B.from(d.childNodes).filter(Ae.isLi),!t&&Ae.isList(l.parentNode)||(r=r.map(function(e){return Ae.replace(e,"P")})),o.each(B.from(r).reverse(),function(e,t){Ae.insertAfter(t,l)});var p=B.compact([l,d,u]);o.each(p,function(e,t){var n=[t].concat(Ae.listDescendant(t,Ae.isList));o.each(n.reverse(),function(e,t){Ae.nodeLength(t)||Ae.remove(t,!0)})})}i=i.concat(r)}),i},e.prototype.appendToPrevious=function(e){return e.previousSibling?Ae.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")},e.prototype.findList=function(e){return e?B.find(e.children,function(e){return["OL","UL"].indexOf(e.nodeName)>-1}):null},e.prototype.findNextSiblings=function(e){for(var t=[];e.nextSibling;)t.push(e.nextSibling),e=e.nextSibling;return t},e}(),He=function(){function e(e){this.bullet=new Be,this.options=e.options}return e.prototype.insertTab=function(e,t){var n=Ae.createText(new Array(t+1).join(Ae.NBSP_CHAR));(e=e.deleteContents()).insertNode(n,!0),(e=Fe.create(n,t)).select()},e.prototype.insertParagraph=function(e,t){t=(t=(t=t||Fe.create(e)).deleteContents()).wrapBodyInlineWithPara();var n,i=Ae.ancestor(t.sc,Ae.isPara);if(i){if(Ae.isEmpty(i)&&Ae.isLi(i))return void this.bullet.toggleList(i.parentNode.nodeName);var r=null;if(1===this.options.blockquoteBreakingLevel?r=Ae.ancestor(i,Ae.isBlockquote):2===this.options.blockquoteBreakingLevel&&(r=Ae.lastAncestor(i,Ae.isBlockquote)),r){n=o(Ae.emptyPara)[0],Ae.isRightEdgePoint(t.getStartPoint())&&Ae.isBR(t.sc.nextSibling)&&o(t.sc.nextSibling).remove();var a=Ae.splitTree(r,t.getStartPoint(),{isDiscardEmptySplits:!0});a?a.parentNode.insertBefore(n,a):Ae.insertAfter(n,r)}else{n=Ae.splitTree(i,t.getStartPoint());var s=Ae.listDescendant(i,Ae.isEmptyAnchor);s=s.concat(Ae.listDescendant(n,Ae.isEmptyAnchor)),o.each(s,function(e,t){Ae.remove(t)}),(Ae.isHeading(n)||Ae.isPre(n)||Ae.isCustomStyleTag(n))&&Ae.isEmpty(n)&&(n=Ae.replace(n,"p"))}}else{var l=t.sc.childNodes[t.so];n=o(Ae.emptyPara)[0],l?t.sc.insertBefore(n,l):t.sc.appendChild(n)}Fe.create(n,0).normalize().select().scrollIntoView(e)},e}(),ze=function(e,t,n,o){var i={colPos:0,rowPos:0},r=[],a=[];function s(e,t,n,o,i,a,s){var l={baseRow:n,baseCell:o,isRowSpan:i,isColSpan:a,isVirtual:s};r[e]||(r[e]=[]),r[e][t]=l}function l(e,t,n,o){return{baseCell:e.baseCell,action:t,virtualTable:{rowIndex:n,cellIndex:o}}}function c(e,t){if(!r[e])return t;if(!r[e][t])return t;for(var n=t;r[e][n];)if(n++,!r[e][n])return n}function u(e,t){var n=c(e.rowIndex,t.cellIndex),o=t.colSpan>1,r=t.rowSpan>1,a=e.rowIndex===i.rowPos&&t.cellIndex===i.colPos;s(e.rowIndex,n,e,t,r,o,!1);var l=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(l>1)for(var u=1;u<l;u++){var p=e.rowIndex+u;d(p,n,t,a),s(p,n,e,t,!0,o,!0)}var f=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(f>1)for(var h=1;h<f;h++){var m=c(e.rowIndex,n+h);d(e.rowIndex,m,t,a),s(e.rowIndex,m,e,t,r,!0,!0)}}function d(e,t,n,o){e===i.rowPos&&i.colPos>=n.cellIndex&&n.cellIndex<=t&&!o&&i.colPos++}function p(e){switch(t){case ze.where.Column:if(e.isColSpan)return ze.resultAction.SubtractSpanCount;break;case ze.where.Row:if(!e.isVirtual&&e.isRowSpan)return ze.resultAction.AddCell;if(e.isRowSpan)return ze.resultAction.SubtractSpanCount}return ze.resultAction.RemoveCell}function f(e){switch(t){case ze.where.Column:if(e.isColSpan)return ze.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return ze.resultAction.Ignore;break;case ze.where.Row:if(e.isRowSpan)return ze.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return ze.resultAction.Ignore}return ze.resultAction.AddCell}this.getActionList=function(){for(var e=t===ze.where.Row?i.rowPos:-1,o=t===ze.where.Column?i.colPos:-1,s=0,c=!0;c;){var u=e>=0?e:s,d=o>=0?o:s,h=r[u];if(!h)return c=!1,a;var m=h[d];if(!m)return c=!1,a;var g=ze.resultAction.Ignore;switch(n){case ze.requestAction.Add:g=f(m);break;case ze.requestAction.Delete:g=p(m)}a.push(l(m,g,u,d)),s++}return a},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())?(i.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()?i.rowPos=e.parentElement.rowIndex:console.error("Impossible to identify start Row point.",e)):console.error("Impossible to identify start Cell point.",e),function(){for(var e=o.rows,t=0;t<e.length;t++)for(var n=e[t].cells,i=0;i<n.length;i++)u(e[t],n[i])}()};ze.where={Row:0,Column:1},ze.requestAction={Add:0,Delete:1},ze.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var je,Ue=function(){function e(){}return e.prototype.tab=function(e,t){var n=Ae.ancestor(e.commonAncestor(),Ae.isCell),o=Ae.ancestor(n,Ae.isTable),i=Ae.listDescendant(o,Ae.isCell),r=B[t?"prev":"next"](i,n);r&&Fe.create(r,0).select()},e.prototype.addRow=function(e,t){for(var n=Ae.ancestor(e.commonAncestor(),Ae.isCell),i=o(n).closest("tr"),r=this.recoverAttributes(i),a=o("<tr"+r+"></tr>"),s=new ze(n,ze.where.Row,ze.requestAction.Add,o(i).closest("table")[0]),l=s.getActionList(),c=0;c<l.length;c++){var u=l[c],d=this.recoverAttributes(u.baseCell);switch(u.action){case ze.resultAction.AddCell:a.append("<td"+d+">"+Ae.blank+"</td>");break;case ze.resultAction.SumSpanCount:if("top"===t){var p=u.baseCell.parent,f=(p?u.baseCell.closest("tr").rowIndex:0)<=i[0].rowIndex;if(f){var h=o("<div></div>").append(o("<td"+d+">"+Ae.blank+"</td>").removeAttr("rowspan")).html();a.append(h);break}}var m=parseInt(u.baseCell.rowSpan,10);m++,u.baseCell.setAttribute("rowSpan",m)}}if("top"===t)i.before(a);else{var g=n.rowSpan>1;if(g){var v=i[0].rowIndex+(n.rowSpan-2);return void o(o(i).parent().find("tr")[v]).after(o(a))}i.after(a)}},e.prototype.addCol=function(e,t){var n=Ae.ancestor(e.commonAncestor(),Ae.isCell),i=o(n).closest("tr"),r=o(i).siblings();r.push(i);for(var a=new ze(n,ze.where.Column,ze.requestAction.Add,o(i).closest("table")[0]),s=a.getActionList(),l=0;l<s.length;l++){var c=s[l],u=this.recoverAttributes(c.baseCell);switch(c.action){case ze.resultAction.AddCell:"right"===t?o(c.baseCell).after("<td"+u+">"+Ae.blank+"</td>"):o(c.baseCell).before("<td"+u+">"+Ae.blank+"</td>");break;case ze.resultAction.SumSpanCount:if("right"===t){var d=parseInt(c.baseCell.colSpan,10);d++,c.baseCell.setAttribute("colSpan",d)}else o(c.baseCell).before("<td"+u+">"+Ae.blank+"</td>")}}},e.prototype.recoverAttributes=function(e){var t="";if(!e)return t;for(var n=e.attributes||[],o=0;o<n.length;o++)"id"!==n[o].name.toLowerCase()&&n[o].specified&&(t+=" "+n[o].name+"='"+n[o].value+"'");return t},e.prototype.deleteRow=function(e){for(var t=Ae.ancestor(e.commonAncestor(),Ae.isCell),n=o(t).closest("tr"),i=n.children("td, th").index(o(t)),r=n[0].rowIndex,a=new ze(t,ze.where.Row,ze.requestAction.Delete,o(n).closest("table")[0]),s=a.getActionList(),l=0;l<s.length;l++)if(s[l]){var c=s[l].baseCell,u=s[l].virtualTable,d=c.rowSpan&&c.rowSpan>1,p=d?parseInt(c.rowSpan,10):0;switch(s[l].action){case ze.resultAction.Ignore:continue;case ze.resultAction.AddCell:var f=n.next("tr")[0];if(!f)continue;var h=n[0].cells[i];d&&(p>2?(p--,f.insertBefore(h,f.cells[i]),f.cells[i].setAttribute("rowSpan",p),f.cells[i].innerHTML=""):2===p&&(f.insertBefore(h,f.cells[i]),f.cells[i].removeAttribute("rowSpan"),f.cells[i].innerHTML=""));continue;case ze.resultAction.SubtractSpanCount:d&&(p>2?(p--,c.setAttribute("rowSpan",p),u.rowIndex!==r&&c.cellIndex===i&&(c.innerHTML="")):2===p&&(c.removeAttribute("rowSpan"),u.rowIndex!==r&&c.cellIndex===i&&(c.innerHTML="")));continue;case ze.resultAction.RemoveCell:continue}}n.remove()},e.prototype.deleteCol=function(e){for(var t=Ae.ancestor(e.commonAncestor(),Ae.isCell),n=o(t).closest("tr"),i=n.children("td, th").index(o(t)),r=new ze(t,ze.where.Column,ze.requestAction.Delete,o(n).closest("table")[0]),a=r.getActionList(),s=0;s<a.length;s++)if(a[s])switch(a[s].action){case ze.resultAction.Ignore:continue;case ze.resultAction.SubtractSpanCount:var l=a[s].baseCell,c=l.colSpan&&l.colSpan>1;if(c){var u=l.colSpan?parseInt(l.colSpan,10):0;u>2?(u--,l.setAttribute("colSpan",u),l.cellIndex===i&&(l.innerHTML="")):2===u&&(l.removeAttribute("colSpan"),l.cellIndex===i&&(l.innerHTML=""))}continue;case ze.resultAction.RemoveCell:Ae.remove(a[s].baseCell,!0);continue}},e.prototype.createTable=function(e,t,n){for(var i,r=[],a=0;a<e;a++)r.push("<td>"+Ae.blank+"</td>");i=r.join("");for(var s,l=[],c=0;c<t;c++)l.push("<tr>"+i+"</tr>");s=l.join("");var u=o("<table>"+s+"</table>");return n&&n.tableClassName&&u.addClass(n.tableClassName),u[0]},e.prototype.deleteTable=function(e){var t=Ae.ancestor(e.commonAncestor(),Ae.isCell);o(t).closest("table").remove()},e}(),We=function(){function e(e){var t=this;this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Oe,this.table=new Ue,this.typing=new He(e),this.bullet=new Be,this.history=new Me(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var n=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],i=0,r=n.length;i<r;i++)this[n[i]]=function(e){return function(n){t.beforeCommand(),document.execCommand(e,!1,n),t.afterCommand(!0)}}(n[i]),this.context.memo("help."+n[i],this.lang.help[n[i]]);this.fontName=this.wrapCommand(function(e){return t.fontStyling("font-family","'"+e+"'")}),this.fontSize=this.wrapCommand(function(e){return t.fontStyling("font-size",e+"px")});for(var i=1;i<=6;i++)this["formatH"+i]=function(e){return function(){t.formatBlock("H"+e)}}(i),this.context.memo("help.formatH"+i,this.lang.help["formatH"+i]);this.insertParagraph=this.wrapCommand(function(){t.typing.insertParagraph(t.editable)}),this.insertOrderedList=this.wrapCommand(function(){t.bullet.insertOrderedList(t.editable)}),this.insertUnorderedList=this.wrapCommand(function(){t.bullet.insertUnorderedList(t.editable)}),this.indent=this.wrapCommand(function(){t.bullet.indent(t.editable)}),this.outdent=this.wrapCommand(function(){t.bullet.outdent(t.editable)}),this.insertNode=this.wrapCommand(function(e){if(!t.isLimited(o(e).text().length)){var n=t.getLastRange();n.insertNode(e),Fe.createFromNodeAfter(e).select(),t.setLastRange()}}),this.insertText=this.wrapCommand(function(e){if(!t.isLimited(e.length)){var n=t.getLastRange(),o=n.insertNode(Ae.createText(e));Fe.create(o,Ae.nodeLength(o)).select(),t.setLastRange()}}),this.pasteHTML=this.wrapCommand(function(e){if(!t.isLimited(e.length)){e=t.context.invoke("codeview.purify",e);var n=t.getLastRange().pasteHTML(e);Fe.createFromNodeAfter(B.last(n)).select(),t.setLastRange()}}),this.formatBlock=this.wrapCommand(function(e,n){var o=t.options.callbacks.onApplyCustomStyle;o?o.call(t,n,t.context,t.onFormatBlock):t.onFormatBlock(e,n)}),this.insertHorizontalRule=this.wrapCommand(function(){var e=t.getLastRange().insertNode(Ae.create("HR"));e.nextSibling&&(Fe.create(e.nextSibling,0).normalize().select(),t.setLastRange())}),this.lineHeight=this.wrapCommand(function(e){t.style.stylePara(t.getLastRange(),{lineHeight:e})}),this.createLink=this.wrapCommand(function(e){var n=e.url,i=e.text,r=e.isNewWindow,a=e.range||t.getLastRange(),s=i.length-a.toString().length;if(!(s>0&&t.isLimited(s))){var l=a.toString()!==i;"string"==typeof n&&(n=n.trim()),n=t.options.onCreateLink?t.options.onCreateLink(n):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(n)?n:"http://"+n;var c=[];if(l){var u=(a=a.deleteContents()).insertNode(o("<A>"+i+"</A>")[0]);c.push(u)}else c=t.style.styleNodes(a,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});o.each(c,function(e,t){o(t).attr("href",n),r?o(t).attr("target","_blank"):o(t).removeAttr("target")});var d=Fe.createFromNodeBefore(B.head(c)),p=d.getStartPoint(),f=Fe.createFromNodeAfter(B.last(c)),h=f.getEndPoint();Fe.create(p.node,p.offset,h.node,h.offset).select(),t.setLastRange()}}),this.color=this.wrapCommand(function(e){var t=e.foreColor,n=e.backColor;t&&document.execCommand("foreColor",!1,t),n&&document.execCommand("backColor",!1,n)}),this.foreColor=this.wrapCommand(function(e){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,e)}),this.insertTable=this.wrapCommand(function(e){var n=e.split("x"),o=t.getLastRange().deleteContents();o.insertNode(t.table.createTable(n[0],n[1],t.options))}),this.removeMedia=this.wrapCommand(function(){var e=o(t.restoreTarget()).parent();e.parent("figure").length?e.parent("figure").remove():e=o(t.restoreTarget()).detach(),t.context.triggerEvent("media.delete",e,t.$editable)}),this.floatMe=this.wrapCommand(function(e){var n=o(t.restoreTarget());n.toggleClass("note-float-left","left"===e),n.toggleClass("note-float-right","right"===e),n.css("float","none"===e?"":e)}),this.resize=this.wrapCommand(function(e){var n=o(t.restoreTarget());0===(e=parseFloat(e))?n.css("width",""):n.css({width:100*e+"%",height:""})})}return e.prototype.initialize=function(){var e=this;this.$editable.on("keydown",function(t){if(t.keyCode===$e.code.ENTER&&e.context.triggerEvent("enter",t),e.context.triggerEvent("keydown",t),t.isDefaultPrevented()||(e.options.shortcuts?e.handleKeyMap(t):e.preventDefaultEditableShortCuts(t)),e.isLimited(1,t))return!1}).on("keyup",function(t){e.setLastRange(),e.context.triggerEvent("keyup",t)}).on("focus",function(t){e.setLastRange(),e.context.triggerEvent("focus",t)}).on("blur",function(t){e.context.triggerEvent("blur",t)}).on("mousedown",function(t){e.context.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.setLastRange(),e.context.triggerEvent("mouseup",t)}).on("scroll",function(t){e.context.triggerEvent("scroll",t)}).on("paste",function(t){e.setLastRange(),e.context.triggerEvent("paste",t)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(Ae.html(this.$note)||Ae.emptyPara),this.$editable.on(N.inputEventName,F.debounce(function(){e.context.triggerEvent("change",e.$editable.html(),e.$editable)},10)),this.$editor.on("focusin",function(t){e.context.triggerEvent("focusin",t)}).on("focusout",function(t){e.context.triggerEvent("focusout",t)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},e.prototype.destroy=function(){this.$editable.off()},e.prototype.handleKeyMap=function(e){var t=this.options.keyMap[N.isMac?"mac":"pc"],n=[];e.metaKey&&n.push("CMD"),e.ctrlKey&&!e.altKey&&n.push("CTRL"),e.shiftKey&&n.push("SHIFT");var o=$e.nameFromCode[e.keyCode];o&&n.push(o);var i=t[n.join("+")];i?!1!==this.context.invoke(i)&&e.preventDefault():$e.isEdit(e.keyCode)&&this.afterCommand()},e.prototype.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&B.contains([66,73,85],e.keyCode)&&e.preventDefault()},e.prototype.isLimited=function(e,t){return e=e||0,(void 0===t||!($e.isMove(t.keyCode)||t.ctrlKey||t.metaKey||B.contains([$e.code.BACKSPACE,$e.code.DELETE],t.keyCode)))&&this.options.maxTextLength>0&&this.$editable.text().length+e>=this.options.maxTextLength},e.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},e.prototype.setLastRange=function(){this.lastRange=Fe.create(this.editable)},e.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},e.prototype.saveRange=function(e){e&&this.getLastRange().collapse().select()},e.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},e.prototype.saveTarget=function(e){this.$editable.data("target",e)},e.prototype.clearTarget=function(){this.$editable.removeData("target")},e.prototype.restoreTarget=function(){return this.$editable.data("target")},e.prototype.currentStyle=function(){var e=Fe.create();return e&&(e=e.normalize()),e?this.style.current(e):this.style.fromNode(this.$editable)},e.prototype.styleFromNode=function(e){return this.style.fromNode(e)},e.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},e.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},e.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},e.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},e.prototype.afterCommand=function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},e.prototype.tab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}},e.prototype.untab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1},e.prototype.wrapCommand=function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}},e.prototype.insertImage=function(e,t){var n,i=this;return(n=e,o.Deferred(function(e){var t=o("<img>");t.one("load",function(){t.off("error abort"),e.resolve(t)}).one("error abort",function(){t.off("load").detach(),e.reject(t)}).css({display:"none"}).appendTo(document.body).attr("src",n)}).promise()).then(function(e){i.beforeCommand(),"function"==typeof t?t(e):("string"==typeof t&&e.attr("data-filename",t),e.css("width",Math.min(i.$editable.width(),e.width()))),e.show(),Fe.create(i.editable).insertNode(e[0]),Fe.createFromNodeAfter(e[0]).select(),i.setLastRange(),i.afterCommand()}).fail(function(e){i.context.triggerEvent("image.upload.error",e)})},e.prototype.insertImagesAsDataURL=function(e){var t=this;o.each(e,function(e,n){var i=n.name;t.options.maximumImageFileSize&&t.options.maximumImageFileSize<n.size?t.context.triggerEvent("image.upload.error",t.lang.image.maximumFileSizeError):function(e){return o.Deferred(function(t){o.extend(new FileReader,{onload:function(e){var n=e.target.result;t.resolve(n)},onerror:function(e){t.reject(e)}}).readAsDataURL(e)}).promise()}(n).then(function(e){return t.insertImage(e,i)}).fail(function(){t.context.triggerEvent("image.upload.error")})})},e.prototype.insertImagesOrCallback=function(e){var t=this.options.callbacks;t.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImagesAsDataURL(e)},e.prototype.getSelectedText=function(){var e=this.getLastRange();return e.isOnAnchor()&&(e=Fe.createFromNode(Ae.ancestor(e.sc,Ae.isAnchor))),e.toString()},e.prototype.onFormatBlock=function(e,t){if(document.execCommand("FormatBlock",!1,N.isMSIE?"<"+e+">":e),t&&t.length&&(t[0].tagName.toUpperCase()!==e.toUpperCase()&&(t=t.find(e)),t&&t.length)){var n=t[0].className||"";if(n){var i=this.createRange(),r=o([i.sc,i.ec]).closest(e);r.addClass(n)}}},e.prototype.formatPara=function(){this.formatBlock("P")},e.prototype.fontStyling=function(e,t){var n=this.getLastRange();if(n){var i=this.style.styleNodes(n);if(o(i).css(e,t),n.isCollapsed()){var r=B.head(i);r&&!Ae.nodeLength(r)&&(r.innerHTML=Ae.ZERO_WIDTH_NBSP_CHAR,Fe.createFromNodeAfter(r.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",r))}}},e.prototype.unlink=function(){var e=this.getLastRange();if(e.isOnAnchor()){var t=Ae.ancestor(e.sc,Ae.isAnchor);(e=Fe.createFromNode(t)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},e.prototype.getLinkInfo=function(){var e=this.getLastRange().expand(Ae.isAnchor),t=o(B.head(e.nodes(Ae.isAnchor))),n={range:e,text:e.toString(),url:t.length?t.attr("href"):""};return t.length&&(n.isNewWindow="_blank"===t.attr("target")),n},e.prototype.addRow=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())},e.prototype.addCol=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())},e.prototype.deleteRow=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())},e.prototype.deleteCol=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())},e.prototype.deleteTable=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())},e.prototype.resizeTo=function(e,t,n){var o;if(n){var i=e.y/e.x,r=t.data("ratio");o={width:r>i?e.x:e.y/r,height:r>i?e.x*r:e.y}}else o={width:e.x,height:e.y};t.css(o)},e.prototype.hasFocus=function(){return this.$editable.is(":focus")},e.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},e.prototype.isEmpty=function(){return Ae.isEmpty(this.$editable[0])||Ae.emptyPara===this.$editable.html()},e.prototype.empty=function(){this.context.invoke("code",Ae.emptyPara)},e.prototype.normalizeContent=function(){this.$editable[0].normalize()},e}(),qe=function(){function e(e){this.context=e,this.$editable=e.layoutInfo.editable}return e.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},e.prototype.pasteByEvent=function(e){var t=e.originalEvent.clipboardData;if(t&&t.items&&t.items.length){var n=t.items.length>1?t.items[1]:B.head(t.items);"file"===n.kind&&-1!==n.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[n.getAsFile()]),this.context.invoke("editor.afterCommand")}},e}(),Ve=function(){function e(e){this.context=e,this.$eventListener=o(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=o(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return e.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},e.prototype.attachDragAndDropEvent=function(){var e=this,t=o(),n=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(o){var i=e.context.invoke("codeview.isActivated"),r=e.$editor.width()>0&&e.$editor.height()>0;i||t.length||!r||(e.$editor.addClass("dragover"),e.$dropzone.width(e.$editor.width()),e.$dropzone.height(e.$editor.height()),n.text(e.lang.image.dragImageHere)),t=t.add(o.target)},this.documentEventHandlers.onDragleave=function(n){(t=t.not(n.target)).length||e.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){t=o(),e.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){e.$dropzone.addClass("hover"),n.text(e.lang.image.dropImage)}).on("dragleave",function(){e.$dropzone.removeClass("hover"),n.text(e.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(t){var n=t.originalEvent.dataTransfer;t.preventDefault(),n&&n.files&&n.files.length?(e.$editable.focus(),e.context.invoke("editor.insertImagesOrCallback",n.files)):o.each(n.types,function(t,i){var r=n.getData(i);i.toLowerCase().indexOf("text")>-1?e.context.invoke("editor.pasteHTML",r):o(r).each(function(t,n){e.context.invoke("editor.insertNode",n)})})}).on("dragover",!1)},e.prototype.destroy=function(){var e=this;Object.keys(this.documentEventHandlers).forEach(function(t){e.$eventListener.off(t.substr(2).toLowerCase(),e.documentEventHandlers[t])}),this.documentEventHandlers={}},e}();N.hasCodeMirror&&(je=window.CodeMirror);var Ge=function(){function e(e){this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options}return e.prototype.sync=function(){var e=this.isActivated();e&&N.hasCodeMirror&&this.$codable.data("cmEditor").save()},e.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},e.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},e.prototype.purify=function(e){if(this.options.codeviewFilter&&(e=e.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var t=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);e=e.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(e){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(e))return"";for(var n=0,o=t;n<o.length;n++){var i=o[n];if(new RegExp('src="(https?:)?//'+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(e))return e}return""})}return e},e.prototype.activate=function(){var e=this;if(this.$codable.val(Ae.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),N.hasCodeMirror){var t=je.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var n=new je.TernServer(this.options.codemirror.tern);t.ternServer=n,t.on("cursorActivity",function(e){n.updateArgHints(e)})}t.on("blur",function(n){e.context.triggerEvent("blur.codeview",t.getValue(),n)}),t.on("change",function(n){e.context.triggerEvent("change.codeview",t.getValue(),t)}),t.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",t)}else this.$codable.on("blur",function(t){e.context.triggerEvent("blur.codeview",e.$codable.val(),t)}),this.$codable.on("input",function(t){e.context.triggerEvent("change.codeview",e.$codable.val(),e.$codable)})},e.prototype.deactivate=function(){if(N.hasCodeMirror){var e=this.$codable.data("cmEditor");this.$codable.val(e.getValue()),e.toTextArea()}var t=this.purify(Ae.value(this.$codable,this.options.prettifyHtml)||Ae.emptyPara),n=this.$editable.html()!==t;this.$editable.html(t),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),n&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},e.prototype.destroy=function(){this.isActivated()&&this.deactivate()},e}(),Ke=function(){function e(e){this.$document=o(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}return e.prototype.initialize=function(){var e=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(t){t.preventDefault(),t.stopPropagation();var n=e.$editable.offset().top-e.$document.scrollTop(),o=function(t){var o=t.clientY-(n+24);o=e.options.minheight>0?Math.max(o,e.options.minheight):o,o=e.options.maxHeight>0?Math.min(o,e.options.maxHeight):o,e.$editable.height(o)};e.$document.on("mousemove",o).one("mouseup",function(){e.$document.off("mousemove",o)})})},e.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},e}(),Ze=function(){function e(e){var t=this;this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=o(window),this.$scrollbar=o("html, body"),this.onResize=function(){t.resizeTo({h:t.$window.height()-t.$toolbar.outerHeight()})}}return e.prototype.resizeTo=function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)},e.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},e.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},e}(),Ye=function(){function e(e){var t=this;this.context=e,this.$document=o(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,n){t.update(n.target,n)&&n.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){t.update()},"summernote.disable":function(){t.hide()},"summernote.codeview.toggled":function(){t.update()}}}return e.prototype.initialize=function(){var e=this;this.$handle=o(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(t){if(Ae.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var n=e.$handle.find(".note-control-selection").data("target"),o=n.offset(),i=e.$document.scrollTop(),r=function(t){e.context.invoke("editor.resizeTo",{x:t.clientX-o.left,y:t.clientY-(o.top-i)},n,!t.shiftKey),e.update(n[0])};e.$document.on("mousemove",r).one("mouseup",function(t){t.preventDefault(),e.$document.off("mousemove",r),e.context.invoke("editor.afterCommand")}),n.data("ratio")||n.data("ratio",n.height()/n.width())}}),this.$handle.on("wheel",function(t){t.preventDefault(),e.update()})},e.prototype.destroy=function(){this.$handle.remove()},e.prototype.update=function(e,t){if(this.context.isDisabled())return!1;var n=Ae.isImg(e),i=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",e,t),n){var r=o(e),a=r.position(),s={left:a.left+parseInt(r.css("marginLeft"),10),top:a.top+parseInt(r.css("marginTop"),10)},l={w:r.outerWidth(!1),h:r.outerHeight(!1)};i.css({display:"block",left:s.left,top:s.top,width:l.w,height:l.h}).data("target",r);var c=new Image;c.src=r.attr("src");var u=l.w+"x"+l.h+" ("+this.lang.image.original+": "+c.width+"x"+c.height+")";i.find(".note-control-selection-info").text(u),this.context.invoke("editor.saveTarget",e)}else this.hide();return n},e.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},e}(),Xe=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Qe=function(){function e(e){var t=this;this.context=e,this.events={"summernote.keyup":function(e,n){n.isDefaultPrevented()||t.handleKeyup(n)},"summernote.keydown":function(e,n){t.handleKeydown(n)}}}return e.prototype.initialize=function(){this.lastWordRange=null},e.prototype.destroy=function(){this.lastWordRange=null},e.prototype.replace=function(){if(this.lastWordRange){var e=this.lastWordRange.toString(),t=e.match(Xe);if(t&&(t[1]||t[2])){var n=t[1]?e:"http://"+e,i=o("<a />").html(e).attr("href",n)[0];this.context.options.linkTargetBlank&&o(i).attr("target","_blank"),this.lastWordRange.insertNode(i),this.lastWordRange=null,this.context.invoke("editor.focus")}}},e.prototype.handleKeydown=function(e){if(B.contains([$e.code.ENTER,$e.code.SPACE],e.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=t}},e.prototype.handleKeyup=function(e){B.contains([$e.code.ENTER,$e.code.SPACE],e.keyCode)&&this.replace()},e}(),Je=function(){function e(e){var t=this;this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){t.$note.val(e.invoke("code"))}}}return e.prototype.shouldInitialize=function(){return Ae.isTextarea(this.$note[0])},e}(),et=function(){function e(e){var t=this;this.context=e,this.options=e.options.replace||{},this.keys=[$e.code.ENTER,$e.code.SPACE,$e.code.PERIOD,$e.code.COMMA,$e.code.SEMICOLON,$e.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(e,n){n.isDefaultPrevented()||t.handleKeyup(n)},"summernote.keydown":function(e,n){t.handleKeydown(n)}}}return e.prototype.shouldInitialize=function(){return!!this.options.match},e.prototype.initialize=function(){this.lastWord=null},e.prototype.destroy=function(){this.lastWord=null},e.prototype.replace=function(){if(this.lastWord){var e=this,n=this.lastWord.toString();this.options.match(n,function(n){if(n){var o="";if("string"==typeof n?o=Ae.createText(n):n instanceof t?o=n[0]:n instanceof Node&&(o=n),!o)return;e.lastWord.insertNode(o),e.lastWord=null,e.context.invoke("editor.focus")}})}},e.prototype.handleKeydown=function(e){if(this.previousKeydownCode&&B.contains(this.keys,this.previousKeydownCode))this.previousKeydownCode=e.keyCode;else{if(B.contains(this.keys,e.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWord=t}this.previousKeydownCode=e.keyCode}},e.prototype.handleKeyup=function(e){B.contains(this.keys,e.keyCode)&&this.replace()},e}(),tt=function(){function e(e){var t=this;this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}}}return e.prototype.shouldInitialize=function(){return!!this.options.placeholder},e.prototype.initialize=function(){var e=this;this.$placeholder=o('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},e.prototype.destroy=function(){this.$placeholder.remove()},e.prototype.update=function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)},e}(),nt=function(){function e(e){this.ui=o.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=F.invertObject(this.options.keyMap[N.isMac?"mac":"pc"])}return e.prototype.representShortcut=function(e){var t=this.invertedKeyMap[e];return this.options.shortcuts&&t?(N.isMac&&(t=t.replace("CMD","â").replace("SHIFT","â§"))," ("+(t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},e.prototype.button=function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)},e.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},e.prototype.destroy=function(){delete this.fontInstalledMap},e.prototype.isFontInstalled=function(e){return this.fontInstalledMap.hasOwnProperty(e)||(this.fontInstalledMap[e]=N.isFontInstalled(e)||B.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]},e.prototype.isFontDeservedToAdd=function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===["sans-serif","serif","monospace","cursive","fantasy"].indexOf(e)},e.prototype.colorPalette=function(e,t,n,i){var r=this;return this.ui.buttonGroup({className:"note-color "+e,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:t,click:function(e){var t=o(e.currentTarget);n&&i?r.context.invoke("editor.color",{backColor:t.attr("data-backColor"),foreColor:t.attr("data-foreColor")}):n?r.context.invoke("editor.color",{backColor:t.attr("data-backColor")}):i&&r.context.invoke("editor.color",{foreColor:t.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");n&&(t.css("background-color",r.options.colorButton.backColor),e.attr("data-backColor",r.options.colorButton.backColor)),i?(t.css("color",r.options.colorButton.foreColor),e.attr("data-foreColor",r.options.colorButton.foreColor)):t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(i?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(e){e.find(".note-holder").each(function(e,t){var n=o(t);n.append(r.ui.palette({colors:r.options.colors,colorsName:r.options.colorsName,eventName:n.data("event"),container:r.options.container,tooltip:r.options.tooltip}).render())});var t=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];e.find(".note-holder-custom").each(function(e,n){var i=o(n);i.append(r.ui.palette({colors:t,colorsName:t,eventName:i.data("event"),container:r.options.container,tooltip:r.options.tooltip}).render())}),e.find("input[type=color]").each(function(t,n){o(n).change(function(){var t=e.find("#"+o(this).data("event")).find(".note-color-btn").first(),n=this.value.toUpperCase();t.css("background-color",n).attr("aria-label",n).attr("data-value",n).attr("data-original-title",n),t.click()})})},click:function(t){t.stopPropagation();var n=o("."+e),i=o(t.target),a=i.data("event"),s=i.attr("data-value");if("openPalette"===a){var l=n.find("#"+s),c=o(n.find("#"+l.data("event")).find(".note-color-row")[0]),u=c.find(".note-color-btn").last().detach(),d=l.val();u.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),c.prepend(u),l.click()}else if(B.contains(["backColor","foreColor"],a)){var p="backColor"===a?"background-color":"color",f=i.closest(".note-color").find(".note-recent-color"),h=i.closest(".note-color").find(".note-current-color-button");f.css(p,s),h.attr("data-"+a,s),r.context.invoke("editor."+a,s)}}})]}).render()},e.prototype.addToolbarButtons=function(){var e=this;this.context.memo("button.style",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.magic),e.options),tooltip:e.lang.style.style,data:{toggle:"dropdown"}}),e.ui.dropdown({className:"dropdown-style",items:e.options.styleTags,title:e.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:e.lang.style.hasOwnProperty(t)?e.lang.style[t]:t});var n=t.tag,o=t.title,i=t.style?' style="'+t.style+'" ':"",r=t.className?' class="'+t.className+'"':"";return"<"+n+i+r+">"+o+"</"+n+">"},click:e.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var t=function(t,o){var i=n.options.styleTags[t];n.context.memo("button.style."+i,function(){return e.button({className:"note-btn-style-"+i,contents:'<div data-value="'+i+'">'+i.toUpperCase()+"</div>",tooltip:e.lang.style[i],click:e.context.createInvokeHandler("editor.formatBlock")}).render()})},n=this,i=0,r=this.options.styleTags.length;i<r;i++)t(i);this.context.memo("button.bold",function(){return e.button({className:"note-btn-bold",contents:e.ui.icon(e.options.icons.bold),tooltip:e.lang.font.bold+e.representShortcut("bold"),click:e.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return e.button({className:"note-btn-italic",contents:e.ui.icon(e.options.icons.italic),tooltip:e.lang.font.italic+e.representShortcut("italic"),click:e.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return e.button({className:"note-btn-underline",contents:e.ui.icon(e.options.icons.underline),tooltip:e.lang.font.underline+e.representShortcut("underline"),click:e.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return e.button({contents:e.ui.icon(e.options.icons.eraser),tooltip:e.lang.font.clear+e.representShortcut("removeFormat"),click:e.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return e.button({className:"note-btn-strikethrough",contents:e.ui.icon(e.options.icons.strikethrough),tooltip:e.lang.font.strikethrough+e.representShortcut("strikethrough"),click:e.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return e.button({className:"note-btn-superscript",contents:e.ui.icon(e.options.icons.superscript),tooltip:e.lang.font.superscript,click:e.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return e.button({className:"note-btn-subscript",contents:e.ui.icon(e.options.icons.subscript),tooltip:e.lang.font.subscript,click:e.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var t=e.context.invoke("editor.currentStyle");return o.each(t["font-family"].split(","),function(t,n){n=n.trim().replace(/['"]+/g,""),e.isFontDeservedToAdd(n)&&-1===e.options.fontNames.indexOf(n)&&e.options.fontNames.push(n)}),e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontname"/>',e.options),tooltip:e.lang.font.name,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:e.options.icons.menuCheck,items:e.options.fontNames.filter(e.isFontInstalled.bind(e)),title:e.lang.font.name,template:function(e){return"<span style=\"font-family: '"+e+"'\">"+e+"</span>"},click:e.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',e.options),tooltip:e.lang.font.size,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizes,title:e.lang.font.size,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return e.colorPalette("note-color-all",e.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return e.colorPalette("note-color-fore",e.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return e.colorPalette("note-color-back",e.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return e.button({contents:e.ui.icon(e.options.icons.unorderedlist),tooltip:e.lang.lists.unordered+e.representShortcut("insertUnorderedList"),click:e.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return e.button({contents:e.ui.icon(e.options.icons.orderedlist),tooltip:e.lang.lists.ordered+e.representShortcut("insertOrderedList"),click:e.context.createInvokeHandler("editor.insertOrderedList")}).render()});var a=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),s=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),l=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),c=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),u=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),d=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",F.invoke(a,"render")),this.context.memo("button.justifyCenter",F.invoke(s,"render")),this.context.memo("button.justifyRight",F.invoke(l,"render")),this.context.memo("button.justifyFull",F.invoke(c,"render")),this.context.memo("button.outdent",F.invoke(u,"render")),this.context.memo("button.indent",F.invoke(d,"render")),this.context.memo("button.paragraph",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.alignLeft),e.options),tooltip:e.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),e.ui.dropdown([e.ui.buttonGroup({className:"note-align",children:[a,s,l,c]}),e.ui.buttonGroup({className:"note-list",children:[u,d]})])]).render()}),this.context.memo("button.height",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.textHeight),e.options),tooltip:e.lang.font.height,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({items:e.options.lineHeights,checkClassName:e.options.icons.menuCheck,className:"dropdown-line-height",title:e.lang.font.height,click:e.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.table),e.options),tooltip:e.lang.table.table,data:{toggle:"dropdown"}}),e.ui.dropdown({title:e.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){var n=t.find(".note-dimension-picker-mousecatcher");n.css({width:e.options.insertTableMaxSize.col+"em",height:e.options.insertTableMaxSize.row+"em"}).mousedown(e.context.createInvokeHandler("editor.insertTable")).on("mousemove",e.tableMoveHandler.bind(e))}}).render()}),this.context.memo("button.link",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.link+e.representShortcut("linkDialog.show"),click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return e.button({contents:e.ui.icon(e.options.icons.picture),tooltip:e.lang.image.image,click:e.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return e.button({contents:e.ui.icon(e.options.icons.video),tooltip:e.lang.video.video,click:e.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return e.button({contents:e.ui.icon(e.options.icons.minus),tooltip:e.lang.hr.insert+e.representShortcut("insertHorizontalRule"),click:e.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return e.button({className:"btn-fullscreen",contents:e.ui.icon(e.options.icons.arrowsAlt),tooltip:e.lang.options.fullscreen,click:e.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return e.button({className:"btn-codeview",contents:e.ui.icon(e.options.icons.code),tooltip:e.lang.options.codeview,click:e.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return e.button({contents:e.ui.icon(e.options.icons.redo),tooltip:e.lang.history.redo+e.representShortcut("redo"),click:e.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return e.button({contents:e.ui.icon(e.options.icons.undo),tooltip:e.lang.history.undo+e.representShortcut("undo"),click:e.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return e.button({contents:e.ui.icon(e.options.icons.question),tooltip:e.lang.options.help,click:e.context.createInvokeHandler("helpDialog.show")}).render()})},e.prototype.addImagePopoverButtons=function(){var e=this;this.context.memo("button.resizeFull",function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.resizeNone,click:e.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return e.button({contents:e.ui.icon(e.options.icons.floatLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return e.button({contents:e.ui.icon(e.options.icons.floatRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()})},e.prototype.addLinkPopoverButtons=function(){var e=this;this.context.memo("button.linkDialogShow",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()})},e.prototype.addTablePopoverButtons=function(){var e=this;this.context.memo("button.addRowUp",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()})},e.prototype.build=function(e,t){for(var n=0,o=t.length;n<o;n++){for(var i=t[n],r=Array.isArray(i)?i[0]:i,a=Array.isArray(i)?1===i.length?[i[0]]:i[1]:[i],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var u=this.context.memo("button."+a[l]);u&&s.append("function"==typeof u?u():u)}s.appendTo(e)}},e.prototype.updateCurrentStyle=function(e){var t=this,n=e||this.$toolbar,i=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(n,{".note-btn-bold":function(){return"bold"===i["font-bold"]},".note-btn-italic":function(){return"italic"===i["font-italic"]},".note-btn-underline":function(){return"underline"===i["font-underline"]},".note-btn-subscript":function(){return"subscript"===i["font-subscript"]},".note-btn-superscript":function(){return"superscript"===i["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===i["font-strikethrough"]}}),i["font-family"]){var r=i["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),a=B.find(r,this.isFontInstalled.bind(this));n.find(".dropdown-fontname a").each(function(e,t){var n=o(t),i=n.data("value")+""==a+"";n.toggleClass("checked",i)}),n.find(".note-current-fontname").text(a).css("font-family",a)}if(i["font-size"]){var s=i["font-size"];n.find(".dropdown-fontsize a").each(function(e,t){var n=o(t),i=n.data("value")+""==s+"";n.toggleClass("checked",i)}),n.find(".note-current-fontsize").text(s)}if(i["line-height"]){var l=i["line-height"];n.find(".dropdown-line-height li a").each(function(e,n){var i=o(n).data("value")+""==l+"";t.className=i?"checked":""})}},e.prototype.updateBtnStates=function(e,t){var n=this;o.each(t,function(t,o){n.ui.toggleBtnActive(e.find(t),o())})},e.prototype.tableMoveHandler=function(e){var t,n=o(e.target.parentNode),i=n.next(),r=n.find(".note-dimension-picker-mousecatcher"),a=n.find(".note-dimension-picker-highlighted"),s=n.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var l=o(e.target).offset();t={x:e.pageX-l.left,y:e.pageY-l.top}}else t={x:e.offsetX,y:e.offsetY};var c={c:Math.ceil(t.x/18)||1,r:Math.ceil(t.y/18)||1};a.css({width:c.c+"em",height:c.r+"em"}),r.data("value",c.c+"x"+c.r),c.c>3&&c.c<this.options.insertTableMaxSize.col&&s.css({width:c.c+1+"em"}),c.r>3&&c.r<this.options.insertTableMaxSize.row&&s.css({height:c.r+1+"em"}),i.html(c.c+" x "+c.r)},e}(),ot=function(){function e(e){this.context=e,this.$window=o(window),this.$document=o(document),this.ui=o.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$statusbar=e.layoutInfo.statusbar,this.options=e.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}return e.prototype.shouldInitialize=function(){return!this.options.airMode},e.prototype.initialize=function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){e.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},e.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},e.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$editor.outerHeight(),t=this.$editor.width(),n=this.$toolbar.height(),i=this.$statusbar.height(),r=0;this.options.otherStaticBar&&(r=o(this.options.otherStaticBar).outerHeight());var a=this.$document.scrollTop(),s=this.$editor.offset().top,l=s+e,c=s-r,u=l-r-n-i;!this.isFollowing&&a>c&&a<u-n?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:r,width:t}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(a<c||a>u)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},e.prototype.changeContainer=function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},e.prototype.updateFullscreen=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)},e.prototype.updateCodeview=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()},e.prototype.activate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!0)},e.prototype.deactivate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!1)},e}(),it=function(){function e(e){this.context=e,this.ui=o.summernote.ui,this.$body=o(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":o("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===$e.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},e.prototype.toggleLinkBtn=function(e,t,n){this.ui.toggleBtn(e,t.val()&&n.val())},e.prototype.showLinkDialog=function(e){var t=this;return o.Deferred(function(n){var o=t.$dialog.find(".note-link-text"),i=t.$dialog.find(".note-link-url"),r=t.$dialog.find(".note-link-btn"),a=t.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),!e.url&&F.isValidUrl(e.text)&&(e.url=e.text),o.on("input paste propertychange",function(){e.text=o.val(),t.toggleLinkBtn(r,o,i)}).val(e.text),i.on("input paste propertychange",function(){e.text||o.val(i.val()),t.toggleLinkBtn(r,o,i)}).val(e.url),N.isSupportTouch||i.trigger("focus"),t.toggleLinkBtn(r,o,i),t.bindEnterKey(i,r),t.bindEnterKey(o,r);var s=void 0!==e.isNewWindow?e.isNewWindow:t.context.options.linkTargetBlank;a.prop("checked",s),r.one("click",function(r){r.preventDefault(),n.resolve({range:e.range,url:i.val(),text:o.val(),isNewWindow:a.is(":checked")}),t.ui.hideDialog(t.$dialog)})}),t.ui.onDialogHidden(t.$dialog,function(){o.off(),i.off(),r.off(),"pending"===n.state()&&n.reject()}),t.ui.showDialog(t.$dialog)}).promise()},e.prototype.show=function(){var e=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},e}(),rt=function(){function e(e){var t=this;this.context=e,this.ui=o.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.disable summernote.dialog.shown":function(){t.hide()}}}return e.prototype.shouldInitialize=function(){return!B.isEmpty(this.options.popover.link)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){var t=e.find(".popover-content,.note-popover-content");t.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var e=this.context.invoke("editor.getLastRange");if(e.isCollapsed()&&e.isOnAnchor()){var t=Ae.ancestor(e.sc,Ae.isAnchor),n=o(t).attr("href");this.$popover.find("a").attr("href",n).html(n);var i=Ae.posFromPlaceholder(t);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide()}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),at=function(){function e(e){this.context=e,this.ui=o.summernote.ui,this.$body=o(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t="";if(this.options.maximumImageFileSize){var n=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),o=1*(this.options.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B";t="<small>"+this.lang.image.maximumFileSize+" : "+o+"</small>"}var i=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',t,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),r='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:i,footer:r}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===$e.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},e.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),"string"==typeof t?e.options.callbacks.onImageLinkInsert?e.context.triggerEvent("image.link.insert",t):e.context.invoke("editor.insertImage",t):e.context.invoke("editor.insertImagesOrCallback",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},e.prototype.showImageDialog=function(){var e=this;return o.Deferred(function(t){var n=e.$dialog.find(".note-image-input"),o=e.$dialog.find(".note-image-url"),i=e.$dialog.find(".note-image-btn");e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),n.replaceWith(n.clone().on("change",function(e){t.resolve(e.target.files||e.target.value)}).val("")),o.on("input paste propertychange",function(){e.ui.toggleBtn(i,o.val())}).val(""),N.isSupportTouch||o.trigger("focus"),i.click(function(e){e.preventDefault(),t.resolve(o.val())}),e.bindEnterKey(o,i)}),e.ui.onDialogHidden(e.$dialog,function(){n.off(),o.off(),i.off(),"pending"===t.state()&&t.reject()}),e.ui.showDialog(e.$dialog)})},e}(),st=function(){function e(e){var t=this;this.context=e,this.ui=o.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable":function(){t.hide()}}}return e.prototype.shouldInitialize=function(){return!B.isEmpty(this.options.popover.image)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(e,t){if(Ae.isImg(e)){var n=Ae.posFromPlaceholder(e),o=Ae.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?t.pageX-20:n.left,top:this.options.popatmouse?t.pageY:Math.min(n.top,o.top)})}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),lt=function(){function e(e){var t=this;this.context=e,this.ui=o.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(e,n){t.update(n.target)},"summernote.keyup summernote.scroll summernote.change":function(){t.update()},"summernote.disable":function(){t.hide()}}}return e.prototype.shouldInitialize=function(){return!B.isEmpty(this.options.popover.table)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),N.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(e){if(this.context.isDisabled())return!1;var t=Ae.isCell(e);if(t){var n=Ae.posFromPlaceholder(e);this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide();return t},e.prototype.hide=function(){this.$popover.hide()},e}(),ct=function(){function e(e){this.context=e,this.ui=o.summernote.ui,this.$body=o(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===$e.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},e.prototype.createVideoNode=function(e){var t,n=e.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),i=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),r=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),a=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),s=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),l=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),c=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),u=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),d=e.match(/^.+.(mp4|m4v)$/),p=e.match(/^.+.(ogg|ogv)$/),f=e.match(/^.+.(webm)$/),h=e.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(n&&11===n[1].length){var m=n[1],g=0;if(void 0!==n[2]){var v=n[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(v)for(var b=[3600,60,1],y=0,w=b.length;y<w;y++)g+=void 0!==v[y+1]?b[y]*parseInt(v[y+1],10):0}t=o("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+m+(g>0?"?start="+g:"")).attr("width","640").attr("height","360")}else if(i&&i[0].length)t=o("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+i[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(r&&r[0].length)t=o("<iframe>").attr("frameborder",0).attr("src",r[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(a&&a[3].length)t=o("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+a[3]).attr("width","640").attr("height","360");else if(s&&s[2].length)t=o("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+s[2]).attr("width","640").attr("height","360");else if(l&&l[1].length)t=o("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+l[1]);else if(c&&c[1].length||u&&u[2].length){var C=c&&c[1].length?c[1]:u[2];t=o("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+C+"&amp;auto=0")}else if(d||p||f)t=o("<video controls>").attr("src",e).attr("width","640").attr("height","360");else{if(!h||!h[0].length)return!1;t=o("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(h[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return t.addClass("note-video-clip"),t[0]},e.prototype.show=function(){var e=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange");var n=e.createVideoNode(t);n&&e.context.invoke("editor.insertNode",n)}).fail(function(){e.context.invoke("editor.restoreRange")})},e.prototype.showVideoDialog=function(e){var t=this;return o.Deferred(function(e){var n=t.$dialog.find(".note-video-url"),o=t.$dialog.find(".note-video-btn");t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),n.on("input paste propertychange",function(){t.ui.toggleBtn(o,n.val())}),N.isSupportTouch||n.trigger("focus"),o.click(function(t){t.preventDefault(),e.resolve(n.val())}),t.bindEnterKey(n,o)}),t.ui.onDialogHidden(t.$dialog,function(){n.off(),o.off(),"pending"===e.state()&&e.reject()}),t.ui.showDialog(t.$dialog)})},e}(),ut=function(){function e(e){this.context=e,this.ui=o.summernote.ui,this.$body=o(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> Â· ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> Â· ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.createShortcutList=function(){var e=this,t=this.options.keyMap[N.isMac?"mac":"pc"];return Object.keys(t).map(function(n){var i=t[n],r=o('<div><div class="help-list-item"/></div>');return r.append(o("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append(o("<span/>").html(e.context.memo("help."+i)||i)),r.html()}).join("")},e.prototype.showHelpDialog=function(){var e=this;return o.Deferred(function(t){e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),t.resolve()}),e.ui.showDialog(e.$dialog)}).promise()},e.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.context.invoke("editor.restoreRange")})},e}(),dt=function(){function e(e){var t=this;this.context=e,this.ui=o.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){t.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){t.hide()},"summernote.focusout":function(e,n){N.isFF||n.relatedTarget&&Ae.ancestor(n.relatedTarget,F.eq(t.$popover[0]))||t.hide()}}}return e.prototype.shouldInitialize=function(){return this.options.airMode&&!B.isEmpty(this.options.popover.air)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content");this.context.invoke("buttons.build",e,this.options.popover.air)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(){var e=this.context.invoke("editor.currentStyle");if(e.range&&!e.range.isCollapsed()){var t=B.last(e.range.getClientRects());if(t){var n=F.rect2bnd(t);this.$popover.css({display:"block",left:Math.max(n.left+n.width/2,0)-20,top:n.top+n.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),pt=function(){function e(e){var t=this;this.context=e,this.ui=o.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,n){n.isDefaultPrevented()||t.handleKeyup(n)},"summernote.keydown":function(e,n){t.handleKeydown(n)},"summernote.disable summernote.dialog.shown":function(){t.hide()}}}return e.prototype.shouldInitialize=function(){return this.hints.length>0},e.prototype.initialize=function(){var e=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(t){e.$content.find(".active").removeClass("active"),o(t.currentTarget).addClass("active"),e.replace()})},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},e.prototype.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var n=e.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}},e.prototype.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var n=e.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}},e.prototype.replace=function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var t=this.nodeFromItem(e);this.lastWordRange.insertNode(t),Fe.createFromNode(t).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},e.prototype.nodeFromItem=function(e){var t=this.hints[e.data("index")],n=e.data("item"),o=t.content?t.content(n):n;return"string"==typeof o&&(o=Ae.createText(o)),o},e.prototype.createItemTemplates=function(e,t){var n=this.hints[e];return t.map(function(t,i){var r=o('<div class="note-hint-item"/>');return r.append(n.template?n.template(t):t+""),r.data({index:e,item:t}),r})},e.prototype.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===$e.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===$e.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===$e.code.DOWN&&(e.preventDefault(),this.moveDown()))},e.prototype.searchKeyword=function(e,t,n){var o=this.hints[e];if(o&&o.match.test(t)&&o.search){var i=o.match.exec(t);o.search(i[1],n)}else n()},e.prototype.createGroup=function(e,t){var n=this,i=o('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,t,function(t){(t=t||[]).length&&(i.html(n.createItemTemplates(e,t)),n.show())}),i},e.prototype.handleKeyup=function(e){var t=this;if(!B.contains([$e.code.ENTER,$e.code.UP,$e.code.DOWN],e.keyCode)){var n=this.context.invoke("editor.getLastRange").getWordRange(),o=n.toString();if(this.hints.length&&o){this.$content.empty();var i=F.rect2bnd(B.last(n.getClientRects()));i&&(this.$popover.hide(),this.lastWordRange=n,this.hints.forEach(function(e,n){e.match.test(o)&&t.createGroup(n,o).appendTo(t.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:i.left,top:i.top-this.$popover.outerHeight()-5}):this.$popover.css({left:i.left,top:i.top+i.height+5}))}else this.hide()}},e.prototype.show=function(){this.$popover.show()},e.prototype.hide=function(){this.$popover.hide()},e}();o.summernote=o.extend(o.summernote,{version:"0.8.12",plugins:{},dom:Ae,range:Fe,options:{langInfo:o.summernote.lang["en-US"],modules:{editor:We,clipboard:qe,dropzone:Ve,codeview:Ge,statusbar:Ke,fullscreen:Ze,handle:Ye,hintPopover:pt,autoLink:Qe,autoSync:Je,autoReplace:et,placeholder:tt,buttons:nt,toolbar:ot,linkDialog:it,linkPopover:rt,imageDialog:at,imagePopover:st,tablePopover:lt,videoDialog:ct,helpDialog:ut,airPopover:dt},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),o.summernote=o.extend(o.summernote,{ui:x})}(n(0))}).call(this,n(0),n(0))},function(e,t,n){var o=n(13);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){},function(e,t,n){(function(e,t){/*! Summernote v0.8.12 | (c) 2013- Alan Hong and other contributors | MIT license */
!function(o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var i=function(){function e(e,t,n,o){this.markup=e,this.children=t,this.options=n,this.callback=o}return e.prototype.render=function(e){var t=o(this.markup);if(this.options&&this.options.contents&&t.html(this.options.contents),this.options&&this.options.className&&t.addClass(this.options.className),this.options&&this.options.data&&o.each(this.options.data,function(e,n){t.attr("data-"+e,n)}),this.options&&this.options.click&&t.on("click",this.options.click),this.children){var n=t.find(".note-children-container");this.children.forEach(function(e){e.render(n.length?n:t)})}return this.callback&&this.callback(t,this.options),this.options&&this.options.callback&&this.options.callback(t),e&&e.append(t),t},e}(),r=function(e,t){return function(){var n="object"==typeof arguments[1]?arguments[1]:arguments[0],o=Array.isArray(arguments[0])?arguments[0]:[];return n&&n.children&&(o=n.children),new i(e,o,n,t)}},a=r('<div class="note-editor note-frame card"/>'),s=r('<div class="note-toolbar card-header" role="toolbar"></div>'),l=r('<div class="note-editing-area"/>'),c=r('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),u=r('<div class="note-editable card-block" contentEditable="true" role="textbox" aria-multiline="true"/>'),d=r(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <output class="note-status-output" aria-live="polite"></output>','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),p=r('<div class="note-editor"/>'),f=r(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),h=r('<div class="note-btn-group btn-group">'),m=r('<div class="dropdown-menu" role="list">',function(e,t){var n=Array.isArray(t.items)?t.items.map(function(e){var n="string"==typeof e?e:e.value||"",o=t.template?t.template(e):e,i="object"==typeof e?e.option:void 0;return'<a class="dropdown-item" href="#" data-value="'+n+'"'+(void 0!==i?' data-option="'+i+'"':"")+' role="listitem" aria-label="'+n+'">'+o+"</a>"}).join(""):t.items;e.html(n).attr({"aria-label":t.title})}),g=r('<div class="dropdown-menu note-check" role="list">',function(e,t){var n=Array.isArray(t.items)?t.items.map(function(e){var n="string"==typeof e?e:e.value||"",o=t.template?t.template(e):e;return'<a class="dropdown-item" href="#" data-value="'+n+'" role="listitem" aria-label="'+e+'">'+C(t.checkClassName)+" "+o+"</a>"}).join(""):t.items;e.html(n).attr({"aria-label":t.title})}),v=r('<div class="note-color-palette"/>',function(e,t){for(var n=[],o=0,i=t.colors.length;o<i;o++){for(var r=t.eventName,a=t.colors[o],s=t.colorsName[o],l=[],c=0,u=a.length;c<u;c++){var d=a[c],p=s[c];l.push(['<button type="button" class="note-color-btn"','style="background-color:',d,'" ','data-event="',r,'" ','data-value="',d,'" ','title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(n.join("")),t.tooltip&&e.find(".note-color-btn").tooltip({container:t.container,trigger:"hover",placement:"bottom"})}),b=r('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <h4 class="modal-title">'+t.title+'</h4>      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>    </div>':"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),y=r(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var n=void 0!==t.direction?t.direction:"bottom";e.addClass(n),t.hideArrow&&e.find(".arrow").hide()}),w=r('<div class="form-check"></div>',function(e,t){e.html(['<label class="form-check-label"'+(t.id?' for="'+t.id+'"':"")+">",' <input role="checkbox" type="checkbox" class="form-check-input"'+(t.id?' id="'+t.id+'"':""),t.checked?" checked":"",' aria-label="'+(t.text?t.text:"")+'"',' aria-checked="'+(t.checked?"true":"false")+'"/>'," "+(t.text?t.text:"")+"</label>"].join(""))}),C=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'},x={editor:a,toolbar:s,editingArea:l,codable:c,editable:u,statusbar:d,airEditor:p,airEditable:f,buttonGroup:h,dropdown:m,dropdownButtonContents:function(e){return e},dropdownCheck:g,palette:v,dialog:b,popover:y,icon:C,checkbox:w,options:{},button:function(e,t){return r('<button type="button" class="note-btn btn btn-light btn-sm" role="button" tabindex="-1">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip,"aria-label":t.tooltip}).tooltip({container:void 0!==t.container?t.container:"body",trigger:"hover",placement:"bottom"}).on("click",function(e){o(e.currentTarget).tooltip("hide")})})(e,t)},toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){var n=(t.airMode?x.airEditor([x.editingArea([x.airEditable()])]):x.editor([x.toolbar(),x.editingArea([x.codable(),x.editable()]),x.statusbar()])).render();return n.insertAfter(e),{note:e,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};o.summernote=o.summernote||{lang:{}},o.extend(o.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var S,k=n(3),T=navigator.userAgent,_=/MSIE|Trident/i.test(T);if(_){var E=/MSIE (\d+[.]\d+)/.exec(T);E&&(S=parseFloat(E[1])),(E=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(T))&&(S=parseFloat(E[1]))}var I=/Edge\/\d+/.test(T),A=!!window.CodeMirror,P="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,D=_||I?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",N={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:_,isEdge:I,isFF:!I&&/firefox/i.test(T),isPhantom:/PhantomJS/i.test(T),isWebkit:!I&&/webkit/i.test(T),isChrome:!I&&/chrome/i.test(T),isSafari:!I&&/safari/i.test(T),browserVersion:S,jqueryVersion:parseFloat(o.fn.jquery),isSupportAmd:k,isSupportTouch:P,hasCodeMirror:A,isFontInstalled:function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n="mmmmmmmmmmwwwww",o=document.createElement("canvas").getContext("2d");o.font="200px '"+t+"'";var i=o.measureText(n).width;return o.font="200px '"+e+"', '"+t+"'",i!==o.measureText(n).width},isW3CRangeSupport:!!document.createRange,inputEventName:D},L=0,F={eq:function(e){return function(t){return e===t}},eq2:function(e,t){return e===t},peq2:function(e){return function(t,n){return t[e]===n[e]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(e,t){return function(n){return e(n)&&t(n)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},uniqueId:function(e){var t=++L+"";return e?e+t:t},rect2bnd:function(t){var n=e(document);return{top:t.top+n.scrollTop(),left:t.left+n.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},debounce:function(e,t,n){var o;return function(){var i=this,r=arguments,a=n&&!o;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(i,r)},t),a&&e.apply(i,r)}},isValidUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi.test(e)}};function R(e){return e[0]}function $(e){return e[e.length-1]}function M(e){return e.slice(1)}function O(e,t){return!!(e&&e.length&&t)&&-1!==e.indexOf(t)}var B={head:R,last:$,initial:function(e){return e.slice(0,e.length-1)},tail:M,prev:function(e,t){if(e&&e.length&&t){var n=e.indexOf(t);return-1===n?null:e[n-1]}return null},next:function(e,t){if(e&&e.length&&t){var n=e.indexOf(t);return-1===n?null:e[n+1]}return null},find:function(e,t){for(var n=0,o=e.length;n<o;n++){var i=e[n];if(t(i))return i}},contains:O,all:function(e,t){for(var n=0,o=e.length;n<o;n++)if(!t(e[n]))return!1;return!0},sum:function(e,t){return t=t||F.self,e.reduce(function(e,n){return e+t(n)},0)},from:function(e){for(var t=[],n=e.length,o=-1;++o<n;)t[o]=e[o];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,t){return e.length?M(e).reduce(function(e,n){var o=$(e);return t($(o),n)?o[o.length]=n:e[e.length]=[n],e},[[R(e)]]):[]},compact:function(e){for(var t=[],n=0,o=e.length;n<o;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,o=e.length;n<o;n++)O(t,e[n])||t.push(e[n]);return t}},H=String.fromCharCode(160);function z(e){return e&&o(e).hasClass("note-editable")}function j(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function U(e){return e&&3===e.nodeType}function W(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(e.nodeName.toUpperCase())}function q(e){return!z(e)&&e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())}var V=j("PRE"),G=j("LI"),K=j("TABLE"),Z=j("DATA");function Y(e){return!(te(e)||X(e)||Q(e)||q(e)||K(e)||ee(e)||Z(e))}function X(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var Q=j("HR");function J(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var ee=j("BLOCKQUOTE");function te(e){return J(e)||ee(e)||z(e)}var ne=j("A"),oe=j("BODY"),ie=N.isMSIE&&N.browserVersion<11?"&nbsp;":"<br>";function re(e){return U(e)?e.nodeValue.length:e?e.childNodes.length:0}function ae(e){var t=re(e);return 0===t||!U(e)&&1===t&&e.innerHTML===ie||!(!B.all(e.childNodes,U)||""!==e.innerHTML)}function se(e){W(e)||re(e)||(e.innerHTML=ie)}function le(e,t){for(;e;){if(t(e))return e;if(z(e))break;e=e.parentNode}return null}function ce(e,t){t=t||F.fail;var n=[];return le(e,function(e){return z(e)||n.push(e),t(e)}),n}function ue(e,t){t=t||F.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n}function de(e,t){var n=t.nextSibling,o=t.parentNode;return n?o.insertBefore(e,n):o.appendChild(e),e}function pe(e,t){return o.each(t,function(t,n){e.appendChild(n)}),e}function fe(e){return 0===e.offset}function he(e){return e.offset===re(e.node)}function me(e){return fe(e)||he(e)}function ge(e,t){for(;e&&e!==t;){if(0!==be(e))return!1;e=e.parentNode}return!0}function ve(e,t){if(!t)return!1;for(;e&&e!==t;){if(be(e)!==re(e.parentNode)-1)return!1;e=e.parentNode}return!0}function be(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function ye(e){return!!(e&&e.childNodes&&e.childNodes.length)}function we(e,t){var n,o;if(0===e.offset){if(z(e.node))return null;n=e.node.parentNode,o=be(e.node)}else o=ye(e.node)?re(n=e.node.childNodes[e.offset-1]):(n=e.node,t?0:e.offset-1);return{node:n,offset:o}}function Ce(e,t){var n,o;if(re(e.node)===e.offset){if(z(e.node))return null;n=e.node.parentNode,o=be(e.node)+1}else o=ye(e.node)?(n=e.node.childNodes[e.offset],0):(n=e.node,t?re(e.node):e.offset+1);return{node:n,offset:o}}function xe(e,t){return e.node===t.node&&e.offset===t.offset}function Se(e,t){var n=t&&t.isSkipPaddingBlankHTML,o=t&&t.isNotSplitEdgePoint,i=t&&t.isDiscardEmptySplits;if(i&&(n=!0),me(e)&&(U(e.node)||o)){if(fe(e))return e.node;if(he(e))return e.node.nextSibling}if(U(e.node))return e.node.splitText(e.offset);var r=e.node.childNodes[e.offset],a=de(e.node.cloneNode(!1),e.node);return pe(a,ue(r)),n||(se(e.node),se(a)),i&&(ae(e.node)&&_e(e.node),ae(a))?(_e(a),e.node.nextSibling):a}function ke(e,t,n){var o=ce(t.node,F.eq(e));return o.length?1===o.length?Se(t,n):o.reduce(function(e,o){return e===t.node&&(e=Se(t,n)),Se({node:o,offset:e?be(e):re(o)},n)}):null}function Te(e){return document.createElement(e)}function _e(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){for(var o=[],i=0,r=e.childNodes.length;i<r;i++)o.push(e.childNodes[i]);for(i=0,r=o.length;i<r;i++)n.insertBefore(o[i],e)}n.removeChild(e)}}var Ee=j("TEXTAREA");function Ie(e,t){var n=Ee(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n}var Ae={NBSP_CHAR:H,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:ie,emptyPara:"<p>"+ie+"</p>",makePredByNodeName:j,isEditable:z,isControlSizing:function(e){return e&&o(e).hasClass("note-control-sizing")},isText:U,isElement:function(e){return e&&1===e.nodeType},isVoid:W,isPara:q,isPurePara:function(e){return q(e)&&!G(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:Y,isBlock:F.not(Y),isBodyInline:function(e){return Y(e)&&!le(e,q)},isBody:oe,isParaInline:function(e){return Y(e)&&!!le(e,q)},isPre:V,isList:X,isTable:K,isData:Z,isCell:J,isBlockquote:ee,isBodyContainer:te,isAnchor:ne,isDiv:j("DIV"),isLi:G,isBR:j("BR"),isSpan:j("SPAN"),isB:j("B"),isU:j("U"),isS:j("S"),isI:j("I"),isImg:j("IMG"),isTextarea:Ee,isEmpty:ae,isEmptyAnchor:F.and(ne,ae),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||F.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:re,isLeftEdgePoint:fe,isRightEdgePoint:he,isEdgePoint:me,isLeftEdgeOf:ge,isRightEdgeOf:ve,isLeftEdgePointOf:function(e,t){return fe(e)&&ge(e.node,t)},isRightEdgePointOf:function(e,t){return he(e)&&ve(e.node,t)},prevPoint:we,nextPoint:Ce,isSamePoint:xe,isVisiblePoint:function(e){if(U(e.node)||!ye(e.node)||ae(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return!(t&&!W(t)||n&&!W(n))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=we(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=Ce(e)}return null},isCharPoint:function(e){if(!U(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==H},walkPoint:function(e,t,n,o){for(var i=e;i&&(n(i),!xe(i,t));)i=Ce(i,o&&e.node!==i.node&&t.node!==i.node)},ancestor:le,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===re(e);){if(t(e))return e;if(z(e))break;e=e.parentNode}return null},listAncestor:ce,lastAncestor:function(e,t){var n=ce(e);return B.last(n.filter(t))},listNext:ue,listPrev:function(e,t){t=t||F.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(e,t){var n=[];return t=t||F.ok,function o(i){e!==i&&t(i)&&n.push(i);for(var r=0,a=i.childNodes.length;r<a;r++)o(i.childNodes[r])}(e),n},commonAncestor:function(e,t){for(var n=ce(e),o=t;o;o=o.parentNode)if(-1<n.indexOf(o))return o;return null},wrap:function(e,t){var n=e.parentNode,i=o("<"+t+">")[0];return n.insertBefore(i,e),i.appendChild(e),i},insertAfter:de,appendChildNodes:pe,position:be,hasChildren:ye,makeOffsetPath:function(e,t){return ce(t,F.eq(e)).map(be).reverse()},fromOffsetPath:function(e,t){for(var n=e,o=0,i=t.length;o<i;o++)n=n.childNodes.length<=t[o]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[o]];return n},splitTree:ke,splitPoint:function(e,t){var n,o,i=t?q:te,r=ce(e.node,i),a=B.last(r)||e.node;o=i(a)?(n=r[r.length-2],a):(n=a).parentNode;var s=n&&ke(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return s||o!==e.node||(s=e.node.childNodes[e.offset]),{rightNode:s,container:o}},create:Te,createText:function(e){return document.createTextNode(e)},remove:_e,removeWhile:function(e,t){for(;e&&!z(e)&&t(e);){var n=e.parentNode;_e(e),e=n}},replace:function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=Te(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),pe(n,B.from(e.childNodes)),de(n,e),_e(e),n},html:function(e,t){var n=Ie(e);return t&&(n=(n=n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,n){n=n.toUpperCase();var o=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,i=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(o||i?"\n":"")})).trim()),n},value:Ie,posFromPlaceholder:function(e){var t=o(e),n=t.offset(),i=t.outerHeight(!0);return{left:n.left,top:n.top+i}},attachEvents:function(e,t){Object.keys(t).forEach(function(n){e.on(n,t[n])})},detachEvents:function(e,t){Object.keys(t).forEach(function(n){e.off(n,t[n])})},isCustomStyleTag:function(e){return e&&!U(e)&&B.contains(e.classList,"note-styletag")}},Pe=function(){function e(e,t){this.ui=o.summernote.ui,this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize()}return e.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},e.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},e.prototype.reset=function(){var e=this.isDisabled();this.code(Ae.emptyPara),this._destroy(),this._initialize(),e&&this.disable()},e.prototype._initialize=function(){var e=this,t=o.extend({},this.options.buttons);Object.keys(t).forEach(function(n){e.memo("button."+n,t[n])});var n=o.extend({},this.options.modules,o.summernote.plugins||{});Object.keys(n).forEach(function(t){e.module(t,n[t],!0)}),Object.keys(this.modules).forEach(function(t){e.initializeModule(t)})},e.prototype._destroy=function(){var e=this;Object.keys(this.modules).reverse().forEach(function(t){e.removeModule(t)}),Object.keys(this.memos).forEach(function(t){e.removeMemo(t)}),this.triggerEvent("destroy",this)},e.prototype.code=function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e,this.layoutInfo.editable)},e.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},e.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},e.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},e.prototype.triggerEvent=function(){var e=B.head(arguments),t=B.tail(B.from(arguments)),n=this.options.callbacks[F.namespaceToCamel(e,"on")];n&&n.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)},e.prototype.initializeModule=function(e){var t=this.modules[e];t.shouldInitialize=t.shouldInitialize||F.ok,t.shouldInitialize()&&(t.initialize&&t.initialize(),t.events&&Ae.attachEvents(this.$note,t.events))},e.prototype.module=function(e,t,n){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),n||this.initializeModule(e)},e.prototype.removeModule=function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&Ae.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]},e.prototype.memo=function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t},e.prototype.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},e.prototype.createInvokeHandlerAndUpdateState=function(e,t){var n=this;return function(o){n.createInvokeHandler(e,t)(o),n.invoke("buttons.updateCurrentStyle")}},e.prototype.createInvokeHandler=function(e,t){var n=this;return function(i){i.preventDefault();var r=o(i.target);n.invoke(e,t||r.closest("[data-value]").data("value"),r)}},e.prototype.invoke=function(){var e=B.head(arguments),t=B.tail(B.from(arguments)),n=e.split("."),o=1<n.length,i=o&&B.head(n),r=o?B.last(n):B.head(n),a=this.modules[i||"editor"];return!i&&this[r]?this[r].apply(this,t):a&&a[r]&&a.shouldInitialize()?a[r].apply(a,t):void 0},e}();function De(e,t){var n,o,i=e.parentElement(),r=document.body.createTextRange(),a=B.from(i.childNodes);for(n=0;n<a.length;n++)if(!Ae.isText(a[n])){if(r.moveToElementText(a[n]),0<=r.compareEndPoints("StartToStart",e))break;o=a[n]}if(0!==n&&Ae.isText(a[n-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(o||i),s.collapse(!o),l=o?o.nextSibling:i.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,t&&l.nextSibling&&Ae.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),i=l,n=u}return{cont:i,offset:n}}function Ne(e){var t=function(e,n){var o,i;if(Ae.isText(e)){var r=Ae.listPrev(e,F.not(Ae.isText)),a=B.last(r).previousSibling;o=a||e.parentNode,n+=B.sum(B.tail(r),Ae.nodeLength),i=!a}else{if(o=e.childNodes[n]||e,Ae.isText(o))return t(o,0);n=0,i=!1}return{node:o,collapseToStart:i,offset:n}},n=document.body.createTextRange(),o=t(e.node,e.offset);return n.moveToElementText(o.node),n.collapse(o.collapseToStart),n.moveStart("character",o.offset),n}o.fn.extend({summernote:function(){var e=o.type(B.head(arguments)),t="string"===e,n="object"===e,i=o.extend({},o.summernote.options,n?B.head(arguments):{});i.langInfo=o.extend(!0,{},o.summernote.lang["en-US"],o.summernote.lang[i.lang]),i.icons=o.extend(!0,{},o.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!N.isSupportTouch:i.tooltip,this.each(function(e,t){var n=o(t);if(!n.data("summernote")){var r=new Pe(n,i);n.data("summernote",r),n.data("summernote").triggerEvent("init",r.layoutInfo)}});var r=this.first();if(r.length){var a=r.data("summernote");if(t)return a.invoke.apply(a,B.from(arguments));i.focus&&a.invoke("editor.focus")}return this}});var Le=function(){function e(e,t,n,o){this.sc=e,this.so=t,this.ec=n,this.eo=o,this.isOnEditable=this.makeIsOn(Ae.isEditable),this.isOnList=this.makeIsOn(Ae.isList),this.isOnAnchor=this.makeIsOn(Ae.isAnchor),this.isOnCell=this.makeIsOn(Ae.isCell),this.isOnData=this.makeIsOn(Ae.isData)}return e.prototype.nativeRange=function(){if(N.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),e.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),e}var t=Ne({node:this.sc,offset:this.so});return t.setEndPoint("EndToEnd",Ne({node:this.ec,offset:this.eo})),t},e.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},e.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},e.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},e.prototype.select=function(){var e=this.nativeRange();if(N.isW3CRangeSupport){var t=document.getSelection();0<t.rangeCount&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},e.prototype.scrollIntoView=function(e){var t=o(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this},e.prototype.normalize=function(){var t=function(e,t){if(Ae.isVisiblePoint(e)&&(!Ae.isEdgePoint(e)||Ae.isRightEdgePoint(e)&&!t||Ae.isLeftEdgePoint(e)&&t||Ae.isRightEdgePoint(e)&&t&&Ae.isVoid(e.node.nextSibling)||Ae.isLeftEdgePoint(e)&&!t&&Ae.isVoid(e.node.previousSibling)||Ae.isBlock(e.node)&&Ae.isEmpty(e.node)))return e;var n=Ae.ancestor(e.node,Ae.isBlock);if((Ae.isLeftEdgePointOf(e,n)||Ae.isVoid(Ae.prevPoint(e).node))&&!t||(Ae.isRightEdgePointOf(e,n)||Ae.isVoid(Ae.nextPoint(e).node))&&t){if(Ae.isVisiblePoint(e))return e;t=!t}return(t?Ae.nextPointUntil(Ae.nextPoint(e),Ae.isVisiblePoint):Ae.prevPointUntil(Ae.prevPoint(e),Ae.isVisiblePoint))||e},n=t(this.getEndPoint(),!1),o=this.isCollapsed()?n:t(this.getStartPoint(),!0);return new e(o.node,o.offset,n.node,n.offset)},e.prototype.nodes=function(e,t){e=e||F.ok;var n=t&&t.includeAncestor,o=t&&t.fullyContains,i=this.getStartPoint(),r=this.getEndPoint(),a=[],s=[];return Ae.walkPoint(i,r,function(t){var i;Ae.isEditable(t.node)||(o?(Ae.isLeftEdgePoint(t)&&s.push(t.node),Ae.isRightEdgePoint(t)&&B.contains(s,t.node)&&(i=t.node)):i=n?Ae.ancestor(t.node,e):t.node,i&&e(i)&&a.push(i))},!0),B.unique(a)},e.prototype.commonAncestor=function(){return Ae.commonAncestor(this.sc,this.ec)},e.prototype.expand=function(t){var n=Ae.ancestor(this.sc,t),o=Ae.ancestor(this.ec,t);if(!n&&!o)return new e(this.sc,this.so,this.ec,this.eo);var i=this.getPoints();return n&&(i.sc=n,i.so=0),o&&(i.ec=o,i.eo=Ae.nodeLength(o)),new e(i.sc,i.so,i.ec,i.eo)},e.prototype.collapse=function(t){return t?new e(this.sc,this.so,this.sc,this.so):new e(this.ec,this.eo,this.ec,this.eo)},e.prototype.splitText=function(){var t=this.sc===this.ec,n=this.getPoints();return Ae.isText(this.ec)&&!Ae.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Ae.isText(this.sc)&&!Ae.isEdgePoint(this.getStartPoint())&&(n.sc=this.sc.splitText(this.so),n.so=0,t&&(n.ec=n.sc,n.eo=this.eo-this.so)),new e(n.sc,n.so,n.ec,n.eo)},e.prototype.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),n=t.nodes(null,{fullyContains:!0}),i=Ae.prevPointUntil(t.getStartPoint(),function(e){return!B.contains(n,e.node)}),r=[];return o.each(n,function(e,t){var n=t.parentNode;i.node!==n&&1===Ae.nodeLength(n)&&r.push(n),Ae.remove(t,!1)}),o.each(r,function(e,t){Ae.remove(t,!1)}),new e(i.node,i.offset,i.node,i.offset).normalize()},e.prototype.makeIsOn=function(e){return function(){var t=Ae.ancestor(this.sc,e);return!!t&&t===Ae.ancestor(this.ec,e)}},e.prototype.isLeftEdgeOf=function(e){if(!Ae.isLeftEdgePoint(this.getStartPoint()))return!1;var t=Ae.ancestor(this.sc,e);return t&&Ae.isLeftEdgeOf(this.sc,t)},e.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},e.prototype.wrapBodyInlineWithPara=function(){if(Ae.isBodyContainer(this.sc)&&Ae.isEmpty(this.sc))return this.sc.innerHTML=Ae.emptyPara,new e(this.sc.firstChild,0,this.sc.firstChild,0);var t,n=this.normalize();if(Ae.isParaInline(this.sc)||Ae.isPara(this.sc))return n;if(Ae.isInline(n.sc)){var o=Ae.listAncestor(n.sc,F.not(Ae.isInline));t=B.last(o),Ae.isInline(t)||(t=o[o.length-2]||n.sc.childNodes[n.so])}else t=n.sc.childNodes[0<n.so?n.so-1:0];var i=Ae.listPrev(t,Ae.isParaInline).reverse();if((i=i.concat(Ae.listNext(t.nextSibling,Ae.isParaInline))).length){var r=Ae.wrap(B.head(i),"p");Ae.appendChildNodes(r,B.tail(i))}return this.normalize()},e.prototype.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),n=Ae.splitPoint(t.getStartPoint(),Ae.isInline(e));return n.rightNode?n.rightNode.parentNode.insertBefore(e,n.rightNode):n.container.appendChild(e),e},e.prototype.pasteHTML=function(e){var t=o("<div></div>").html(e)[0],n=B.from(t.childNodes),i=this.wrapBodyInlineWithPara().deleteContents();return 0<i.so&&(n=n.reverse()),n=n.map(function(e){return i.insertNode(e)}),0<i.so&&(n=n.reverse()),n},e.prototype.toString=function(){var e=this.nativeRange();return N.isW3CRangeSupport?e.toString():e.text},e.prototype.getWordRange=function(t){var n=this.getEndPoint();if(!Ae.isCharPoint(n))return this;var o=Ae.prevPointUntil(n,function(e){return!Ae.isCharPoint(e)});return t&&(n=Ae.nextPointUntil(n,function(e){return!Ae.isCharPoint(e)})),new e(o.node,o.offset,n.node,n.offset)},e.prototype.bookmark=function(e){return{s:{path:Ae.makeOffsetPath(e,this.sc),offset:this.so},e:{path:Ae.makeOffsetPath(e,this.ec),offset:this.eo}}},e.prototype.paraBookmark=function(e){return{s:{path:B.tail(Ae.makeOffsetPath(B.head(e),this.sc)),offset:this.so},e:{path:B.tail(Ae.makeOffsetPath(B.last(e),this.ec)),offset:this.eo}}},e.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},e}(),Fe={create:function(e,t,n,o){if(4===arguments.length)return new Le(e,t,n,o);if(2===arguments.length)return new Le(n=e,o=t,n,o);var i=this.createFromSelection();return i||1!==arguments.length?i:(i=this.createFromNode(e)).collapse(Ae.emptyPara===e.innerHTML)},createFromSelection:function(){var e,t,n,o;if(N.isW3CRangeSupport){var i=document.getSelection();if(!i||0===i.rangeCount)return null;if(Ae.isBody(i.anchorNode))return null;var r=i.getRangeAt(0);e=r.startContainer,t=r.startOffset,n=r.endContainer,o=r.endOffset}else{var a=document.selection.createRange(),s=a.duplicate();s.collapse(!1);var l=a;l.collapse(!0);var c=De(l,!0),u=De(s,!1);Ae.isText(c.node)&&Ae.isLeftEdgePoint(c)&&Ae.isTextNode(u.node)&&Ae.isRightEdgePoint(u)&&u.node.nextSibling===c.node&&(c=u),e=c.cont,t=c.offset,n=u.cont,o=u.offset}return new Le(e,t,n,o)},createFromNode:function(e){var t=e,n=0,o=e,i=Ae.nodeLength(o);return Ae.isVoid(t)&&(n=Ae.listPrev(t).length-1,t=t.parentNode),Ae.isBR(o)?(i=Ae.listPrev(o).length-1,o=o.parentNode):Ae.isVoid(o)&&(i=Ae.listPrev(o).length,o=o.parentNode),this.create(t,n,o,i)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=Ae.fromOffsetPath(e,t.s.path),o=t.s.offset,i=Ae.fromOffsetPath(e,t.e.path),r=t.e.offset;return new Le(n,o,i,r)},createFromParaBookmark:function(e,t){var n=e.s.offset,o=e.e.offset,i=Ae.fromOffsetPath(B.head(t),e.s.path),r=Ae.fromOffsetPath(B.last(t),e.e.path);return new Le(i,n,r,o)}},Re={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},$e={isEdit:function(e){return B.contains([Re.BACKSPACE,Re.TAB,Re.ENTER,Re.SPACE,Re.DELETE],e)},isMove:function(e){return B.contains([Re.LEFT,Re.UP,Re.RIGHT,Re.DOWN],e)},nameFromCode:F.invertObject(Re),code:Re},Me=function(){function e(e){this.stack=[],this.stackOffset=-1,this.$editable=e,this.editable=e[0]}return e.prototype.makeSnapshot=function(){var e=Fe.create(this.editable);return{contents:this.$editable.html(),bookmark:e&&e.isOnEditable()?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},e.prototype.applySnapshot=function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&Fe.createFromBookmark(this.editable,e.bookmark).select()},e.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},e.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},e.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},e.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},e.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},e.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},e}(),Oe=function(){function e(){}return e.prototype.jQueryCSS=function(e,t){if(N.jqueryVersion<1.9){var n={};return o.each(t,function(t,o){n[o]=e.css(o)}),n}return e.css(t)},e.prototype.fromNode=function(e){var t=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return t["font-size"]=parseInt(t["font-size"],10),t},e.prototype.stylePara=function(e,t){o.each(e.nodes(Ae.isPara,{includeAncestor:!0}),function(e,n){o(n).css(t)})},e.prototype.styleNodes=function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",i=!(!t||!t.expandClosestSibling),r=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(Ae.create(n))];var a=Ae.makePredByNodeName(n),s=e.nodes(Ae.isText,{fullyContains:!0}).map(function(e){return Ae.singleChildAncestor(e,a)||Ae.wrap(e,n)});if(i){if(r){var l=e.nodes();a=F.and(a,function(e){return B.contains(l,e)})}return s.map(function(e){var t=Ae.withClosestSiblings(e,a),n=B.head(t),i=B.tail(t);return o.each(i,function(e,t){Ae.appendChildNodes(n,t.childNodes),Ae.remove(t)}),B.head(t)})}return s},e.prototype.current=function(e){var t=o(Ae.isElement(e.sc)?e.sc:e.sc.parentNode),n=this.fromNode(t);try{n=o.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(e){}if(e.isOnList()){var i=-1<["circle","disc","disc-leading-zero","square"].indexOf(n["list-style-type"]);n["list-style"]=i?"unordered":"ordered"}else n["list-style"]="none";var r=Ae.ancestor(e.sc,Ae.isPara);if(r&&r.style["line-height"])n["line-height"]=r.style.lineHeight;else{var a=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=a.toFixed(1)}return n.anchor=e.isOnAnchor()&&Ae.ancestor(e.sc,Ae.isAnchor),n.ancestors=Ae.listAncestor(e.sc,Ae.isEditable),n.range=e,n},e}(),Be=function(){function e(){}return e.prototype.insertOrderedList=function(e){this.toggleList("OL",e)},e.prototype.insertUnorderedList=function(e){this.toggleList("UL",e)},e.prototype.indent=function(e){var t=this,n=Fe.create(e).wrapBodyInlineWithPara(),i=n.nodes(Ae.isPara,{includeAncestor:!0}),r=B.clusterBy(i,F.peq2("parentNode"));o.each(r,function(e,n){var i=B.head(n);if(Ae.isLi(i)){var r=t.findList(i.previousSibling);r?n.map(function(e){return r.appendChild(e)}):(t.wrapList(n,i.parentNode.nodeName),n.map(function(e){return e.parentNode}).map(function(e){return t.appendToPrevious(e)}))}else o.each(n,function(e,t){o(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),n.select()},e.prototype.outdent=function(e){var t=this,n=Fe.create(e).wrapBodyInlineWithPara(),i=n.nodes(Ae.isPara,{includeAncestor:!0}),r=B.clusterBy(i,F.peq2("parentNode"));o.each(r,function(e,n){var i=B.head(n);Ae.isLi(i)?t.releaseList([n]):o.each(n,function(e,t){o(t).css("marginLeft",function(e,t){return 25<(t=parseInt(t,10)||0)?t-25:""})})}),n.select()},e.prototype.toggleList=function(e,t){var n=this,i=Fe.create(t).wrapBodyInlineWithPara(),r=i.nodes(Ae.isPara,{includeAncestor:!0}),a=i.paraBookmark(r),s=B.clusterBy(r,F.peq2("parentNode"));if(B.find(r,Ae.isPurePara)){var l=[];o.each(s,function(t,o){l=l.concat(n.wrapList(o,e))}),r=l}else{var c=i.nodes(Ae.isList,{includeAncestor:!0}).filter(function(t){return!o.nodeName(t,e)});c.length?o.each(c,function(t,n){Ae.replace(n,e)}):r=this.releaseList(s,!0)}Fe.createFromParaBookmark(a,r).select()},e.prototype.wrapList=function(e,t){var n=B.head(e),o=B.last(e),i=Ae.isList(n.previousSibling)&&n.previousSibling,r=Ae.isList(o.nextSibling)&&o.nextSibling,a=i||Ae.insertAfter(Ae.create(t||"UL"),o);return e=e.map(function(e){return Ae.isPurePara(e)?Ae.replace(e,"LI"):e}),Ae.appendChildNodes(a,e),r&&(Ae.appendChildNodes(a,B.from(r.childNodes)),Ae.remove(r)),e},e.prototype.releaseList=function(e,t){var n=this,i=[];return o.each(e,function(e,r){var a=B.head(r),s=B.last(r),l=t?Ae.lastAncestor(a,Ae.isList):a.parentNode,c=l.parentNode;if("LI"===l.parentNode.nodeName)r.map(function(e){var t=n.findNextSiblings(e);c.nextSibling?c.parentNode.insertBefore(e,c.nextSibling):c.parentNode.appendChild(e),t.length&&(n.wrapList(t,l.nodeName),e.appendChild(t[0].parentNode))}),0===l.children.length&&c.removeChild(l),0===c.childNodes.length&&c.parentNode.removeChild(c);else{var u=1<l.childNodes.length?Ae.splitTree(l,{node:s.parentNode,offset:Ae.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,d=Ae.splitTree(l,{node:a.parentNode,offset:Ae.position(a)},{isSkipPaddingBlankHTML:!0});r=t?Ae.listDescendant(d,Ae.isLi):B.from(d.childNodes).filter(Ae.isLi),!t&&Ae.isList(l.parentNode)||(r=r.map(function(e){return Ae.replace(e,"P")})),o.each(B.from(r).reverse(),function(e,t){Ae.insertAfter(t,l)});var p=B.compact([l,d,u]);o.each(p,function(e,t){var n=[t].concat(Ae.listDescendant(t,Ae.isList));o.each(n.reverse(),function(e,t){Ae.nodeLength(t)||Ae.remove(t,!0)})})}i=i.concat(r)}),i},e.prototype.appendToPrevious=function(e){return e.previousSibling?Ae.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")},e.prototype.findList=function(e){return e?B.find(e.children,function(e){return-1<["OL","UL"].indexOf(e.nodeName)}):null},e.prototype.findNextSiblings=function(e){for(var t=[];e.nextSibling;)t.push(e.nextSibling),e=e.nextSibling;return t},e}(),He=function(){function e(e){this.bullet=new Be,this.options=e.options}return e.prototype.insertTab=function(e,t){var n=Ae.createText(new Array(t+1).join(Ae.NBSP_CHAR));(e=e.deleteContents()).insertNode(n,!0),(e=Fe.create(n,t)).select()},e.prototype.insertParagraph=function(e,t){t=(t=(t=t||Fe.create(e)).deleteContents()).wrapBodyInlineWithPara();var n,i=Ae.ancestor(t.sc,Ae.isPara);if(i){if(Ae.isEmpty(i)&&Ae.isLi(i))return void this.bullet.toggleList(i.parentNode.nodeName);var r=null;if(1===this.options.blockquoteBreakingLevel?r=Ae.ancestor(i,Ae.isBlockquote):2===this.options.blockquoteBreakingLevel&&(r=Ae.lastAncestor(i,Ae.isBlockquote)),r){n=o(Ae.emptyPara)[0],Ae.isRightEdgePoint(t.getStartPoint())&&Ae.isBR(t.sc.nextSibling)&&o(t.sc.nextSibling).remove();var a=Ae.splitTree(r,t.getStartPoint(),{isDiscardEmptySplits:!0});a?a.parentNode.insertBefore(n,a):Ae.insertAfter(n,r)}else{n=Ae.splitTree(i,t.getStartPoint());var s=Ae.listDescendant(i,Ae.isEmptyAnchor);s=s.concat(Ae.listDescendant(n,Ae.isEmptyAnchor)),o.each(s,function(e,t){Ae.remove(t)}),(Ae.isHeading(n)||Ae.isPre(n)||Ae.isCustomStyleTag(n))&&Ae.isEmpty(n)&&(n=Ae.replace(n,"p"))}}else{var l=t.sc.childNodes[t.so];n=o(Ae.emptyPara)[0],l?t.sc.insertBefore(n,l):t.sc.appendChild(n)}Fe.create(n,0).normalize().select().scrollIntoView(e)},e}(),ze=function(e,t,n,o){var i={colPos:0,rowPos:0},r=[],a=[];function s(e,t,n,o,i,a,s){var l={baseRow:n,baseCell:o,isRowSpan:i,isColSpan:a,isVirtual:s};r[e]||(r[e]=[]),r[e][t]=l}function l(e,t){if(!r[e])return t;if(!r[e][t])return t;for(var n=t;r[e][n];)if(n++,!r[e][n])return n}function c(e,t){var n=l(e.rowIndex,t.cellIndex),o=1<t.colSpan,r=1<t.rowSpan,a=e.rowIndex===i.rowPos&&t.cellIndex===i.colPos;s(e.rowIndex,n,e,t,r,o,!1);var c=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(1<c)for(var d=1;d<c;d++){var p=e.rowIndex+d;u(p,n,t,a),s(p,n,e,t,!0,o,!0)}var f=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(1<f)for(var h=1;h<f;h++){var m=l(e.rowIndex,n+h);u(e.rowIndex,m,t,a),s(e.rowIndex,m,e,t,r,!0,!0)}}function u(e,t,n,o){e===i.rowPos&&i.colPos>=n.cellIndex&&n.cellIndex<=t&&!o&&i.colPos++}function d(e){switch(t){case ze.where.Column:if(e.isColSpan)return ze.resultAction.SubtractSpanCount;break;case ze.where.Row:if(!e.isVirtual&&e.isRowSpan)return ze.resultAction.AddCell;if(e.isRowSpan)return ze.resultAction.SubtractSpanCount}return ze.resultAction.RemoveCell}function p(e){switch(t){case ze.where.Column:if(e.isColSpan)return ze.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return ze.resultAction.Ignore;break;case ze.where.Row:if(e.isRowSpan)return ze.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return ze.resultAction.Ignore}return ze.resultAction.AddCell}this.getActionList=function(){for(var e,o,s,l=t===ze.where.Row?i.rowPos:-1,c=t===ze.where.Column?i.colPos:-1,u=0,f=!0;f;){var h=0<=l?l:u,m=0<=c?c:u,g=r[h];if(!g)return f=!1,a;var v=g[m];if(!v)return f=!1,a;var b=ze.resultAction.Ignore;switch(n){case ze.requestAction.Add:b=p(v);break;case ze.requestAction.Delete:b=d(v)}a.push((e=b,o=h,s=m,{baseCell:v.baseCell,action:e,virtualTable:{rowIndex:o,cellIndex:s}})),u++}return a},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())?(i.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()?i.rowPos=e.parentElement.rowIndex:console.error("Impossible to identify start Row point.",e)):console.error("Impossible to identify start Cell point.",e),function(){for(var e=o.rows,t=0;t<e.length;t++)for(var n=e[t].cells,i=0;i<n.length;i++)c(e[t],n[i])}()};ze.where={Row:0,Column:1},ze.requestAction={Add:0,Delete:1},ze.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var je,Ue=function(){function e(){}return e.prototype.tab=function(e,t){var n=Ae.ancestor(e.commonAncestor(),Ae.isCell),o=Ae.ancestor(n,Ae.isTable),i=Ae.listDescendant(o,Ae.isCell),r=B[t?"prev":"next"](i,n);r&&Fe.create(r,0).select()},e.prototype.addRow=function(e,t){for(var n=Ae.ancestor(e.commonAncestor(),Ae.isCell),i=o(n).closest("tr"),r=this.recoverAttributes(i),a=o("<tr"+r+"></tr>"),s=new ze(n,ze.where.Row,ze.requestAction.Add,o(i).closest("table")[0]).getActionList(),l=0;l<s.length;l++){var c=s[l],u=this.recoverAttributes(c.baseCell);switch(c.action){case ze.resultAction.AddCell:a.append("<td"+u+">"+Ae.blank+"</td>");break;case ze.resultAction.SumSpanCount:if("top"===t&&(c.baseCell.parent?c.baseCell.closest("tr").rowIndex:0)<=i[0].rowIndex){var d=o("<div></div>").append(o("<td"+u+">"+Ae.blank+"</td>").removeAttr("rowspan")).html();a.append(d);break}var p=parseInt(c.baseCell.rowSpan,10);p++,c.baseCell.setAttribute("rowSpan",p)}}if("top"===t)i.before(a);else{if(1<n.rowSpan){var f=i[0].rowIndex+(n.rowSpan-2);return void o(o(i).parent().find("tr")[f]).after(o(a))}i.after(a)}},e.prototype.addCol=function(e,t){var n=Ae.ancestor(e.commonAncestor(),Ae.isCell),i=o(n).closest("tr");o(i).siblings().push(i);for(var r=new ze(n,ze.where.Column,ze.requestAction.Add,o(i).closest("table")[0]).getActionList(),a=0;a<r.length;a++){var s=r[a],l=this.recoverAttributes(s.baseCell);switch(s.action){case ze.resultAction.AddCell:"right"===t?o(s.baseCell).after("<td"+l+">"+Ae.blank+"</td>"):o(s.baseCell).before("<td"+l+">"+Ae.blank+"</td>");break;case ze.resultAction.SumSpanCount:if("right"===t){var c=parseInt(s.baseCell.colSpan,10);c++,s.baseCell.setAttribute("colSpan",c)}else o(s.baseCell).before("<td"+l+">"+Ae.blank+"</td>")}}},e.prototype.recoverAttributes=function(e){var t="";if(!e)return t;for(var n=e.attributes||[],o=0;o<n.length;o++)"id"!==n[o].name.toLowerCase()&&n[o].specified&&(t+=" "+n[o].name+"='"+n[o].value+"'");return t},e.prototype.deleteRow=function(e){for(var t=Ae.ancestor(e.commonAncestor(),Ae.isCell),n=o(t).closest("tr"),i=n.children("td, th").index(o(t)),r=n[0].rowIndex,a=new ze(t,ze.where.Row,ze.requestAction.Delete,o(n).closest("table")[0]).getActionList(),s=0;s<a.length;s++)if(a[s]){var l=a[s].baseCell,c=a[s].virtualTable,u=l.rowSpan&&1<l.rowSpan,d=u?parseInt(l.rowSpan,10):0;switch(a[s].action){case ze.resultAction.Ignore:continue;case ze.resultAction.AddCell:var p=n.next("tr")[0];if(!p)continue;var f=n[0].cells[i];u&&(2<d?(d--,p.insertBefore(f,p.cells[i]),p.cells[i].setAttribute("rowSpan",d),p.cells[i].innerHTML=""):2===d&&(p.insertBefore(f,p.cells[i]),p.cells[i].removeAttribute("rowSpan"),p.cells[i].innerHTML=""));continue;case ze.resultAction.SubtractSpanCount:u&&(2<d?(d--,l.setAttribute("rowSpan",d),c.rowIndex!==r&&l.cellIndex===i&&(l.innerHTML="")):2===d&&(l.removeAttribute("rowSpan"),c.rowIndex!==r&&l.cellIndex===i&&(l.innerHTML="")));continue;case ze.resultAction.RemoveCell:continue}}n.remove()},e.prototype.deleteCol=function(e){for(var t=Ae.ancestor(e.commonAncestor(),Ae.isCell),n=o(t).closest("tr"),i=n.children("td, th").index(o(t)),r=new ze(t,ze.where.Column,ze.requestAction.Delete,o(n).closest("table")[0]).getActionList(),a=0;a<r.length;a++)if(r[a])switch(r[a].action){case ze.resultAction.Ignore:continue;case ze.resultAction.SubtractSpanCount:var s=r[a].baseCell;if(s.colSpan&&1<s.colSpan){var l=s.colSpan?parseInt(s.colSpan,10):0;2<l?(l--,s.setAttribute("colSpan",l),s.cellIndex===i&&(s.innerHTML="")):2===l&&(s.removeAttribute("colSpan"),s.cellIndex===i&&(s.innerHTML=""))}continue;case ze.resultAction.RemoveCell:Ae.remove(r[a].baseCell,!0);continue}},e.prototype.createTable=function(e,t,n){for(var i,r=[],a=0;a<e;a++)r.push("<td>"+Ae.blank+"</td>");i=r.join("");for(var s,l=[],c=0;c<t;c++)l.push("<tr>"+i+"</tr>");s=l.join("");var u=o("<table>"+s+"</table>");return n&&n.tableClassName&&u.addClass(n.tableClassName),u[0]},e.prototype.deleteTable=function(e){var t=Ae.ancestor(e.commonAncestor(),Ae.isCell);o(t).closest("table").remove()},e}(),We=function(){function e(e){var t=this;this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Oe,this.table=new Ue,this.typing=new He(e),this.bullet=new Be,this.history=new Me(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var n=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],i=0,r=n.length;i<r;i++)this[n[i]]=function(e){return function(n){t.beforeCommand(),document.execCommand(e,!1,n),t.afterCommand(!0)}}(n[i]),this.context.memo("help."+n[i],this.lang.help[n[i]]);for(this.fontName=this.wrapCommand(function(e){return t.fontStyling("font-family","'"+e+"'")}),this.fontSize=this.wrapCommand(function(e){return t.fontStyling("font-size",e+"px")}),i=1;i<=6;i++)this["formatH"+i]=function(e){return function(){t.formatBlock("H"+e)}}(i),this.context.memo("help.formatH"+i,this.lang.help["formatH"+i]);this.insertParagraph=this.wrapCommand(function(){t.typing.insertParagraph(t.editable)}),this.insertOrderedList=this.wrapCommand(function(){t.bullet.insertOrderedList(t.editable)}),this.insertUnorderedList=this.wrapCommand(function(){t.bullet.insertUnorderedList(t.editable)}),this.indent=this.wrapCommand(function(){t.bullet.indent(t.editable)}),this.outdent=this.wrapCommand(function(){t.bullet.outdent(t.editable)}),this.insertNode=this.wrapCommand(function(e){t.isLimited(o(e).text().length)||(t.getLastRange().insertNode(e),Fe.createFromNodeAfter(e).select(),t.setLastRange())}),this.insertText=this.wrapCommand(function(e){if(!t.isLimited(e.length)){var n=t.getLastRange().insertNode(Ae.createText(e));Fe.create(n,Ae.nodeLength(n)).select(),t.setLastRange()}}),this.pasteHTML=this.wrapCommand(function(e){if(!t.isLimited(e.length)){e=t.context.invoke("codeview.purify",e);var n=t.getLastRange().pasteHTML(e);Fe.createFromNodeAfter(B.last(n)).select(),t.setLastRange()}}),this.formatBlock=this.wrapCommand(function(e,n){var o=t.options.callbacks.onApplyCustomStyle;o?o.call(t,n,t.context,t.onFormatBlock):t.onFormatBlock(e,n)}),this.insertHorizontalRule=this.wrapCommand(function(){var e=t.getLastRange().insertNode(Ae.create("HR"));e.nextSibling&&(Fe.create(e.nextSibling,0).normalize().select(),t.setLastRange())}),this.lineHeight=this.wrapCommand(function(e){t.style.stylePara(t.getLastRange(),{lineHeight:e})}),this.createLink=this.wrapCommand(function(e){var n=e.url,i=e.text,r=e.isNewWindow,a=e.range||t.getLastRange(),s=i.length-a.toString().length;if(!(0<s&&t.isLimited(s))){var l=a.toString()!==i;"string"==typeof n&&(n=n.trim()),n=t.options.onCreateLink?t.options.onCreateLink(n):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(n)?n:"http://"+n;var c=[];if(l){var u=(a=a.deleteContents()).insertNode(o("<A>"+i+"</A>")[0]);c.push(u)}else c=t.style.styleNodes(a,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});o.each(c,function(e,t){o(t).attr("href",n),r?o(t).attr("target","_blank"):o(t).removeAttr("target")});var d=Fe.createFromNodeBefore(B.head(c)).getStartPoint(),p=Fe.createFromNodeAfter(B.last(c)).getEndPoint();Fe.create(d.node,d.offset,p.node,p.offset).select(),t.setLastRange()}}),this.color=this.wrapCommand(function(e){var t=e.foreColor,n=e.backColor;t&&document.execCommand("foreColor",!1,t),n&&document.execCommand("backColor",!1,n)}),this.foreColor=this.wrapCommand(function(e){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,e)}),this.insertTable=this.wrapCommand(function(e){var n=e.split("x");t.getLastRange().deleteContents().insertNode(t.table.createTable(n[0],n[1],t.options))}),this.removeMedia=this.wrapCommand(function(){var e=o(t.restoreTarget()).parent();e.parent("figure").length?e.parent("figure").remove():e=o(t.restoreTarget()).detach(),t.context.triggerEvent("media.delete",e,t.$editable)}),this.floatMe=this.wrapCommand(function(e){var n=o(t.restoreTarget());n.toggleClass("note-float-left","left"===e),n.toggleClass("note-float-right","right"===e),n.css("float","none"===e?"":e)}),this.resize=this.wrapCommand(function(e){var n=o(t.restoreTarget());0===(e=parseFloat(e))?n.css("width",""):n.css({width:100*e+"%",height:""})})}return e.prototype.initialize=function(){var e=this;this.$editable.on("keydown",function(t){if(t.keyCode===$e.code.ENTER&&e.context.triggerEvent("enter",t),e.context.triggerEvent("keydown",t),t.isDefaultPrevented()||(e.options.shortcuts?e.handleKeyMap(t):e.preventDefaultEditableShortCuts(t)),e.isLimited(1,t))return!1}).on("keyup",function(t){e.setLastRange(),e.context.triggerEvent("keyup",t)}).on("focus",function(t){e.setLastRange(),e.context.triggerEvent("focus",t)}).on("blur",function(t){e.context.triggerEvent("blur",t)}).on("mousedown",function(t){e.context.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.setLastRange(),e.context.triggerEvent("mouseup",t)}).on("scroll",function(t){e.context.triggerEvent("scroll",t)}).on("paste",function(t){e.setLastRange(),e.context.triggerEvent("paste",t)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(Ae.html(this.$note)||Ae.emptyPara),this.$editable.on(N.inputEventName,F.debounce(function(){e.context.triggerEvent("change",e.$editable.html(),e.$editable)},10)),this.$editor.on("focusin",function(t){e.context.triggerEvent("focusin",t)}).on("focusout",function(t){e.context.triggerEvent("focusout",t)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},e.prototype.destroy=function(){this.$editable.off()},e.prototype.handleKeyMap=function(e){var t=this.options.keyMap[N.isMac?"mac":"pc"],n=[];e.metaKey&&n.push("CMD"),e.ctrlKey&&!e.altKey&&n.push("CTRL"),e.shiftKey&&n.push("SHIFT");var o=$e.nameFromCode[e.keyCode];o&&n.push(o);var i=t[n.join("+")];i?!1!==this.context.invoke(i)&&e.preventDefault():$e.isEdit(e.keyCode)&&this.afterCommand()},e.prototype.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&B.contains([66,73,85],e.keyCode)&&e.preventDefault()},e.prototype.isLimited=function(e,t){return e=e||0,(void 0===t||!($e.isMove(t.keyCode)||t.ctrlKey||t.metaKey||B.contains([$e.code.BACKSPACE,$e.code.DELETE],t.keyCode)))&&0<this.options.maxTextLength&&this.$editable.text().length+e>=this.options.maxTextLength},e.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},e.prototype.setLastRange=function(){this.lastRange=Fe.create(this.editable)},e.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},e.prototype.saveRange=function(e){e&&this.getLastRange().collapse().select()},e.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},e.prototype.saveTarget=function(e){this.$editable.data("target",e)},e.prototype.clearTarget=function(){this.$editable.removeData("target")},e.prototype.restoreTarget=function(){return this.$editable.data("target")},e.prototype.currentStyle=function(){var e=Fe.create();return e&&(e=e.normalize()),e?this.style.current(e):this.style.fromNode(this.$editable)},e.prototype.styleFromNode=function(e){return this.style.fromNode(e)},e.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},e.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},e.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},e.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},e.prototype.afterCommand=function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},e.prototype.tab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}},e.prototype.untab=function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1},e.prototype.wrapCommand=function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}},e.prototype.insertImage=function(e,t){var n,i=this;return(n=e,o.Deferred(function(e){var t=o("<img>");t.one("load",function(){t.off("error abort"),e.resolve(t)}).one("error abort",function(){t.off("load").detach(),e.reject(t)}).css({display:"none"}).appendTo(document.body).attr("src",n)}).promise()).then(function(e){i.beforeCommand(),"function"==typeof t?t(e):("string"==typeof t&&e.attr("data-filename",t),e.css("width",Math.min(i.$editable.width(),e.width()))),e.show(),Fe.create(i.editable).insertNode(e[0]),Fe.createFromNodeAfter(e[0]).select(),i.setLastRange(),i.afterCommand()}).fail(function(e){i.context.triggerEvent("image.upload.error",e)})},e.prototype.insertImagesAsDataURL=function(e){var t=this;o.each(e,function(e,n){var i,r=n.name;t.options.maximumImageFileSize&&t.options.maximumImageFileSize<n.size?t.context.triggerEvent("image.upload.error",t.lang.image.maximumFileSizeError):(i=n,o.Deferred(function(e){o.extend(new FileReader,{onload:function(t){var n=t.target.result;e.resolve(n)},onerror:function(t){e.reject(t)}}).readAsDataURL(i)}).promise()).then(function(e){return t.insertImage(e,r)}).fail(function(){t.context.triggerEvent("image.upload.error")})})},e.prototype.insertImagesOrCallback=function(e){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImagesAsDataURL(e)},e.prototype.getSelectedText=function(){var e=this.getLastRange();return e.isOnAnchor()&&(e=Fe.createFromNode(Ae.ancestor(e.sc,Ae.isAnchor))),e.toString()},e.prototype.onFormatBlock=function(e,t){if(document.execCommand("FormatBlock",!1,N.isMSIE?"<"+e+">":e),t&&t.length&&(t[0].tagName.toUpperCase()!==e.toUpperCase()&&(t=t.find(e)),t&&t.length)){var n=t[0].className||"";if(n){var i=this.createRange();o([i.sc,i.ec]).closest(e).addClass(n)}}},e.prototype.formatPara=function(){this.formatBlock("P")},e.prototype.fontStyling=function(e,t){var n=this.getLastRange();if(n){var i=this.style.styleNodes(n);if(o(i).css(e,t),n.isCollapsed()){var r=B.head(i);r&&!Ae.nodeLength(r)&&(r.innerHTML=Ae.ZERO_WIDTH_NBSP_CHAR,Fe.createFromNodeAfter(r.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",r))}}},e.prototype.unlink=function(){var e=this.getLastRange();if(e.isOnAnchor()){var t=Ae.ancestor(e.sc,Ae.isAnchor);(e=Fe.createFromNode(t)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},e.prototype.getLinkInfo=function(){var e=this.getLastRange().expand(Ae.isAnchor),t=o(B.head(e.nodes(Ae.isAnchor))),n={range:e,text:e.toString(),url:t.length?t.attr("href"):""};return t.length&&(n.isNewWindow="_blank"===t.attr("target")),n},e.prototype.addRow=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())},e.prototype.addCol=function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())},e.prototype.deleteRow=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())},e.prototype.deleteCol=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())},e.prototype.deleteTable=function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())},e.prototype.resizeTo=function(e,t,n){var o;if(n){var i=e.y/e.x,r=t.data("ratio");o={width:i<r?e.x:e.y/r,height:i<r?e.x*r:e.y}}else o={width:e.x,height:e.y};t.css(o)},e.prototype.hasFocus=function(){return this.$editable.is(":focus")},e.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},e.prototype.isEmpty=function(){return Ae.isEmpty(this.$editable[0])||Ae.emptyPara===this.$editable.html()},e.prototype.empty=function(){this.context.invoke("code",Ae.emptyPara)},e.prototype.normalizeContent=function(){this.$editable[0].normalize()},e}(),qe=function(){function e(e){this.context=e,this.$editable=e.layoutInfo.editable}return e.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},e.prototype.pasteByEvent=function(e){var t=e.originalEvent.clipboardData;if(t&&t.items&&t.items.length){var n=1<t.items.length?t.items[1]:B.head(t.items);"file"===n.kind&&-1!==n.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[n.getAsFile()]),this.context.invoke("editor.afterCommand")}},e}(),Ve=function(){function e(e){this.context=e,this.$eventListener=o(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=o(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return e.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},e.prototype.attachDragAndDropEvent=function(){var e=this,t=o(),n=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(o){var i=e.context.invoke("codeview.isActivated"),r=0<e.$editor.width()&&0<e.$editor.height();i||t.length||!r||(e.$editor.addClass("dragover"),e.$dropzone.width(e.$editor.width()),e.$dropzone.height(e.$editor.height()),n.text(e.lang.image.dragImageHere)),t=t.add(o.target)},this.documentEventHandlers.onDragleave=function(n){(t=t.not(n.target)).length||e.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){t=o(),e.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){e.$dropzone.addClass("hover"),n.text(e.lang.image.dropImage)}).on("dragleave",function(){e.$dropzone.removeClass("hover"),n.text(e.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(t){var n=t.originalEvent.dataTransfer;t.preventDefault(),n&&n.files&&n.files.length?(e.$editable.focus(),e.context.invoke("editor.insertImagesOrCallback",n.files)):o.each(n.types,function(t,i){var r=n.getData(i);-1<i.toLowerCase().indexOf("text")?e.context.invoke("editor.pasteHTML",r):o(r).each(function(t,n){e.context.invoke("editor.insertNode",n)})})}).on("dragover",!1)},e.prototype.destroy=function(){var e=this;Object.keys(this.documentEventHandlers).forEach(function(t){e.$eventListener.off(t.substr(2).toLowerCase(),e.documentEventHandlers[t])}),this.documentEventHandlers={}},e}();N.hasCodeMirror&&(je=window.CodeMirror);var Ge=function(){function e(e){this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options}return e.prototype.sync=function(){this.isActivated()&&N.hasCodeMirror&&this.$codable.data("cmEditor").save()},e.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},e.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},e.prototype.purify=function(e){if(this.options.codeviewFilter&&(e=e.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var t=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);e=e.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(e){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(e))return"";for(var n=0,o=t;n<o.length;n++){var i=o[n];if(new RegExp('src="(https?:)?//'+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(e))return e}return""})}return e},e.prototype.activate=function(){var e=this;if(this.$codable.val(Ae.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),N.hasCodeMirror){var t=je.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var n=new je.TernServer(this.options.codemirror.tern);t.ternServer=n,t.on("cursorActivity",function(e){n.updateArgHints(e)})}t.on("blur",function(n){e.context.triggerEvent("blur.codeview",t.getValue(),n)}),t.on("change",function(n){e.context.triggerEvent("change.codeview",t.getValue(),t)}),t.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",t)}else this.$codable.on("blur",function(t){e.context.triggerEvent("blur.codeview",e.$codable.val(),t)}),this.$codable.on("input",function(t){e.context.triggerEvent("change.codeview",e.$codable.val(),e.$codable)})},e.prototype.deactivate=function(){if(N.hasCodeMirror){var e=this.$codable.data("cmEditor");this.$codable.val(e.getValue()),e.toTextArea()}var t=this.purify(Ae.value(this.$codable,this.options.prettifyHtml)||Ae.emptyPara),n=this.$editable.html()!==t;this.$editable.html(t),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),n&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},e.prototype.destroy=function(){this.isActivated()&&this.deactivate()},e}(),Ke=function(){function e(e){this.$document=o(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}return e.prototype.initialize=function(){var e=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(t){t.preventDefault(),t.stopPropagation();var n=e.$editable.offset().top-e.$document.scrollTop(),o=function(t){var o=t.clientY-(n+24);o=0<e.options.minheight?Math.max(o,e.options.minheight):o,o=0<e.options.maxHeight?Math.min(o,e.options.maxHeight):o,e.$editable.height(o)};e.$document.on("mousemove",o).one("mouseup",function(){e.$document.off("mousemove",o)})})},e.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},e}(),Ze=function(){function e(e){var t=this;this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=o(window),this.$scrollbar=o("html, body"),this.onResize=function(){t.resizeTo({h:t.$window.height()-t.$toolbar.outerHeight()})}}return e.prototype.resizeTo=function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)},e.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},e.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},e}(),Ye=function(){function e(e){var t=this;this.context=e,this.$document=o(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,n){t.update(n.target,n)&&n.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){t.update()},"summernote.disable":function(){t.hide()},"summernote.codeview.toggled":function(){t.update()}}}return e.prototype.initialize=function(){var e=this;this.$handle=o(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(t){if(Ae.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var n=e.$handle.find(".note-control-selection").data("target"),o=n.offset(),i=e.$document.scrollTop(),r=function(t){e.context.invoke("editor.resizeTo",{x:t.clientX-o.left,y:t.clientY-(o.top-i)},n,!t.shiftKey),e.update(n[0])};e.$document.on("mousemove",r).one("mouseup",function(t){t.preventDefault(),e.$document.off("mousemove",r),e.context.invoke("editor.afterCommand")}),n.data("ratio")||n.data("ratio",n.height()/n.width())}}),this.$handle.on("wheel",function(t){t.preventDefault(),e.update()})},e.prototype.destroy=function(){this.$handle.remove()},e.prototype.update=function(e,t){if(this.context.isDisabled())return!1;var n=Ae.isImg(e),i=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",e,t),n){var r=o(e),a=r.position(),s={left:a.left+parseInt(r.css("marginLeft"),10),top:a.top+parseInt(r.css("marginTop"),10)},l={w:r.outerWidth(!1),h:r.outerHeight(!1)};i.css({display:"block",left:s.left,top:s.top,width:l.w,height:l.h}).data("target",r);var c=new Image;c.src=r.attr("src");var u=l.w+"x"+l.h+" ("+this.lang.image.original+": "+c.width+"x"+c.height+")";i.find(".note-control-selection-info").text(u),this.context.invoke("editor.saveTarget",e)}else this.hide();return n},e.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},e}(),Xe=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Qe=function(){function e(e){var t=this;this.context=e,this.events={"summernote.keyup":function(e,n){n.isDefaultPrevented()||t.handleKeyup(n)},"summernote.keydown":function(e,n){t.handleKeydown(n)}}}return e.prototype.initialize=function(){this.lastWordRange=null},e.prototype.destroy=function(){this.lastWordRange=null},e.prototype.replace=function(){if(this.lastWordRange){var e=this.lastWordRange.toString(),t=e.match(Xe);if(t&&(t[1]||t[2])){var n=t[1]?e:"http://"+e,i=o("<a />").html(e).attr("href",n)[0];this.context.options.linkTargetBlank&&o(i).attr("target","_blank"),this.lastWordRange.insertNode(i),this.lastWordRange=null,this.context.invoke("editor.focus")}}},e.prototype.handleKeydown=function(e){if(B.contains([$e.code.ENTER,$e.code.SPACE],e.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=t}},e.prototype.handleKeyup=function(e){B.contains([$e.code.ENTER,$e.code.SPACE],e.keyCode)&&this.replace()},e}(),Je=function(){function e(e){var t=this;this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){t.$note.val(e.invoke("code"))}}}return e.prototype.shouldInitialize=function(){return Ae.isTextarea(this.$note[0])},e}(),et=function(){function e(e){var t=this;this.context=e,this.options=e.options.replace||{},this.keys=[$e.code.ENTER,$e.code.SPACE,$e.code.PERIOD,$e.code.COMMA,$e.code.SEMICOLON,$e.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(e,n){n.isDefaultPrevented()||t.handleKeyup(n)},"summernote.keydown":function(e,n){t.handleKeydown(n)}}}return e.prototype.shouldInitialize=function(){return!!this.options.match},e.prototype.initialize=function(){this.lastWord=null},e.prototype.destroy=function(){this.lastWord=null},e.prototype.replace=function(){if(this.lastWord){var e=this,n=this.lastWord.toString();this.options.match(n,function(n){if(n){var o="";if("string"==typeof n?o=Ae.createText(n):n instanceof t?o=n[0]:n instanceof Node&&(o=n),!o)return;e.lastWord.insertNode(o),e.lastWord=null,e.context.invoke("editor.focus")}})}},e.prototype.handleKeydown=function(e){if(this.previousKeydownCode&&B.contains(this.keys,this.previousKeydownCode))this.previousKeydownCode=e.keyCode;else{if(B.contains(this.keys,e.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWord=t}this.previousKeydownCode=e.keyCode}},e.prototype.handleKeyup=function(e){B.contains(this.keys,e.keyCode)&&this.replace()},e}(),tt=function(){function e(e){var t=this;this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}}}return e.prototype.shouldInitialize=function(){return!!this.options.placeholder},e.prototype.initialize=function(){var e=this;this.$placeholder=o('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},e.prototype.destroy=function(){this.$placeholder.remove()},e.prototype.update=function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)},e}(),nt=function(){function e(e){this.ui=o.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=F.invertObject(this.options.keyMap[N.isMac?"mac":"pc"])}return e.prototype.representShortcut=function(e){var t=this.invertedKeyMap[e];return this.options.shortcuts&&t?(N.isMac&&(t=t.replace("CMD","â").replace("SHIFT","â§"))," ("+(t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},e.prototype.button=function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)},e.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},e.prototype.destroy=function(){delete this.fontInstalledMap},e.prototype.isFontInstalled=function(e){return this.fontInstalledMap.hasOwnProperty(e)||(this.fontInstalledMap[e]=N.isFontInstalled(e)||B.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]},e.prototype.isFontDeservedToAdd=function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===["sans-serif","serif","monospace","cursive","fantasy"].indexOf(e)},e.prototype.colorPalette=function(e,t,n,i){var r=this;return this.ui.buttonGroup({className:"note-color "+e,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:t,click:function(e){var t=o(e.currentTarget);n&&i?r.context.invoke("editor.color",{backColor:t.attr("data-backColor"),foreColor:t.attr("data-foreColor")}):n?r.context.invoke("editor.color",{backColor:t.attr("data-backColor")}):i&&r.context.invoke("editor.color",{foreColor:t.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");n&&(t.css("background-color",r.options.colorButton.backColor),e.attr("data-backColor",r.options.colorButton.backColor)),i?(t.css("color",r.options.colorButton.foreColor),e.attr("data-foreColor",r.options.colorButton.foreColor)):t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(i?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(e){e.find(".note-holder").each(function(e,t){var n=o(t);n.append(r.ui.palette({colors:r.options.colors,colorsName:r.options.colorsName,eventName:n.data("event"),container:r.options.container,tooltip:r.options.tooltip}).render())});var t=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];e.find(".note-holder-custom").each(function(e,n){var i=o(n);i.append(r.ui.palette({colors:t,colorsName:t,eventName:i.data("event"),container:r.options.container,tooltip:r.options.tooltip}).render())}),e.find("input[type=color]").each(function(t,n){o(n).change(function(){var t=e.find("#"+o(this).data("event")).find(".note-color-btn").first(),n=this.value.toUpperCase();t.css("background-color",n).attr("aria-label",n).attr("data-value",n).attr("data-original-title",n),t.click()})})},click:function(t){t.stopPropagation();var n=o("."+e),i=o(t.target),a=i.data("event"),s=i.attr("data-value");if("openPalette"===a){var l=n.find("#"+s),c=o(n.find("#"+l.data("event")).find(".note-color-row")[0]),u=c.find(".note-color-btn").last().detach(),d=l.val();u.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),c.prepend(u),l.click()}else if(B.contains(["backColor","foreColor"],a)){var p="backColor"===a?"background-color":"color",f=i.closest(".note-color").find(".note-recent-color"),h=i.closest(".note-color").find(".note-current-color-button");f.css(p,s),h.attr("data-"+a,s),r.context.invoke("editor."+a,s)}}})]}).render()},e.prototype.addToolbarButtons=function(){var e=this;this.context.memo("button.style",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.magic),e.options),tooltip:e.lang.style.style,data:{toggle:"dropdown"}}),e.ui.dropdown({className:"dropdown-style",items:e.options.styleTags,title:e.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:e.lang.style.hasOwnProperty(t)?e.lang.style[t]:t});var n=t.tag,o=t.title;return"<"+n+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+o+"</"+n+">"},click:e.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var t=function(t,o){var i=n.options.styleTags[t];n.context.memo("button.style."+i,function(){return e.button({className:"note-btn-style-"+i,contents:'<div data-value="'+i+'">'+i.toUpperCase()+"</div>",tooltip:e.lang.style[i],click:e.context.createInvokeHandler("editor.formatBlock")}).render()})},n=this,i=0,r=this.options.styleTags.length;i<r;i++)t(i);this.context.memo("button.bold",function(){return e.button({className:"note-btn-bold",contents:e.ui.icon(e.options.icons.bold),tooltip:e.lang.font.bold+e.representShortcut("bold"),click:e.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return e.button({className:"note-btn-italic",contents:e.ui.icon(e.options.icons.italic),tooltip:e.lang.font.italic+e.representShortcut("italic"),click:e.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return e.button({className:"note-btn-underline",contents:e.ui.icon(e.options.icons.underline),tooltip:e.lang.font.underline+e.representShortcut("underline"),click:e.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return e.button({contents:e.ui.icon(e.options.icons.eraser),tooltip:e.lang.font.clear+e.representShortcut("removeFormat"),click:e.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return e.button({className:"note-btn-strikethrough",contents:e.ui.icon(e.options.icons.strikethrough),tooltip:e.lang.font.strikethrough+e.representShortcut("strikethrough"),click:e.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return e.button({className:"note-btn-superscript",contents:e.ui.icon(e.options.icons.superscript),tooltip:e.lang.font.superscript,click:e.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return e.button({className:"note-btn-subscript",contents:e.ui.icon(e.options.icons.subscript),tooltip:e.lang.font.subscript,click:e.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var t=e.context.invoke("editor.currentStyle");return o.each(t["font-family"].split(","),function(t,n){n=n.trim().replace(/['"]+/g,""),e.isFontDeservedToAdd(n)&&-1===e.options.fontNames.indexOf(n)&&e.options.fontNames.push(n)}),e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontname"/>',e.options),tooltip:e.lang.font.name,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:e.options.icons.menuCheck,items:e.options.fontNames.filter(e.isFontInstalled.bind(e)),title:e.lang.font.name,template:function(e){return"<span style=\"font-family: '"+e+"'\">"+e+"</span>"},click:e.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',e.options),tooltip:e.lang.font.size,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizes,title:e.lang.font.size,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return e.colorPalette("note-color-all",e.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return e.colorPalette("note-color-fore",e.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return e.colorPalette("note-color-back",e.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return e.button({contents:e.ui.icon(e.options.icons.unorderedlist),tooltip:e.lang.lists.unordered+e.representShortcut("insertUnorderedList"),click:e.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return e.button({contents:e.ui.icon(e.options.icons.orderedlist),tooltip:e.lang.lists.ordered+e.representShortcut("insertOrderedList"),click:e.context.createInvokeHandler("editor.insertOrderedList")}).render()});var a=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),s=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),l=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),c=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),u=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),d=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",F.invoke(a,"render")),this.context.memo("button.justifyCenter",F.invoke(s,"render")),this.context.memo("button.justifyRight",F.invoke(l,"render")),this.context.memo("button.justifyFull",F.invoke(c,"render")),this.context.memo("button.outdent",F.invoke(u,"render")),this.context.memo("button.indent",F.invoke(d,"render")),this.context.memo("button.paragraph",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.alignLeft),e.options),tooltip:e.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),e.ui.dropdown([e.ui.buttonGroup({className:"note-align",children:[a,s,l,c]}),e.ui.buttonGroup({className:"note-list",children:[u,d]})])]).render()}),this.context.memo("button.height",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.textHeight),e.options),tooltip:e.lang.font.height,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({items:e.options.lineHeights,checkClassName:e.options.icons.menuCheck,className:"dropdown-line-height",title:e.lang.font.height,click:e.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.table),e.options),tooltip:e.lang.table.table,data:{toggle:"dropdown"}}),e.ui.dropdown({title:e.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:e.options.insertTableMaxSize.col+"em",height:e.options.insertTableMaxSize.row+"em"}).mousedown(e.context.createInvokeHandler("editor.insertTable")).on("mousemove",e.tableMoveHandler.bind(e))}}).render()}),this.context.memo("button.link",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.link+e.representShortcut("linkDialog.show"),click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return e.button({contents:e.ui.icon(e.options.icons.picture),tooltip:e.lang.image.image,click:e.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return e.button({contents:e.ui.icon(e.options.icons.video),tooltip:e.lang.video.video,click:e.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return e.button({contents:e.ui.icon(e.options.icons.minus),tooltip:e.lang.hr.insert+e.representShortcut("insertHorizontalRule"),click:e.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return e.button({className:"btn-fullscreen",contents:e.ui.icon(e.options.icons.arrowsAlt),tooltip:e.lang.options.fullscreen,click:e.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return e.button({className:"btn-codeview",contents:e.ui.icon(e.options.icons.code),tooltip:e.lang.options.codeview,click:e.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return e.button({contents:e.ui.icon(e.options.icons.redo),tooltip:e.lang.history.redo+e.representShortcut("redo"),click:e.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return e.button({contents:e.ui.icon(e.options.icons.undo),tooltip:e.lang.history.undo+e.representShortcut("undo"),click:e.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return e.button({contents:e.ui.icon(e.options.icons.question),tooltip:e.lang.options.help,click:e.context.createInvokeHandler("helpDialog.show")}).render()})},e.prototype.addImagePopoverButtons=function(){var e=this;this.context.memo("button.resizeFull",function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.resizeNone,click:e.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return e.button({contents:e.ui.icon(e.options.icons.floatLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return e.button({contents:e.ui.icon(e.options.icons.floatRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()})},e.prototype.addLinkPopoverButtons=function(){var e=this;this.context.memo("button.linkDialogShow",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()})},e.prototype.addTablePopoverButtons=function(){var e=this;this.context.memo("button.addRowUp",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()})},e.prototype.build=function(e,t){for(var n=0,o=t.length;n<o;n++){for(var i=t[n],r=Array.isArray(i)?i[0]:i,a=Array.isArray(i)?1===i.length?[i[0]]:i[1]:[i],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var u=this.context.memo("button."+a[l]);u&&s.append("function"==typeof u?u():u)}s.appendTo(e)}},e.prototype.updateCurrentStyle=function(e){var t=this,n=e||this.$toolbar,i=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(n,{".note-btn-bold":function(){return"bold"===i["font-bold"]},".note-btn-italic":function(){return"italic"===i["font-italic"]},".note-btn-underline":function(){return"underline"===i["font-underline"]},".note-btn-subscript":function(){return"subscript"===i["font-subscript"]},".note-btn-superscript":function(){return"superscript"===i["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===i["font-strikethrough"]}}),i["font-family"]){var r=i["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),a=B.find(r,this.isFontInstalled.bind(this));n.find(".dropdown-fontname a").each(function(e,t){var n=o(t),i=n.data("value")+""==a+"";n.toggleClass("checked",i)}),n.find(".note-current-fontname").text(a).css("font-family",a)}if(i["font-size"]){var s=i["font-size"];n.find(".dropdown-fontsize a").each(function(e,t){var n=o(t),i=n.data("value")+""==s+"";n.toggleClass("checked",i)}),n.find(".note-current-fontsize").text(s)}if(i["line-height"]){var l=i["line-height"];n.find(".dropdown-line-height li a").each(function(e,n){var i=o(n).data("value")+""==l+"";t.className=i?"checked":""})}},e.prototype.updateBtnStates=function(e,t){var n=this;o.each(t,function(t,o){n.ui.toggleBtnActive(e.find(t),o())})},e.prototype.tableMoveHandler=function(e){var t,n=o(e.target.parentNode),i=n.next(),r=n.find(".note-dimension-picker-mousecatcher"),a=n.find(".note-dimension-picker-highlighted"),s=n.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var l=o(e.target).offset();t={x:e.pageX-l.left,y:e.pageY-l.top}}else t={x:e.offsetX,y:e.offsetY};var c=Math.ceil(t.x/18)||1,u=Math.ceil(t.y/18)||1;a.css({width:c+"em",height:u+"em"}),r.data("value",c+"x"+u),3<c&&c<this.options.insertTableMaxSize.col&&s.css({width:c+1+"em"}),3<u&&u<this.options.insertTableMaxSize.row&&s.css({height:u+1+"em"}),i.html(c+" x "+u)},e}(),ot=function(){function e(e){this.context=e,this.$window=o(window),this.$document=o(document),this.ui=o.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$statusbar=e.layoutInfo.statusbar,this.options=e.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}return e.prototype.shouldInitialize=function(){return!this.options.airMode},e.prototype.initialize=function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){e.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},e.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},e.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$editor.outerHeight(),t=this.$editor.width(),n=this.$toolbar.height(),i=this.$statusbar.height(),r=0;this.options.otherStaticBar&&(r=o(this.options.otherStaticBar).outerHeight());var a=this.$document.scrollTop(),s=this.$editor.offset().top,l=s-r,c=s+e-r-n-i;!this.isFollowing&&l<a&&a<c-n?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:r,width:t}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(a<l||c<a)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},e.prototype.changeContainer=function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},e.prototype.updateFullscreen=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)},e.prototype.updateCodeview=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()},e.prototype.activate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!0)},e.prototype.deactivate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!1)},e}(),it=function(){function e(e){this.context=e,this.ui=o.summernote.ui,this.$body=o(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":o("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===$e.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},e.prototype.toggleLinkBtn=function(e,t,n){this.ui.toggleBtn(e,t.val()&&n.val())},e.prototype.showLinkDialog=function(e){var t=this;return o.Deferred(function(n){var o=t.$dialog.find(".note-link-text"),i=t.$dialog.find(".note-link-url"),r=t.$dialog.find(".note-link-btn"),a=t.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),!e.url&&F.isValidUrl(e.text)&&(e.url=e.text),o.on("input paste propertychange",function(){e.text=o.val(),t.toggleLinkBtn(r,o,i)}).val(e.text),i.on("input paste propertychange",function(){e.text||o.val(i.val()),t.toggleLinkBtn(r,o,i)}).val(e.url),N.isSupportTouch||i.trigger("focus"),t.toggleLinkBtn(r,o,i),t.bindEnterKey(i,r),t.bindEnterKey(o,r);var s=void 0!==e.isNewWindow?e.isNewWindow:t.context.options.linkTargetBlank;a.prop("checked",s),r.one("click",function(r){r.preventDefault(),n.resolve({range:e.range,url:i.val(),text:o.val(),isNewWindow:a.is(":checked")}),t.ui.hideDialog(t.$dialog)})}),t.ui.onDialogHidden(t.$dialog,function(){o.off(),i.off(),r.off(),"pending"===n.state()&&n.reject()}),t.ui.showDialog(t.$dialog)}).promise()},e.prototype.show=function(){var e=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},e}(),rt=function(){function e(e){var t=this;this.context=e,this.ui=o.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.disable summernote.dialog.shown":function(){t.hide()}}}return e.prototype.shouldInitialize=function(){return!B.isEmpty(this.options.popover.link)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var e=this.context.invoke("editor.getLastRange");if(e.isCollapsed()&&e.isOnAnchor()){var t=Ae.ancestor(e.sc,Ae.isAnchor),n=o(t).attr("href");this.$popover.find("a").attr("href",n).html(n);var i=Ae.posFromPlaceholder(t);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide()}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),at=function(){function e(e){this.context=e,this.ui=o.summernote.ui,this.$body=o(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t="";if(this.options.maximumImageFileSize){var n=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),o=1*(this.options.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B";t="<small>"+this.lang.image.maximumFileSize+" : "+o+"</small>"}var i=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',t,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),r='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:i,footer:r}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===$e.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},e.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),"string"==typeof t?e.options.callbacks.onImageLinkInsert?e.context.triggerEvent("image.link.insert",t):e.context.invoke("editor.insertImage",t):e.context.invoke("editor.insertImagesOrCallback",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},e.prototype.showImageDialog=function(){var e=this;return o.Deferred(function(t){var n=e.$dialog.find(".note-image-input"),o=e.$dialog.find(".note-image-url"),i=e.$dialog.find(".note-image-btn");e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),n.replaceWith(n.clone().on("change",function(e){t.resolve(e.target.files||e.target.value)}).val("")),o.on("input paste propertychange",function(){e.ui.toggleBtn(i,o.val())}).val(""),N.isSupportTouch||o.trigger("focus"),i.click(function(e){e.preventDefault(),t.resolve(o.val())}),e.bindEnterKey(o,i)}),e.ui.onDialogHidden(e.$dialog,function(){n.off(),o.off(),i.off(),"pending"===t.state()&&t.reject()}),e.ui.showDialog(e.$dialog)})},e}(),st=function(){function e(e){var t=this;this.context=e,this.ui=o.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable":function(){t.hide()}}}return e.prototype.shouldInitialize=function(){return!B.isEmpty(this.options.popover.image)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(e,t){if(Ae.isImg(e)){var n=Ae.posFromPlaceholder(e),o=Ae.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?t.pageX-20:n.left,top:this.options.popatmouse?t.pageY:Math.min(n.top,o.top)})}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),lt=function(){function e(e){var t=this;this.context=e,this.ui=o.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(e,n){t.update(n.target)},"summernote.keyup summernote.scroll summernote.change":function(){t.update()},"summernote.disable":function(){t.hide()}}}return e.prototype.shouldInitialize=function(){return!B.isEmpty(this.options.popover.table)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),N.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(e){if(this.context.isDisabled())return!1;var t=Ae.isCell(e);if(t){var n=Ae.posFromPlaceholder(e);this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide();return t},e.prototype.hide=function(){this.$popover.hide()},e}(),ct=function(){function e(e){this.context=e,this.ui=o.summernote.ui,this.$body=o(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===$e.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},e.prototype.createVideoNode=function(e){var t,n=e.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),i=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),r=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),a=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),s=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),l=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),c=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),u=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),d=e.match(/^.+.(mp4|m4v)$/),p=e.match(/^.+.(ogg|ogv)$/),f=e.match(/^.+.(webm)$/),h=e.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(n&&11===n[1].length){var m=n[1],g=0;if(void 0!==n[2]){var v=n[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(v)for(var b=[3600,60,1],y=0,w=b.length;y<w;y++)g+=void 0!==v[y+1]?b[y]*parseInt(v[y+1],10):0}t=o("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+m+(0<g?"?start="+g:"")).attr("width","640").attr("height","360")}else if(i&&i[0].length)t=o("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+i[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(r&&r[0].length)t=o("<iframe>").attr("frameborder",0).attr("src",r[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(a&&a[3].length)t=o("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+a[3]).attr("width","640").attr("height","360");else if(s&&s[2].length)t=o("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+s[2]).attr("width","640").attr("height","360");else if(l&&l[1].length)t=o("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+l[1]);else if(c&&c[1].length||u&&u[2].length){var C=c&&c[1].length?c[1]:u[2];t=o("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+C+"&amp;auto=0")}else if(d||p||f)t=o("<video controls>").attr("src",e).attr("width","640").attr("height","360");else{if(!h||!h[0].length)return!1;t=o("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(h[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return t.addClass("note-video-clip"),t[0]},e.prototype.show=function(){var e=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange");var n=e.createVideoNode(t);n&&e.context.invoke("editor.insertNode",n)}).fail(function(){e.context.invoke("editor.restoreRange")})},e.prototype.showVideoDialog=function(e){var t=this;return o.Deferred(function(e){var n=t.$dialog.find(".note-video-url"),o=t.$dialog.find(".note-video-btn");t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),n.on("input paste propertychange",function(){t.ui.toggleBtn(o,n.val())}),N.isSupportTouch||n.trigger("focus"),o.click(function(t){t.preventDefault(),e.resolve(n.val())}),t.bindEnterKey(n,o)}),t.ui.onDialogHidden(t.$dialog,function(){n.off(),o.off(),"pending"===e.state()&&e.reject()}),t.ui.showDialog(t.$dialog)})},e}(),ut=function(){function e(e){this.context=e,this.ui=o.summernote.ui,this.$body=o(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> Â· ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> Â· ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.createShortcutList=function(){var e=this,t=this.options.keyMap[N.isMac?"mac":"pc"];return Object.keys(t).map(function(n){var i=t[n],r=o('<div><div class="help-list-item"/></div>');return r.append(o("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append(o("<span/>").html(e.context.memo("help."+i)||i)),r.html()}).join("")},e.prototype.showHelpDialog=function(){var e=this;return o.Deferred(function(t){e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),t.resolve()}),e.ui.showDialog(e.$dialog)}).promise()},e.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.context.invoke("editor.restoreRange")})},e}(),dt=function(){function e(e){var t=this;this.context=e,this.ui=o.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){t.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){t.hide()},"summernote.focusout":function(e,n){N.isFF||n.relatedTarget&&Ae.ancestor(n.relatedTarget,F.eq(t.$popover[0]))||t.hide()}}}return e.prototype.shouldInitialize=function(){return this.options.airMode&&!B.isEmpty(this.options.popover.air)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content");this.context.invoke("buttons.build",e,this.options.popover.air)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(){var e=this.context.invoke("editor.currentStyle");if(e.range&&!e.range.isCollapsed()){var t=B.last(e.range.getClientRects());if(t){var n=F.rect2bnd(t);this.$popover.css({display:"block",left:Math.max(n.left+n.width/2,0)-20,top:n.top+n.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),pt=function(){function e(e){var t=this;this.context=e,this.ui=o.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,n){n.isDefaultPrevented()||t.handleKeyup(n)},"summernote.keydown":function(e,n){t.handleKeydown(n)},"summernote.disable summernote.dialog.shown":function(){t.hide()}}}return e.prototype.shouldInitialize=function(){return 0<this.hints.length},e.prototype.initialize=function(){var e=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(t){e.$content.find(".active").removeClass("active"),o(t.currentTarget).addClass("active"),e.replace()})},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},e.prototype.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var n=e.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}},e.prototype.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var n=e.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}},e.prototype.replace=function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var t=this.nodeFromItem(e);this.lastWordRange.insertNode(t),Fe.createFromNode(t).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},e.prototype.nodeFromItem=function(e){var t=this.hints[e.data("index")],n=e.data("item"),o=t.content?t.content(n):n;return"string"==typeof o&&(o=Ae.createText(o)),o},e.prototype.createItemTemplates=function(e,t){var n=this.hints[e];return t.map(function(t,i){var r=o('<div class="note-hint-item"/>');return r.append(n.template?n.template(t):t+""),r.data({index:e,item:t}),r})},e.prototype.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===$e.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===$e.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===$e.code.DOWN&&(e.preventDefault(),this.moveDown()))},e.prototype.searchKeyword=function(e,t,n){var o=this.hints[e];if(o&&o.match.test(t)&&o.search){var i=o.match.exec(t);o.search(i[1],n)}else n()},e.prototype.createGroup=function(e,t){var n=this,i=o('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,t,function(t){(t=t||[]).length&&(i.html(n.createItemTemplates(e,t)),n.show())}),i},e.prototype.handleKeyup=function(e){var t=this;if(!B.contains([$e.code.ENTER,$e.code.UP,$e.code.DOWN],e.keyCode)){var n=this.context.invoke("editor.getLastRange").getWordRange(),o=n.toString();if(this.hints.length&&o){this.$content.empty();var i=F.rect2bnd(B.last(n.getClientRects()));i&&(this.$popover.hide(),this.lastWordRange=n,this.hints.forEach(function(e,n){e.match.test(o)&&t.createGroup(n,o).appendTo(t.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:i.left,top:i.top-this.$popover.outerHeight()-5}):this.$popover.css({left:i.left,top:i.top+i.height+5}))}else this.hide()}},e.prototype.show=function(){this.$popover.show()},e.prototype.hide=function(){this.$popover.hide()},e}();o.summernote=o.extend(o.summernote,{version:"0.8.12",plugins:{},dom:Ae,range:Fe,options:{langInfo:o.summernote.lang["en-US"],modules:{editor:We,clipboard:qe,dropzone:Ve,codeview:Ge,statusbar:Ke,fullscreen:Ze,handle:Ye,hintPopover:pt,autoLink:Qe,autoSync:Je,autoReplace:et,placeholder:tt,buttons:nt,toolbar:ot,linkDialog:it,linkPopover:rt,imageDialog:at,imagePopover:st,tablePopover:lt,videoDialog:ct,helpDialog:ut,airPopover:dt},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),o.summernote=o.extend(o.summernote,{ui:x}),o.summernote.options.styleTags=["p",{title:"Blockquote",tag:"blockquote",className:"blockquote",value:"blockquote"},"pre","h1","h2","h3","h4","h5","h6"]}(n(0))}).call(this,n(0),n(0))},function(e,t,n){var o=n(16);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){},function(e,t,n){!function(){"use strict";function n(e){for(var t=p(e);"Ã¿Ã "<=t[1].slice(0,2)&&t[1].slice(0,2)<="Ã¿Ã¯";)t=[t[0]].concat(t.slice(2));return t.join("")}function o(e){return c(">"+d("B",e.length),e)}function i(e){return c(">"+d("H",e.length),e)}function r(e){return c(">"+d("L",e.length),e)}function a(e,t,n){var a,s,l,u,p="",f="";if("Byte"==t)4>=(a=e.length)?f=o(e)+d("\0",4-a):(f=c(">L",[n]),p=o(e));else if("Short"==t)2>=(a=e.length)?f=i(e)+d("\0\0",2-a):(f=c(">L",[n]),p=i(e));else if("Long"==t)1>=(a=e.length)?f=r(e):(f=c(">L",[n]),p=r(e));else if("Ascii"==t)(a=(s=e+"\0").length)>4?(f=c(">L",[n]),p=s):f=s+d("\0",4-a);else if("Rational"==t){if("number"==typeof e[0])a=1,l=e[0],u=e[1],s=c(">L",[l])+c(">L",[u]);else{a=e.length,s="";for(var h=0;a>h;h++)l=e[h][0],u=e[h][1],s+=c(">L",[l])+c(">L",[u])}f=c(">L",[n]),p=s}else if("SRational"==t){if("number"==typeof e[0])a=1,l=e[0],u=e[1],s=c(">l",[l])+c(">l",[u]);else{a=e.length,s="";for(h=0;a>h;h++)l=e[h][0],u=e[h][1],s+=c(">l",[l])+c(">l",[u])}f=c(">L",[n]),p=s}else"Undefined"==t&&((a=e.length)>4?(f=c(">L",[n]),p=e):f=e+d("\0",4-a));return[c(">L",[a]),f,p]}function s(e,t,n){var o,i=Object.keys(e).length,r=c(">H",[i]);o=["0th","1st"].indexOf(t)>-1?2+12*i+4:2+12*i;var s="",l="";for(var u in e)if("string"==typeof u&&(u=parseInt(u)),!("0th"==t&&[34665,34853].indexOf(u)>-1||"Exif"==t&&40965==u||"1st"==t&&[513,514].indexOf(u)>-1)){var d=e[u],p=c(">H",[u]),f=v[t][u].type,h=c(">H",[g[f]]);"number"==typeof d&&(d=[d]);var m=a(d,f,8+o+n+l.length);s+=p+h+m[0]+m[1],l+=m[2]}return[r+s,l]}function l(e){var t;if("Ã¿Ã"==e.slice(0,2))t=function(e){for(var t,n=0;n<e.length;n++)if("Ã¿Ã¡"==(t=e[n]).slice(0,2)&&"Exif\0\0"==t.slice(4,10))return t;return null}(p(e)),this.tiftag=t?t.slice(10):null;else if(["II","MM"].indexOf(e.slice(0,2))>-1)this.tiftag=e;else{if("Exif"!=e.slice(0,4))throw"Given file is neither JPEG nor TIFF.";this.tiftag=e.slice(6)}}function c(e,t){if(!(t instanceof Array))throw"'pack' error. Got invalid type argument.";if(e.length-1!=t.length)throw"'pack' error. "+(e.length-1)+" marks, "+t.length+" elements.";var n;if("<"==e[0])n=!0;else{if(">"!=e[0])throw"";n=!1}for(var o="",i=1,r=null,a=null,s=null;a=e[i];){if("b"==a.toLowerCase()){if(r=t[i-1],"b"==a&&0>r&&(r+=256),r>255||0>r)throw"'pack' error.";s=String.fromCharCode(r)}else if("H"==a){if((r=t[i-1])>65535||0>r)throw"'pack' error.";s=String.fromCharCode(Math.floor(r%65536/256))+String.fromCharCode(r%256),n&&(s=s.split("").reverse().join(""))}else{if("l"!=a.toLowerCase())throw"'pack' error.";if(r=t[i-1],"l"==a&&0>r&&(r+=4294967296),r>4294967295||0>r)throw"'pack' error.";s=String.fromCharCode(Math.floor(r/16777216))+String.fromCharCode(Math.floor(r%16777216/65536))+String.fromCharCode(Math.floor(r%65536/256))+String.fromCharCode(r%256),n&&(s=s.split("").reverse().join(""))}o+=s,i+=1}return o}function u(e,t){if("string"!=typeof t)throw"'unpack' error. Got invalid type argument.";for(var n=0,o=1;o<e.length;o++)if("b"==e[o].toLowerCase())n+=1;else if("h"==e[o].toLowerCase())n+=2;else{if("l"!=e[o].toLowerCase())throw"'unpack' error. Got invalid mark.";n+=4}if(n!=t.length)throw"'unpack' error. Mismatch between symbol and string length. "+n+":"+t.length;var i;if("<"==e[0])i=!0;else{if(">"!=e[0])throw"'unpack' error.";i=!1}for(var r=[],a=0,s=1,l=null,c=null,u=null,d="";c=e[s];){if("b"==c.toLowerCase())u=1,l=(d=t.slice(a,a+u)).charCodeAt(0),"b"==c&&l>=128&&(l-=256);else if("H"==c)u=2,d=t.slice(a,a+u),i&&(d=d.split("").reverse().join("")),l=256*d.charCodeAt(0)+d.charCodeAt(1);else{if("l"!=c.toLowerCase())throw"'unpack' error. "+c;u=4,d=t.slice(a,a+u),i&&(d=d.split("").reverse().join("")),l=16777216*d.charCodeAt(0)+65536*d.charCodeAt(1)+256*d.charCodeAt(2)+d.charCodeAt(3),"l"==c&&l>=2147483648&&(l-=4294967296)}r.push(l),a+=u,s+=1}return r}function d(e,t){for(var n="",o=0;t>o;o++)n+=e;return n}function p(e){if("Ã¿Ã"!=e.slice(0,2))throw"Given data isn't JPEG.";for(var t=2,n=["Ã¿Ã"];;){if("Ã¿Ã"==e.slice(t,t+2)){n.push(e.slice(t));break}var o=t+u(">H",e.slice(t+2,t+4))[0]+2;if(n.push(e.slice(t,o)),(t=o)>=e.length)throw"Wrong JPEG data."}return n}var f={version:"1.03",remove:function(e){var t=!1;if("Ã¿Ã"==e.slice(0,2));else{if("data:image/jpeg;base64,"!=e.slice(0,23)&&"data:image/jpg;base64,"!=e.slice(0,22))throw"Given data is not jpeg.";e=m(e.split(",")[1]),t=!0}var n=p(e);if("Ã¿Ã¡"==n[1].slice(0,2)&&"Exif\0\0"==n[1].slice(4,10))n=[n[0]].concat(n.slice(2));else{if("Ã¿Ã¡"!=n[2].slice(0,2)||"Exif\0\0"!=n[2].slice(4,10))throw"Exif not found.";n=n.slice(0,2).concat(n.slice(3))}var o=n.join("");return t&&(o="data:image/jpeg;base64,"+h(o)),o},insert:function(e,t){var n=!1;if("Exif\0\0"!=e.slice(0,6))throw"Given data is not exif.";if("Ã¿Ã"==t.slice(0,2));else{if("data:image/jpeg;base64,"!=t.slice(0,23)&&"data:image/jpg;base64,"!=t.slice(0,22))throw"Given data is not jpeg.";t=m(t.split(",")[1]),n=!0}var o="Ã¿Ã¡"+c(">H",[e.length+2])+e,i=function(e,t){return"Ã¿Ã "==e[1].slice(0,2)&&"Ã¿Ã¡"==e[2].slice(0,2)&&"Exif\0\0"==e[2].slice(4,10)?t?(e[2]=t,e=["Ã¿Ã"].concat(e.slice(2))):e=null==t?e.slice(0,2).concat(e.slice(3)):e.slice(0).concat(e.slice(2)):"Ã¿Ã "==e[1].slice(0,2)?t&&(e[1]=t):"Ã¿Ã¡"==e[1].slice(0,2)&&"Exif\0\0"==e[1].slice(4,10)?t?e[1]=t:null==t&&(e=e.slice(0).concat(e.slice(2))):t&&(e=[e[0],t].concat(e.slice(1))),e.join("")}(p(t),o);return n&&(i="data:image/jpeg;base64,"+h(i)),i},load:function(e){var t;if("string"!=typeof e)throw"'load' gots invalid type argument.";if("Ã¿Ã"==e.slice(0,2))t=e;else if("data:image/jpeg;base64,"==e.slice(0,23)||"data:image/jpg;base64,"==e.slice(0,22))t=m(e.split(",")[1]);else{if("Exif"!=e.slice(0,4))throw"'load' gots invalid file data.";t=e.slice(6)}var n={"0th":{},Exif:{},GPS:{},Interop:{},"1st":{},thumbnail:null},o=new l(t);if(null===o.tiftag)return n;"II"==o.tiftag.slice(0,2)?o.endian_mark="<":o.endian_mark=">";var i=u(o.endian_mark+"L",o.tiftag.slice(4,8))[0];n["0th"]=o.get_ifd(i,"0th");var r=n["0th"].first_ifd_pointer;if(delete n["0th"].first_ifd_pointer,34665 in n["0th"]&&(i=n["0th"][34665],n.Exif=o.get_ifd(i,"Exif")),34853 in n["0th"]&&(i=n["0th"][34853],n.GPS=o.get_ifd(i,"GPS")),40965 in n.Exif&&(i=n.Exif[40965],n.Interop=o.get_ifd(i,"Interop")),"\0\0\0\0"!=r&&(i=u(o.endian_mark+"L",r)[0],n["1st"]=o.get_ifd(i,"1st"),513 in n["1st"]&&514 in n["1st"])){var a=n["1st"][513]+n["1st"][514],s=o.tiftag.slice(n["1st"][513],a);n.thumbnail=s}return n}};if(f.dump=function(e){var t,o,i,r,a,l=function(e){return JSON.parse(JSON.stringify(e))}(e),u=!1,d=!1,p=!1,h=!1;t="0th"in l?l["0th"]:{},"Exif"in l&&Object.keys(l.Exif).length||"Interop"in l&&Object.keys(l.Interop).length?(t[34665]=1,u=!0,o=l.Exif,"Interop"in l&&Object.keys(l.Interop).length?(o[40965]=1,p=!0,i=l.Interop):Object.keys(o).indexOf(f.ExifIFD.InteroperabilityTag.toString())>-1&&delete o[40965]):Object.keys(t).indexOf(f.ImageIFD.ExifTag.toString())>-1&&delete t[34665],"GPS"in l&&Object.keys(l.GPS).length?(t[f.ImageIFD.GPSTag]=1,d=!0,r=l.GPS):Object.keys(t).indexOf(f.ImageIFD.GPSTag.toString())>-1&&delete t[f.ImageIFD.GPSTag],"1st"in l&&"thumbnail"in l&&null!=l.thumbnail&&(h=!0,l["1st"][513]=1,l["1st"][514]=1,a=l["1st"]);var m,v,b,y=s(t,"0th",0),w=y[0].length+12*u+12*d+4+y[1].length,C="",x=0,S="",k=0,T="",_=0,E="";(u&&(x=(m=s(o,"Exif",w))[0].length+12*p+m[1].length),d&&(k=(S=s(r,"GPS",w+x).join("")).length),p)&&(_=(T=s(i,"Interop",w+x+k).join("")).length);if(h&&(v=s(a,"1st",w+x+k+_),(b=n(l.thumbnail)).length>64e3))throw"Given thumbnail is too large. max 64kB";var I="",A="",P="",D="\0\0\0\0";if(u){var N=c(">L",[L=8+w]);I=c(">H",[34665])+c(">H",[g.Long])+c(">L",[1])+N}if(d){N=c(">L",[L=8+w+x]);A=c(">H",[34853])+c(">H",[g.Long])+c(">L",[1])+N}if(p){N=c(">L",[L=8+w+x+k]);P=c(">H",[40965])+c(">H",[g.Long])+c(">L",[1])+N}if(h){var L;D=c(">L",[L=8+w+x+k+_]);var F="\0\0\0\0"+c(">L",[L+v[0].length+24+4+v[1].length]),R="\0\0\0\0"+c(">L",[b.length]);E=v[0]+F+R+"\0\0\0\0"+v[1]+b}var $=y[0]+I+A+D+y[1];return u&&(C=m[0]+P+m[1]),"Exif\0\0MM\0*\0\0\0\b"+$+C+S+T+E},l.prototype={get_ifd:function(e,t){var n,o={},i=u(this.endian_mark+"H",this.tiftag.slice(e,e+2))[0],r=e+2;n=["0th","1st"].indexOf(t)>-1?"Image":t;for(var a=0;i>a;a++){e=r+12*a;var s=u(this.endian_mark+"H",this.tiftag.slice(e,e+2))[0],l=[u(this.endian_mark+"H",this.tiftag.slice(e+2,e+4))[0],u(this.endian_mark+"L",this.tiftag.slice(e+4,e+8))[0],this.tiftag.slice(e+8,e+12)];s in v[n]&&(o[s]=this.convert_value(l))}return"0th"==t&&(e=r+12*i,o.first_ifd_pointer=this.tiftag.slice(e,e+4)),o},convert_value:function(e){var t,n=null,o=e[0],i=e[1],r=e[2];if(1==o)i>4?(t=u(this.endian_mark+"L",r)[0],n=u(this.endian_mark+d("B",i),this.tiftag.slice(t,t+i))):n=u(this.endian_mark+d("B",i),r.slice(0,i));else if(2==o)i>4?(t=u(this.endian_mark+"L",r)[0],n=this.tiftag.slice(t,t+i-1)):n=r.slice(0,i-1);else if(3==o)i>2?(t=u(this.endian_mark+"L",r)[0],n=u(this.endian_mark+d("H",i),this.tiftag.slice(t,t+2*i))):n=u(this.endian_mark+d("H",i),r.slice(0,2*i));else if(4==o)i>1?(t=u(this.endian_mark+"L",r)[0],n=u(this.endian_mark+d("L",i),this.tiftag.slice(t,t+4*i))):n=u(this.endian_mark+d("L",i),r);else if(5==o)if(t=u(this.endian_mark+"L",r)[0],i>1){n=[];for(var a=0;i>a;a++)n.push([u(this.endian_mark+"L",this.tiftag.slice(t+8*a,t+4+8*a))[0],u(this.endian_mark+"L",this.tiftag.slice(t+4+8*a,t+8+8*a))[0]])}else n=[u(this.endian_mark+"L",this.tiftag.slice(t,t+4))[0],u(this.endian_mark+"L",this.tiftag.slice(t+4,t+8))[0]];else if(7==o)i>4?(t=u(this.endian_mark+"L",r)[0],n=this.tiftag.slice(t,t+i)):n=r.slice(0,i);else{if(10!=o)throw"Exif might be wrong. Got incorrect value type to decode. type:"+o;if(t=u(this.endian_mark+"L",r)[0],i>1){n=[];for(a=0;i>a;a++)n.push([u(this.endian_mark+"l",this.tiftag.slice(t+8*a,t+4+8*a))[0],u(this.endian_mark+"l",this.tiftag.slice(t+4+8*a,t+8+8*a))[0]])}else n=[u(this.endian_mark+"l",this.tiftag.slice(t,t+4))[0],u(this.endian_mark+"l",this.tiftag.slice(t+4,t+8))[0]]}return n instanceof Array&&1==n.length?n[0]:n}},"undefined"!=typeof window&&"function"==typeof window.btoa)var h=window.btoa;if(void 0===h)h=function(e){for(var t,n,o,i,r,a,s,l="",c=0,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c<e.length;)i=(t=e.charCodeAt(c++))>>2,r=(3&t)<<4|(n=e.charCodeAt(c++))>>4,a=(15&n)<<2|(o=e.charCodeAt(c++))>>6,s=63&o,isNaN(n)?a=s=64:isNaN(o)&&(s=64),l=l+u.charAt(i)+u.charAt(r)+u.charAt(a)+u.charAt(s);return l};if("undefined"!=typeof window&&"function"==typeof window.atob)var m=window.atob;if(void 0===m)m=function(e){var t,n,o,i,r,a,s="",l=0,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=c.indexOf(e.charAt(l++))<<2|(i=c.indexOf(e.charAt(l++)))>>4,n=(15&i)<<4|(r=c.indexOf(e.charAt(l++)))>>2,o=(3&r)<<6|(a=c.indexOf(e.charAt(l++))),s+=String.fromCharCode(t),64!=r&&(s+=String.fromCharCode(n)),64!=a&&(s+=String.fromCharCode(o));return s};var g={Byte:1,Ascii:2,Short:3,Long:4,Rational:5,Undefined:7,SLong:9,SRational:10},v={Image:{11:{name:"ProcessingSoftware",type:"Ascii"},254:{name:"NewSubfileType",type:"Long"},255:{name:"SubfileType",type:"Short"},256:{name:"ImageWidth",type:"Long"},257:{name:"ImageLength",type:"Long"},258:{name:"BitsPerSample",type:"Short"},259:{name:"Compression",type:"Short"},262:{name:"PhotometricInterpretation",type:"Short"},263:{name:"Threshholding",type:"Short"},264:{name:"CellWidth",type:"Short"},265:{name:"CellLength",type:"Short"},266:{name:"FillOrder",type:"Short"},269:{name:"DocumentName",type:"Ascii"},270:{name:"ImageDescription",type:"Ascii"},271:{name:"Make",type:"Ascii"},272:{name:"Model",type:"Ascii"},273:{name:"StripOffsets",type:"Long"},274:{name:"Orientation",type:"Short"},277:{name:"SamplesPerPixel",type:"Short"},278:{name:"RowsPerStrip",type:"Long"},279:{name:"StripByteCounts",type:"Long"},282:{name:"XResolution",type:"Rational"},283:{name:"YResolution",type:"Rational"},284:{name:"PlanarConfiguration",type:"Short"},290:{name:"GrayResponseUnit",type:"Short"},291:{name:"GrayResponseCurve",type:"Short"},292:{name:"T4Options",type:"Long"},293:{name:"T6Options",type:"Long"},296:{name:"ResolutionUnit",type:"Short"},301:{name:"TransferFunction",type:"Short"},305:{name:"Software",type:"Ascii"},306:{name:"DateTime",type:"Ascii"},315:{name:"Artist",type:"Ascii"},316:{name:"HostComputer",type:"Ascii"},317:{name:"Predictor",type:"Short"},318:{name:"WhitePoint",type:"Rational"},319:{name:"PrimaryChromaticities",type:"Rational"},320:{name:"ColorMap",type:"Short"},321:{name:"HalftoneHints",type:"Short"},322:{name:"TileWidth",type:"Short"},323:{name:"TileLength",type:"Short"},324:{name:"TileOffsets",type:"Short"},325:{name:"TileByteCounts",type:"Short"},330:{name:"SubIFDs",type:"Long"},332:{name:"InkSet",type:"Short"},333:{name:"InkNames",type:"Ascii"},334:{name:"NumberOfInks",type:"Short"},336:{name:"DotRange",type:"Byte"},337:{name:"TargetPrinter",type:"Ascii"},338:{name:"ExtraSamples",type:"Short"},339:{name:"SampleFormat",type:"Short"},340:{name:"SMinSampleValue",type:"Short"},341:{name:"SMaxSampleValue",type:"Short"},342:{name:"TransferRange",type:"Short"},343:{name:"ClipPath",type:"Byte"},344:{name:"XClipPathUnits",type:"Long"},345:{name:"YClipPathUnits",type:"Long"},346:{name:"Indexed",type:"Short"},347:{name:"JPEGTables",type:"Undefined"},351:{name:"OPIProxy",type:"Short"},512:{name:"JPEGProc",type:"Long"},513:{name:"JPEGInterchangeFormat",type:"Long"},514:{name:"JPEGInterchangeFormatLength",type:"Long"},515:{name:"JPEGRestartInterval",type:"Short"},517:{name:"JPEGLosslessPredictors",type:"Short"},518:{name:"JPEGPointTransforms",type:"Short"},519:{name:"JPEGQTables",type:"Long"},520:{name:"JPEGDCTables",type:"Long"},521:{name:"JPEGACTables",type:"Long"},529:{name:"YCbCrCoefficients",type:"Rational"},530:{name:"YCbCrSubSampling",type:"Short"},531:{name:"YCbCrPositioning",type:"Short"},532:{name:"ReferenceBlackWhite",type:"Rational"},700:{name:"XMLPacket",type:"Byte"},18246:{name:"Rating",type:"Short"},18249:{name:"RatingPercent",type:"Short"},32781:{name:"ImageID",type:"Ascii"},33421:{name:"CFARepeatPatternDim",type:"Short"},33422:{name:"CFAPattern",type:"Byte"},33423:{name:"BatteryLevel",type:"Rational"},33432:{name:"Copyright",type:"Ascii"},33434:{name:"ExposureTime",type:"Rational"},34377:{name:"ImageResources",type:"Byte"},34665:{name:"ExifTag",type:"Long"},34675:{name:"InterColorProfile",type:"Undefined"},34853:{name:"GPSTag",type:"Long"},34857:{name:"Interlace",type:"Short"},34858:{name:"TimeZoneOffset",type:"Long"},34859:{name:"SelfTimerMode",type:"Short"},37387:{name:"FlashEnergy",type:"Rational"},37388:{name:"SpatialFrequencyResponse",type:"Undefined"},37389:{name:"Noise",type:"Undefined"},37390:{name:"FocalPlaneXResolution",type:"Rational"},37391:{name:"FocalPlaneYResolution",type:"Rational"},37392:{name:"FocalPlaneResolutionUnit",type:"Short"},37393:{name:"ImageNumber",type:"Long"},37394:{name:"SecurityClassification",type:"Ascii"},37395:{name:"ImageHistory",type:"Ascii"},37397:{name:"ExposureIndex",type:"Rational"},37398:{name:"TIFFEPStandardID",type:"Byte"},37399:{name:"SensingMethod",type:"Short"},40091:{name:"XPTitle",type:"Byte"},40092:{name:"XPComment",type:"Byte"},40093:{name:"XPAuthor",type:"Byte"},40094:{name:"XPKeywords",type:"Byte"},40095:{name:"XPSubject",type:"Byte"},50341:{name:"PrintImageMatching",type:"Undefined"},50706:{name:"DNGVersion",type:"Byte"},50707:{name:"DNGBackwardVersion",type:"Byte"},50708:{name:"UniqueCameraModel",type:"Ascii"},50709:{name:"LocalizedCameraModel",type:"Byte"},50710:{name:"CFAPlaneColor",type:"Byte"},50711:{name:"CFALayout",type:"Short"},50712:{name:"LinearizationTable",type:"Short"},50713:{name:"BlackLevelRepeatDim",type:"Short"},50714:{name:"BlackLevel",type:"Rational"},50715:{name:"BlackLevelDeltaH",type:"SRational"},50716:{name:"BlackLevelDeltaV",type:"SRational"},50717:{name:"WhiteLevel",type:"Short"},50718:{name:"DefaultScale",type:"Rational"},50719:{name:"DefaultCropOrigin",type:"Short"},50720:{name:"DefaultCropSize",type:"Short"},50721:{name:"ColorMatrix1",type:"SRational"},50722:{name:"ColorMatrix2",type:"SRational"},50723:{name:"CameraCalibration1",type:"SRational"},50724:{name:"CameraCalibration2",type:"SRational"},50725:{name:"ReductionMatrix1",type:"SRational"},50726:{name:"ReductionMatrix2",type:"SRational"},50727:{name:"AnalogBalance",type:"Rational"},50728:{name:"AsShotNeutral",type:"Short"},50729:{name:"AsShotWhiteXY",type:"Rational"},50730:{name:"BaselineExposure",type:"SRational"},50731:{name:"BaselineNoise",type:"Rational"},50732:{name:"BaselineSharpness",type:"Rational"},50733:{name:"BayerGreenSplit",type:"Long"},50734:{name:"LinearResponseLimit",type:"Rational"},50735:{name:"CameraSerialNumber",type:"Ascii"},50736:{name:"LensInfo",type:"Rational"},50737:{name:"ChromaBlurRadius",type:"Rational"},50738:{name:"AntiAliasStrength",type:"Rational"},50739:{name:"ShadowScale",type:"SRational"},50740:{name:"DNGPrivateData",type:"Byte"},50741:{name:"MakerNoteSafety",type:"Short"},50778:{name:"CalibrationIlluminant1",type:"Short"},50779:{name:"CalibrationIlluminant2",type:"Short"},50780:{name:"BestQualityScale",type:"Rational"},50781:{name:"RawDataUniqueID",type:"Byte"},50827:{name:"OriginalRawFileName",type:"Byte"},50828:{name:"OriginalRawFileData",type:"Undefined"},50829:{name:"ActiveArea",type:"Short"},50830:{name:"MaskedAreas",type:"Short"},50831:{name:"AsShotICCProfile",type:"Undefined"},50832:{name:"AsShotPreProfileMatrix",type:"SRational"},50833:{name:"CurrentICCProfile",type:"Undefined"},50834:{name:"CurrentPreProfileMatrix",type:"SRational"},50879:{name:"ColorimetricReference",type:"Short"},50931:{name:"CameraCalibrationSignature",type:"Byte"},50932:{name:"ProfileCalibrationSignature",type:"Byte"},50934:{name:"AsShotProfileName",type:"Byte"},50935:{name:"NoiseReductionApplied",type:"Rational"},50936:{name:"ProfileName",type:"Byte"},50937:{name:"ProfileHueSatMapDims",type:"Long"},50938:{name:"ProfileHueSatMapData1",type:"Float"},50939:{name:"ProfileHueSatMapData2",type:"Float"},50940:{name:"ProfileToneCurve",type:"Float"},50941:{name:"ProfileEmbedPolicy",type:"Long"},50942:{name:"ProfileCopyright",type:"Byte"},50964:{name:"ForwardMatrix1",type:"SRational"},50965:{name:"ForwardMatrix2",type:"SRational"},50966:{name:"PreviewApplicationName",type:"Byte"},50967:{name:"PreviewApplicationVersion",type:"Byte"},50968:{name:"PreviewSettingsName",type:"Byte"},50969:{name:"PreviewSettingsDigest",type:"Byte"},50970:{name:"PreviewColorSpace",type:"Long"},50971:{name:"PreviewDateTime",type:"Ascii"},50972:{name:"RawImageDigest",type:"Undefined"},50973:{name:"OriginalRawFileDigest",type:"Undefined"},50974:{name:"SubTileBlockSize",type:"Long"},50975:{name:"RowInterleaveFactor",type:"Long"},50981:{name:"ProfileLookTableDims",type:"Long"},50982:{name:"ProfileLookTableData",type:"Float"},51008:{name:"OpcodeList1",type:"Undefined"},51009:{name:"OpcodeList2",type:"Undefined"},51022:{name:"OpcodeList3",type:"Undefined"}},Exif:{33434:{name:"ExposureTime",type:"Rational"},33437:{name:"FNumber",type:"Rational"},34850:{name:"ExposureProgram",type:"Short"},34852:{name:"SpectralSensitivity",type:"Ascii"},34855:{name:"ISOSpeedRatings",type:"Short"},34856:{name:"OECF",type:"Undefined"},34864:{name:"SensitivityType",type:"Short"},34865:{name:"StandardOutputSensitivity",type:"Long"},34866:{name:"RecommendedExposureIndex",type:"Long"},34867:{name:"ISOSpeed",type:"Long"},34868:{name:"ISOSpeedLatitudeyyy",type:"Long"},34869:{name:"ISOSpeedLatitudezzz",type:"Long"},36864:{name:"ExifVersion",type:"Undefined"},36867:{name:"DateTimeOriginal",type:"Ascii"},36868:{name:"DateTimeDigitized",type:"Ascii"},37121:{name:"ComponentsConfiguration",type:"Undefined"},37122:{name:"CompressedBitsPerPixel",type:"Rational"},37377:{name:"ShutterSpeedValue",type:"SRational"},37378:{name:"ApertureValue",type:"Rational"},37379:{name:"BrightnessValue",type:"SRational"},37380:{name:"ExposureBiasValue",type:"SRational"},37381:{name:"MaxApertureValue",type:"Rational"},37382:{name:"SubjectDistance",type:"Rational"},37383:{name:"MeteringMode",type:"Short"},37384:{name:"LightSource",type:"Short"},37385:{name:"Flash",type:"Short"},37386:{name:"FocalLength",type:"Rational"},37396:{name:"SubjectArea",type:"Short"},37500:{name:"MakerNote",type:"Undefined"},37510:{name:"UserComment",type:"Ascii"},37520:{name:"SubSecTime",type:"Ascii"},37521:{name:"SubSecTimeOriginal",type:"Ascii"},37522:{name:"SubSecTimeDigitized",type:"Ascii"},40960:{name:"FlashpixVersion",type:"Undefined"},40961:{name:"ColorSpace",type:"Short"},40962:{name:"PixelXDimension",type:"Long"},40963:{name:"PixelYDimension",type:"Long"},40964:{name:"RelatedSoundFile",type:"Ascii"},40965:{name:"InteroperabilityTag",type:"Long"},41483:{name:"FlashEnergy",type:"Rational"},41484:{name:"SpatialFrequencyResponse",type:"Undefined"},41486:{name:"FocalPlaneXResolution",type:"Rational"},41487:{name:"FocalPlaneYResolution",type:"Rational"},41488:{name:"FocalPlaneResolutionUnit",type:"Short"},41492:{name:"SubjectLocation",type:"Short"},41493:{name:"ExposureIndex",type:"Rational"},41495:{name:"SensingMethod",type:"Short"},41728:{name:"FileSource",type:"Undefined"},41729:{name:"SceneType",type:"Undefined"},41730:{name:"CFAPattern",type:"Undefined"},41985:{name:"CustomRendered",type:"Short"},41986:{name:"ExposureMode",type:"Short"},41987:{name:"WhiteBalance",type:"Short"},41988:{name:"DigitalZoomRatio",type:"Rational"},41989:{name:"FocalLengthIn35mmFilm",type:"Short"},41990:{name:"SceneCaptureType",type:"Short"},41991:{name:"GainControl",type:"Short"},41992:{name:"Contrast",type:"Short"},41993:{name:"Saturation",type:"Short"},41994:{name:"Sharpness",type:"Short"},41995:{name:"DeviceSettingDescription",type:"Undefined"},41996:{name:"SubjectDistanceRange",type:"Short"},42016:{name:"ImageUniqueID",type:"Ascii"},42032:{name:"CameraOwnerName",type:"Ascii"},42033:{name:"BodySerialNumber",type:"Ascii"},42034:{name:"LensSpecification",type:"Rational"},42035:{name:"LensMake",type:"Ascii"},42036:{name:"LensModel",type:"Ascii"},42037:{name:"LensSerialNumber",type:"Ascii"},42240:{name:"Gamma",type:"Rational"}},GPS:{0:{name:"GPSVersionID",type:"Byte"},1:{name:"GPSLatitudeRef",type:"Ascii"},2:{name:"GPSLatitude",type:"Rational"},3:{name:"GPSLongitudeRef",type:"Ascii"},4:{name:"GPSLongitude",type:"Rational"},5:{name:"GPSAltitudeRef",type:"Byte"},6:{name:"GPSAltitude",type:"Rational"},7:{name:"GPSTimeStamp",type:"Rational"},8:{name:"GPSSatellites",type:"Ascii"},9:{name:"GPSStatus",type:"Ascii"},10:{name:"GPSMeasureMode",type:"Ascii"},11:{name:"GPSDOP",type:"Rational"},12:{name:"GPSSpeedRef",type:"Ascii"},13:{name:"GPSSpeed",type:"Rational"},14:{name:"GPSTrackRef",type:"Ascii"},15:{name:"GPSTrack",type:"Rational"},16:{name:"GPSImgDirectionRef",type:"Ascii"},17:{name:"GPSImgDirection",type:"Rational"},18:{name:"GPSMapDatum",type:"Ascii"},19:{name:"GPSDestLatitudeRef",type:"Ascii"},20:{name:"GPSDestLatitude",type:"Rational"},21:{name:"GPSDestLongitudeRef",type:"Ascii"},22:{name:"GPSDestLongitude",type:"Rational"},23:{name:"GPSDestBearingRef",type:"Ascii"},24:{name:"GPSDestBearing",type:"Rational"},25:{name:"GPSDestDistanceRef",type:"Ascii"},26:{name:"GPSDestDistance",type:"Rational"},27:{name:"GPSProcessingMethod",type:"Undefined"},28:{name:"GPSAreaInformation",type:"Undefined"},29:{name:"GPSDateStamp",type:"Ascii"},30:{name:"GPSDifferential",type:"Short"},31:{name:"GPSHPositioningError",type:"Rational"}},Interop:{1:{name:"InteroperabilityIndex",type:"Ascii"}}};v["0th"]=v.Image,v["1st"]=v.Image,f.TAGS=v,f.ImageIFD={ProcessingSoftware:11,NewSubfileType:254,SubfileType:255,ImageWidth:256,ImageLength:257,BitsPerSample:258,Compression:259,PhotometricInterpretation:262,Threshholding:263,CellWidth:264,CellLength:265,FillOrder:266,DocumentName:269,ImageDescription:270,Make:271,Model:272,StripOffsets:273,Orientation:274,SamplesPerPixel:277,RowsPerStrip:278,StripByteCounts:279,XResolution:282,YResolution:283,PlanarConfiguration:284,GrayResponseUnit:290,GrayResponseCurve:291,T4Options:292,T6Options:293,ResolutionUnit:296,TransferFunction:301,Software:305,DateTime:306,Artist:315,HostComputer:316,Predictor:317,WhitePoint:318,PrimaryChromaticities:319,ColorMap:320,HalftoneHints:321,TileWidth:322,TileLength:323,TileOffsets:324,TileByteCounts:325,SubIFDs:330,InkSet:332,InkNames:333,NumberOfInks:334,DotRange:336,TargetPrinter:337,ExtraSamples:338,SampleFormat:339,SMinSampleValue:340,SMaxSampleValue:341,TransferRange:342,ClipPath:343,XClipPathUnits:344,YClipPathUnits:345,Indexed:346,JPEGTables:347,OPIProxy:351,JPEGProc:512,JPEGInterchangeFormat:513,JPEGInterchangeFormatLength:514,JPEGRestartInterval:515,JPEGLosslessPredictors:517,JPEGPointTransforms:518,JPEGQTables:519,JPEGDCTables:520,JPEGACTables:521,YCbCrCoefficients:529,YCbCrSubSampling:530,YCbCrPositioning:531,ReferenceBlackWhite:532,XMLPacket:700,Rating:18246,RatingPercent:18249,ImageID:32781,CFARepeatPatternDim:33421,CFAPattern:33422,BatteryLevel:33423,Copyright:33432,ExposureTime:33434,ImageResources:34377,ExifTag:34665,InterColorProfile:34675,GPSTag:34853,Interlace:34857,TimeZoneOffset:34858,SelfTimerMode:34859,FlashEnergy:37387,SpatialFrequencyResponse:37388,Noise:37389,FocalPlaneXResolution:37390,FocalPlaneYResolution:37391,FocalPlaneResolutionUnit:37392,ImageNumber:37393,SecurityClassification:37394,ImageHistory:37395,ExposureIndex:37397,TIFFEPStandardID:37398,SensingMethod:37399,XPTitle:40091,XPComment:40092,XPAuthor:40093,XPKeywords:40094,XPSubject:40095,PrintImageMatching:50341,DNGVersion:50706,DNGBackwardVersion:50707,UniqueCameraModel:50708,LocalizedCameraModel:50709,CFAPlaneColor:50710,CFALayout:50711,LinearizationTable:50712,BlackLevelRepeatDim:50713,BlackLevel:50714,BlackLevelDeltaH:50715,BlackLevelDeltaV:50716,WhiteLevel:50717,DefaultScale:50718,DefaultCropOrigin:50719,DefaultCropSize:50720,ColorMatrix1:50721,ColorMatrix2:50722,CameraCalibration1:50723,CameraCalibration2:50724,ReductionMatrix1:50725,ReductionMatrix2:50726,AnalogBalance:50727,AsShotNeutral:50728,AsShotWhiteXY:50729,BaselineExposure:50730,BaselineNoise:50731,BaselineSharpness:50732,BayerGreenSplit:50733,LinearResponseLimit:50734,CameraSerialNumber:50735,LensInfo:50736,ChromaBlurRadius:50737,AntiAliasStrength:50738,ShadowScale:50739,DNGPrivateData:50740,MakerNoteSafety:50741,CalibrationIlluminant1:50778,CalibrationIlluminant2:50779,BestQualityScale:50780,RawDataUniqueID:50781,OriginalRawFileName:50827,OriginalRawFileData:50828,ActiveArea:50829,MaskedAreas:50830,AsShotICCProfile:50831,AsShotPreProfileMatrix:50832,CurrentICCProfile:50833,CurrentPreProfileMatrix:50834,ColorimetricReference:50879,CameraCalibrationSignature:50931,ProfileCalibrationSignature:50932,AsShotProfileName:50934,NoiseReductionApplied:50935,ProfileName:50936,ProfileHueSatMapDims:50937,ProfileHueSatMapData1:50938,ProfileHueSatMapData2:50939,ProfileToneCurve:50940,ProfileEmbedPolicy:50941,ProfileCopyright:50942,ForwardMatrix1:50964,ForwardMatrix2:50965,PreviewApplicationName:50966,PreviewApplicationVersion:50967,PreviewSettingsName:50968,PreviewSettingsDigest:50969,PreviewColorSpace:50970,PreviewDateTime:50971,RawImageDigest:50972,OriginalRawFileDigest:50973,SubTileBlockSize:50974,RowInterleaveFactor:50975,ProfileLookTableDims:50981,ProfileLookTableData:50982,OpcodeList1:51008,OpcodeList2:51009,OpcodeList3:51022,NoiseProfile:51041},f.ExifIFD={ExposureTime:33434,FNumber:33437,ExposureProgram:34850,SpectralSensitivity:34852,ISOSpeedRatings:34855,OECF:34856,SensitivityType:34864,StandardOutputSensitivity:34865,RecommendedExposureIndex:34866,ISOSpeed:34867,ISOSpeedLatitudeyyy:34868,ISOSpeedLatitudezzz:34869,ExifVersion:36864,DateTimeOriginal:36867,DateTimeDigitized:36868,ComponentsConfiguration:37121,CompressedBitsPerPixel:37122,ShutterSpeedValue:37377,ApertureValue:37378,BrightnessValue:37379,ExposureBiasValue:37380,MaxApertureValue:37381,SubjectDistance:37382,MeteringMode:37383,LightSource:37384,Flash:37385,FocalLength:37386,SubjectArea:37396,MakerNote:37500,UserComment:37510,SubSecTime:37520,SubSecTimeOriginal:37521,SubSecTimeDigitized:37522,FlashpixVersion:40960,ColorSpace:40961,PixelXDimension:40962,PixelYDimension:40963,RelatedSoundFile:40964,InteroperabilityTag:40965,FlashEnergy:41483,SpatialFrequencyResponse:41484,FocalPlaneXResolution:41486,FocalPlaneYResolution:41487,FocalPlaneResolutionUnit:41488,SubjectLocation:41492,ExposureIndex:41493,SensingMethod:41495,FileSource:41728,SceneType:41729,CFAPattern:41730,CustomRendered:41985,ExposureMode:41986,WhiteBalance:41987,DigitalZoomRatio:41988,FocalLengthIn35mmFilm:41989,SceneCaptureType:41990,GainControl:41991,Contrast:41992,Saturation:41993,Sharpness:41994,DeviceSettingDescription:41995,SubjectDistanceRange:41996,ImageUniqueID:42016,CameraOwnerName:42032,BodySerialNumber:42033,LensSpecification:42034,LensMake:42035,LensModel:42036,LensSerialNumber:42037,Gamma:42240},f.GPSIFD={GPSVersionID:0,GPSLatitudeRef:1,GPSLatitude:2,GPSLongitudeRef:3,GPSLongitude:4,GPSAltitudeRef:5,GPSAltitude:6,GPSTimeStamp:7,GPSSatellites:8,GPSStatus:9,GPSMeasureMode:10,GPSDOP:11,GPSSpeedRef:12,GPSSpeed:13,GPSTrackRef:14,GPSTrack:15,GPSImgDirectionRef:16,GPSImgDirection:17,GPSMapDatum:18,GPSDestLatitudeRef:19,GPSDestLatitude:20,GPSDestLongitudeRef:21,GPSDestLongitude:22,GPSDestBearingRef:23,GPSDestBearing:24,GPSDestDistanceRef:25,GPSDestDistance:26,GPSProcessingMethod:27,GPSAreaInformation:28,GPSDateStamp:29,GPSDifferential:30,GPSHPositioningError:31},f.InteropIFD={InteroperabilityIndex:1},f.GPSHelper={degToDmsRational:function(e){var t=e%1*60,n=t%1*60;return[[Math.floor(e),1],[Math.floor(t),1],[Math.round(100*n),100]]}},e.exports&&(t=e.exports=f),t.piexif=f}()},function(e,t,n){var o,i,r;!function(i){"use strict";void 0===(r="function"==typeof(o=function(){function e(t,n){if(!t||!t.nodeType||1!==t.nodeType)throw"KvSortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=n=m({},n),t[j]=this;var i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"kvsortable-ghost",chosenClass:"kvsortable-chosen",dragClass:"kvsortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"kvsortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==e.supportPointer};for(var r in i)!(r in n)&&(n[r]=i[r]);for(var a in ie(n),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!n.forceFallback&&Y,o(t,"mousedown",this._onTapStart),o(t,"touchstart",this._onTapStart),n.supportPointer&&o(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(o(t,"dragover",this),o(t,"dragenter",this)),ne.push(this._onDragOver),n.store&&this.sort(n.store.get(this))}function t(e,t){"clone"!==e.lastPullMode&&(t=!0),x&&x.state!==t&&(a(x,"display",t?"none":""),t||x.state&&(e.options.group.revertClone?(S.insertBefore(x,k),e._animate(y,x)):S.insertBefore(x,y)),x.state=t)}function n(e,t,n){if(e){n=n||W;do{if(">*"===t&&e.parentNode===n||f(e,t))return e}while(e=function(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}(e))}return null}function o(e,t,n){e.addEventListener(t,n,Z)}function i(e,t,n){e.removeEventListener(t,n,Z)}function r(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(H," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(H," ")}}function a(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return W.defaultView&&W.defaultView.getComputedStyle?n=W.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function s(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function l(e,t,n,o,i,r,a,s){e=e||t[j];var l=W.createEvent("Event"),c=e.options,u="on"+n.charAt(0).toUpperCase()+n.substr(1);l.initEvent(n,!0,!0),l.to=i||t,l.from=r||t,l.item=o||t,l.clone=x,l.oldIndex=a,l.newIndex=s,t.dispatchEvent(l),c[u]&&c[u].call(e,l)}function c(e,t,n,o,i,r,a,s){var l,c,u=e[j],d=u.options.onMove;return(l=W.createEvent("Event")).initEvent("move",!0,!0),l.to=t,l.from=e,l.dragged=n,l.draggedRect=o,l.related=i||t,l.relatedRect=r||t.getBoundingClientRect(),l.willInsertAfter=s,e.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function u(e){e.draggable=!1}function d(){Q=!1}function p(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!f(e,t)||n++;return n}function f(e,t){if(e){var n=(t=t.split(".")).shift().toUpperCase(),o=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(o)||[]).length!=t.length)}return!1}function h(e,t){var n,o;return function(){void 0===n&&(n=arguments,o=this,V(function(){1===n.length?e.call(o,n[0]):e.apply(o,n),n=void 0},t))}}function m(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function g(e){return K&&K.dom?K.dom(e).cloneNode(!0):G?G(e).clone(!0)[0]:e.cloneNode(!0)}function v(e){return V(e,0)}function b(e){return clearTimeout(e)}if("undefined"==typeof window||!window.document)return function(){throw new Error("KvSortable.js requires a window with a document")};var y,w,C,x,S,k,T,_,E,I,A,P,D,N,L,F,R,$,M,O,B={},H=/\s+/g,z=/left|right|inline/,j="KvSortable"+(new Date).getTime(),U=window,W=U.document,q=U.parseInt,V=U.setTimeout,G=U.jQuery||U.Zepto,K=U.Polymer,Z=!1,Y="draggable"in W.createElement("div"),X=function(e){return!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((e=W.createElement("x")).style.cssText="pointer-events:auto","auto"===e.style.pointerEvents)}(),Q=!1,J=Math.abs,ee=Math.min,te=[],ne=[],oe=h(function(e,t,n){if(n&&t.scroll){var o,i,r,a,s,l,c=n[j],u=t.scrollSensitivity,d=t.scrollSpeed,p=e.clientX,f=e.clientY,h=window.innerWidth,m=window.innerHeight;if(E!==n&&(_=t.scroll,E=n,I=t.scrollFn,!0===_)){_=n;do{if(_.offsetWidth<_.scrollWidth||_.offsetHeight<_.scrollHeight)break}while(_=_.parentNode)}_&&(o=_,i=_.getBoundingClientRect(),r=(J(i.right-p)<=u)-(J(i.left-p)<=u),a=(J(i.bottom-f)<=u)-(J(i.top-f)<=u)),r||a||(a=(m-f<=u)-(f<=u),((r=(h-p<=u)-(p<=u))||a)&&(o=U)),B.vx===r&&B.vy===a&&B.el===o||(B.el=o,B.vx=r,B.vy=a,clearInterval(B.pid),o&&(B.pid=setInterval(function(){if(l=a?a*d:0,s=r?r*d:0,"function"==typeof I)return I.call(c,s,l,e);o===U?U.scrollTo(U.pageXOffset+s,U.pageYOffset+l):(o.scrollTop+=l,o.scrollLeft+=s)},24)))}},30),ie=function(e){function t(e,t){return void 0!==e&&!0!==e||(e=n.name),"function"==typeof e?e:function(n,o){var i=o.options.group.name;return t?e:e&&(e.join?e.indexOf(i)>-1:i==e)}}var n={},o=e.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){Z={capture:!1,passive:!1}}}))}catch(e){}return e.prototype={constructor:e,_onTapStart:function(e){var t,o=this,i=this.el,r=this.options,a=r.preventOnFilter,s=e.type,c=e.touches&&e.touches[0],u=(c||e).target,d=e.target.shadowRoot&&e.path&&e.path[0]||u,f=r.filter;if(function(e){for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&te.push(o)}}(i),!y&&!(/mousedown|pointerdown/.test(s)&&0!==e.button||r.disabled)&&!d.isContentEditable&&(u=n(u,r.draggable,i))&&T!==u){if(t=p(u,r.draggable),"function"==typeof f){if(f.call(this,e,u,this))return l(o,d,"filter",u,i,i,t),void(a&&e.preventDefault())}else if(f&&(f=f.split(",").some(function(e){if(e=n(d,e.trim(),i))return l(o,e,"filter",u,i,i,t),!0})))return void(a&&e.preventDefault());r.handle&&!n(d,r.handle,i)||this._prepareDragStart(e,c,u,t)}},_prepareDragStart:function(e,t,n,i){var a,c=this,d=c.el,p=c.options,f=d.ownerDocument;n&&!y&&n.parentNode===d&&($=e,S=d,w=(y=n).parentNode,k=y.nextSibling,T=n,F=p.group,N=i,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,y.style["will-change"]="all",a=function(){c._disableDelayedDrag(),y.draggable=c.nativeDraggable,r(y,p.chosenClass,!0),c._triggerDragStart(e,t),l(c,S,"choose",y,S,S,N)},p.ignore.split(",").forEach(function(e){s(y,e.trim(),u)}),o(f,"mouseup",c._onDrop),o(f,"touchend",c._onDrop),o(f,"touchcancel",c._onDrop),o(f,"selectstart",c),p.supportPointer&&o(f,"pointercancel",c._onDrop),p.delay?(o(f,"mouseup",c._disableDelayedDrag),o(f,"touchend",c._disableDelayedDrag),o(f,"touchcancel",c._disableDelayedDrag),o(f,"mousemove",c._disableDelayedDrag),o(f,"touchmove",c._disableDelayedDrag),p.supportPointer&&o(f,"pointermove",c._disableDelayedDrag),c._dragStartTimer=V(a,p.delay)):a())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),i(e,"mouseup",this._disableDelayedDrag),i(e,"touchend",this._disableDelayedDrag),i(e,"touchcancel",this._disableDelayedDrag),i(e,"mousemove",this._disableDelayedDrag),i(e,"touchmove",this._disableDelayedDrag),i(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,t){(t=t||("touch"==e.pointerType?e:null))?($={target:y,clientX:t.clientX,clientY:t.clientY},this._onDragStart($,"touch")):this.nativeDraggable?(o(y,"dragend",this),o(S,"dragstart",this._onDragStart)):this._onDragStart($,!0);try{W.selection?v(function(){W.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(S&&y){var t=this.options;r(y,t.ghostClass,!0),r(y,t.dragClass,!1),e.active=this,l(this,S,"start",y,S,S,N)}else this._nulling()},_emulateDragOver:function(){if(M){if(this._lastX===M.clientX&&this._lastY===M.clientY)return;this._lastX=M.clientX,this._lastY=M.clientY,X||a(C,"display","none");var e=W.elementFromPoint(M.clientX,M.clientY),t=e,n=ne.length;if(e&&e.shadowRoot&&(t=e=e.shadowRoot.elementFromPoint(M.clientX,M.clientY)),t)do{if(t[j]){for(;n--;)ne[n]({clientX:M.clientX,clientY:M.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);X||a(C,"display","")}},_onTouchMove:function(t){if($){var n=this.options,o=n.fallbackTolerance,i=n.fallbackOffset,r=t.touches?t.touches[0]:t,s=r.clientX-$.clientX+i.x,l=r.clientY-$.clientY+i.y,c=t.touches?"translate3d("+s+"px,"+l+"px,0)":"translate("+s+"px,"+l+"px)";if(!e.active){if(o&&ee(J(r.clientX-this._lastX),J(r.clientY-this._lastY))<o)return;this._dragStarted()}this._appendGhost(),O=!0,M=r,a(C,"webkitTransform",c),a(C,"mozTransform",c),a(C,"msTransform",c),a(C,"transform",c),t.preventDefault()}},_appendGhost:function(){if(!C){var e,t=y.getBoundingClientRect(),n=a(y),o=this.options;r(C=y.cloneNode(!0),o.ghostClass,!1),r(C,o.fallbackClass,!0),r(C,o.dragClass,!0),a(C,"top",t.top-q(n.marginTop,10)),a(C,"left",t.left-q(n.marginLeft,10)),a(C,"width",t.width),a(C,"height",t.height),a(C,"opacity","0.8"),a(C,"position","fixed"),a(C,"zIndex","100000"),a(C,"pointerEvents","none"),o.fallbackOnBody&&W.body.appendChild(C)||S.appendChild(C),e=C.getBoundingClientRect(),a(C,"width",2*t.width-e.width),a(C,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,s=n.options;n._offUpEvents(),F.checkPull(n,n,y,e)&&((x=g(y)).draggable=!1,x.style["will-change"]="",a(x,"display","none"),r(x,n.options.chosenClass,!1),n._cloneId=v(function(){S.insertBefore(x,y),l(n,S,"clone",y)})),r(y,s.dragClass,!0),t?("touch"===t?(o(W,"touchmove",n._onTouchMove),o(W,"touchend",n._onDrop),o(W,"touchcancel",n._onDrop),s.supportPointer&&(o(W,"pointermove",n._onTouchMove),o(W,"pointerup",n._onDrop))):(o(W,"mousemove",n._onTouchMove),o(W,"mouseup",n._onDrop)),n._loopId=setInterval(n._emulateDragOver,50)):(i&&(i.effectAllowed="move",s.setData&&s.setData.call(n,i,y)),o(W,"drop",n),n._dragStartId=v(n._dragStarted))},_onDragOver:function(o){var i,r,s,l,u=this.el,p=this.options,f=p.group,h=e.active,m=F===f,g=!1,v=p.sort;if(void 0!==o.preventDefault&&(o.preventDefault(),!p.dragoverBubble&&o.stopPropagation()),!y.animated&&(O=!0,h&&!p.disabled&&(m?v||(l=!S.contains(y)):R===this||(h.lastPullMode=F.checkPull(this,h,y,o))&&f.checkPut(this,h,y,o))&&(void 0===o.rootEl||o.rootEl===this.el))){if(oe(o,p,this.el),Q)return;if(i=n(o.target,p.draggable,u),r=y.getBoundingClientRect(),R!==this&&(R=this,g=!0),l)return t(h,!0),w=S,void(x||k?S.insertBefore(y,x||k):v||S.appendChild(y));if(0===u.children.length||u.children[0]===C||u===o.target&&function(e,t){var n=e.lastElementChild.getBoundingClientRect();return t.clientY-(n.top+n.height)>5||t.clientX-(n.left+n.width)>5}(u,o)){if(0!==u.children.length&&u.children[0]!==C&&u===o.target&&(i=u.lastElementChild),i){if(i.animated)return;s=i.getBoundingClientRect()}t(h,m),!1!==c(S,u,y,r,i,s,o)&&(y.contains(u)||(u.appendChild(y),w=u),this._animate(r,y),i&&this._animate(s,i))}else if(i&&!i.animated&&i!==y&&void 0!==i.parentNode[j]){A!==i&&(A=i,P=a(i),D=a(i.parentNode));var b=(s=i.getBoundingClientRect()).right-s.left,T=s.bottom-s.top,_=z.test(P.cssFloat+P.display)||"flex"==D.display&&0===D["flex-direction"].indexOf("row"),E=i.offsetWidth>y.offsetWidth,I=i.offsetHeight>y.offsetHeight,N=(_?(o.clientX-s.left)/b:(o.clientY-s.top)/T)>.5,L=i.nextElementSibling,$=!1;if(_){var M=y.offsetTop,B=i.offsetTop;$=M===B?i.previousElementSibling===y&&!E||N&&E:i.previousElementSibling===y||y.previousElementSibling===i?(o.clientY-s.top)/T>.5:B>M}else g||($=L!==y&&!I||N&&I);var H=c(S,u,y,r,i,s,o,$);!1!==H&&(1!==H&&-1!==H||($=1===H),Q=!0,V(d,30),t(h,m),y.contains(u)||($&&!L?u.appendChild(y):i.parentNode.insertBefore(y,$?L:i)),w=y.parentNode,this._animate(r,y),this._animate(s,i))}}},_animate:function(e,t){var n=this.options.animation;if(n){var o=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),a(t,"transition","none"),a(t,"transform","translate3d("+(e.left-o.left)+"px,"+(e.top-o.top)+"px,0)"),t.offsetWidth,a(t,"transition","all "+n+"ms"),a(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=V(function(){a(t,"transition",""),a(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;i(W,"touchmove",this._onTouchMove),i(W,"pointermove",this._onTouchMove),i(e,"mouseup",this._onDrop),i(e,"touchend",this._onDrop),i(e,"pointerup",this._onDrop),i(e,"touchcancel",this._onDrop),i(e,"pointercancel",this._onDrop),i(e,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;clearInterval(this._loopId),clearInterval(B.pid),clearTimeout(this._dragStartTimer),b(this._cloneId),b(this._dragStartId),i(W,"mouseover",this),i(W,"mousemove",this._onTouchMove),this.nativeDraggable&&(i(W,"drop",this),i(n,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(O&&(t.preventDefault(),!o.dropBubble&&t.stopPropagation()),C&&C.parentNode&&C.parentNode.removeChild(C),S!==w&&"clone"===e.active.lastPullMode||x&&x.parentNode&&x.parentNode.removeChild(x),y&&(this.nativeDraggable&&i(y,"dragend",this),u(y),y.style["will-change"]="",r(y,this.options.ghostClass,!1),r(y,this.options.chosenClass,!1),l(this,S,"unchoose",y,w,S,N),S!==w?(L=p(y,o.draggable))>=0&&(l(null,w,"add",y,w,S,N,L),l(this,S,"remove",y,w,S,N,L),l(null,w,"sort",y,w,S,N,L),l(this,S,"sort",y,w,S,N,L)):y.nextSibling!==k&&(L=p(y,o.draggable))>=0&&(l(this,S,"update",y,w,S,N,L),l(this,S,"sort",y,w,S,N,L)),e.active&&(null!=L&&-1!==L||(L=N),l(this,S,"end",y,w,S,N,L),this.save()))),this._nulling()},_nulling:function(){S=y=w=C=k=x=T=_=E=$=M=O=L=A=P=R=F=e.active=null,te.forEach(function(e){e.checked=!0}),te.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":y&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}(e));break;case"mouseover":this._onDrop(e);break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],o=this.el.children,i=0,r=o.length,a=this.options;i<r;i++)n(e=o[i],a.draggable,this.el)&&t.push(e.getAttribute(a.dataIdAttr)||function(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}(e));return t},sort:function(e){var t={},o=this.el;this.toArray().forEach(function(e,i){var r=o.children[i];n(r,this.options.draggable,o)&&(t[e]=r)},this),e.forEach(function(e){t[e]&&(o.removeChild(t[e]),o.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return n(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&ie(n)},destroy:function(){var e=this.el;e[j]=null,i(e,"mousedown",this._onTapStart),i(e,"touchstart",this._onTapStart),i(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(i(e,"dragover",this),i(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),ne.splice(ne.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},o(W,"touchmove",function(t){e.active&&t.preventDefault()}),e.utils={on:o,off:i,css:a,find:s,is:function(e,t){return!!n(e,t,e)},extend:m,throttle:h,closest:n,toggleClass:r,clone:g,index:p,nextTick:v,cancelNextTick:b},e.create=function(t,n){return new e(t,n)},e.version="1.7.0",e})?o.call(t,n,t,e):o)||(e.exports=r)}(),function(a){"use strict";i=[n(0)],void 0===(r="function"==typeof(o=function(e){e.fn.kvsortable=function(t){var n,o=arguments;return this.each(function(){var i=e(this),r=i.data("kvsortable");r||!(t instanceof Object)&&t||(r=new KvSortable(this,t),i.data("kvsortable",r)),r&&("widget"===t?n=r:"destroy"===t?(r.destroy(),i.removeData("kvsortable")):"function"==typeof r[t]?n=r[t].apply(r,[].slice.call(o,1)):t in r.options&&(n=r.option.apply(r,o)))}),void 0===n?this:n}})?o.apply(t,i):o)||(e.exports=r)}()},function(e,t,n){e.exports=function(){"use strict";function e(e,t){for(var n=t.length;n--;)"string"==typeof t[n]&&(t[n]=t[n].toLowerCase()),e[t[n]]=!0;return e}function t(e){var t={},n=void 0;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],i=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],r=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"],a=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],s=["#text"],l=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],c=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],u=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],d=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"],p=/\{\{[\s\S]*|[\s\S]*\}\}/gm,f=/<%[\s\S]*|[\s\S]*%>/gm,h=/^data-[\-\w.\u00B7-\uFFFF]/,m=/^aria-[\-\w]+$/,g=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,v=/^(?:\w+script|data):/i,b=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(){return"undefined"==typeof window?null:window};return function C(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w(),S=function(e){return C(e)};if(S.version="1.0.7",S.removed=[],!x||!x.document||9!==x.document.nodeType)return S.isSupported=!1,S;var k=x.document,T=!1,_=!1,E=x.document,I=x.DocumentFragment,A=x.HTMLTemplateElement,P=x.Node,D=x.NodeFilter,N=x.NamedNodeMap,L=void 0===N?x.NamedNodeMap||x.MozNamedAttrMap:N,F=x.Text,R=x.Comment,$=x.DOMParser;if("function"==typeof A){var M=E.createElement("template");M.content&&M.content.ownerDocument&&(E=M.content.ownerDocument)}var O=E,B=O.implementation,H=O.createNodeIterator,z=O.getElementsByTagName,j=O.createDocumentFragment,U=k.importNode,W={};S.isSupported=B&&void 0!==B.createHTMLDocument&&9!==E.documentMode;var q=p,V=f,G=h,K=m,Z=v,Y=b,X=g,Q=null,J=e({},[].concat(n(o),n(i),n(r),n(a),n(s))),ee=null,te=e({},[].concat(n(l),n(c),n(u),n(d))),ne=null,oe=null,ie=!0,re=!0,ae=!1,se=!1,le=!1,ce=!1,ue=!1,de=!1,pe=!1,fe=!1,he=!1,me=!0,ge=!0,ve=!1,be={},ye=e({},["audio","head","math","script","style","template","svg","video"]),we=e({},["audio","video","img","source","image"]),Ce=e({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),xe=null,Se=E.createElement("form"),ke=function(p){"object"!==(void 0===p?"undefined":y(p))&&(p={}),Q="ALLOWED_TAGS"in p?e({},p.ALLOWED_TAGS):J,ee="ALLOWED_ATTR"in p?e({},p.ALLOWED_ATTR):te,ne="FORBID_TAGS"in p?e({},p.FORBID_TAGS):{},oe="FORBID_ATTR"in p?e({},p.FORBID_ATTR):{},be="USE_PROFILES"in p&&p.USE_PROFILES,ie=!1!==p.ALLOW_ARIA_ATTR,re=!1!==p.ALLOW_DATA_ATTR,ae=p.ALLOW_UNKNOWN_PROTOCOLS||!1,se=p.SAFE_FOR_JQUERY||!1,le=p.SAFE_FOR_TEMPLATES||!1,ce=p.WHOLE_DOCUMENT||!1,pe=p.RETURN_DOM||!1,fe=p.RETURN_DOM_FRAGMENT||!1,he=p.RETURN_DOM_IMPORT||!1,de=p.FORCE_BODY||!1,me=!1!==p.SANITIZE_DOM,ge=!1!==p.KEEP_CONTENT,ve=p.IN_PLACE||!1,X=p.ALLOWED_URI_REGEXP||X,le&&(re=!1),fe&&(pe=!0),be&&(Q=e({},[].concat(n(s))),ee=[],!0===be.html&&(e(Q,o),e(ee,l)),!0===be.svg&&(e(Q,i),e(ee,c),e(ee,d)),!0===be.svgFilters&&(e(Q,r),e(ee,c),e(ee,d)),!0===be.mathMl&&(e(Q,a),e(ee,u),e(ee,d))),p.ADD_TAGS&&(Q===J&&(Q=t(Q)),e(Q,p.ADD_TAGS)),p.ADD_ATTR&&(ee===te&&(ee=t(ee)),e(ee,p.ADD_ATTR)),p.ADD_URI_SAFE_ATTR&&e(Ce,p.ADD_URI_SAFE_ATTR),ge&&(Q["#text"]=!0),ce&&e(Q,["html","head","body"]),Q.table&&e(Q,["tbody"]),Object&&"freeze"in Object&&Object.freeze(p),xe=p},Te=function(e){S.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},_e=function(e,t){try{S.removed.push({attribute:t.getAttributeNode(e),from:t})}catch(e){S.removed.push({attribute:null,from:t})}t.removeAttribute(e)},Ee=function(t){var n=void 0;if(de&&(t="<remove></remove>"+t),T)try{n=(new $).parseFromString(t,"text/html")}catch(e){}if(_&&e(ne,["title"]),!n||!n.documentElement){var o=(n=B.createHTMLDocument("")).body;o.parentNode.removeChild(o.parentNode.firstElementChild),o.outerHTML=t}return z.call(n,ce?"html":"body")[0]};S.isSupported&&(function(){try{Ee('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">').querySelector("svg img")&&(T=!0)}catch(e){}}(),function(){try{Ee("<x/><title>&lt;/title&gt;&lt;img&gt;").querySelector("title").textContent.match(/<\/title/)&&(_=!0)}catch(e){}}());var Ie=function(e){return H.call(e.ownerDocument||e,e,D.SHOW_ELEMENT|D.SHOW_COMMENT|D.SHOW_TEXT,function(){return D.FILTER_ACCEPT},!1)},Ae=function(e){return"object"===(void 0===P?"undefined":y(P))?e instanceof P:e&&"object"===(void 0===e?"undefined":y(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Pe=function(e,t,n){W[e]&&W[e].forEach(function(e){e.call(S,t,n,xe)})},De=function(e){var t=void 0;if(Pe("beforeSanitizeElements",e,null),function(e){return!(e instanceof F||e instanceof R||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof L&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute)}(e))return Te(e),!0;var n=e.nodeName.toLowerCase();if(Pe("uponSanitizeElement",e,{tagName:n,allowedTags:Q}),!Q[n]||ne[n]){if(ge&&!ye[n]&&"function"==typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}return Te(e),!0}return!se||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(S.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),le&&3===e.nodeType&&(t=(t=(t=e.textContent).replace(q," ")).replace(V," "),e.textContent!==t&&(S.removed.push({element:e.cloneNode()}),e.textContent=t)),Pe("afterSanitizeElements",e,null),!1},Ne=function(e,t,n){if(me&&("id"===t||"name"===t)&&(n in E||n in Se))return!1;if(le&&(n=(n=n.replace(q," ")).replace(V," ")),re&&G.test(t));else if(ie&&K.test(t));else{if(!ee[t]||oe[t])return!1;if(Ce[t]);else if(X.test(n.replace(Y,"")));else if("src"!==t&&"xlink:href"!==t||0!==n.indexOf("data:")||!we[e])if(ae&&!Z.test(n.replace(Y,"")));else if(n)return!1}return!0},Le=function(e){var t=void 0,n=void 0,o=void 0,i=void 0,r=void 0;Pe("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ee};for(r=a.length;r--;){var l=(t=a[r]).name;if(n=t.value.trim(),o=l.toLowerCase(),s.attrName=o,s.attrValue=n,s.keepAttr=!0,Pe("uponSanitizeAttribute",e,s),n=s.attrValue,"name"===o&&"IMG"===e.nodeName&&a.id)i=a.id,a=Array.prototype.slice.apply(a),_e("id",e),_e(l,e),a.indexOf(i)>r&&e.setAttribute("id",i.value);else{if("INPUT"===e.nodeName&&"type"===o&&"file"===n&&(ee[o]||!oe[o]))continue;"id"===l&&e.setAttribute(l,""),_e(l,e)}if(s.keepAttr){var c=e.nodeName.toLowerCase();if(Ne(c,o,n))try{e.setAttribute(l,n),S.removed.pop()}catch(e){}}}Pe("afterSanitizeAttributes",e,null)}},Fe=function e(t){var n=void 0,o=Ie(t);for(Pe("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)Pe("uponSanitizeShadowNode",n,null),De(n)||(n.content instanceof I&&e(n.content),Le(n));Pe("afterSanitizeShadowDOM",t,null)};return S.sanitize=function(e,t){var n=void 0,o=void 0,i=void 0,r=void 0,a=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Ae(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!S.isSupported){if("object"===y(x.toStaticHTML)||"function"==typeof x.toStaticHTML){if("string"==typeof e)return x.toStaticHTML(e);if(Ae(e))return x.toStaticHTML(e.outerHTML)}return e}if(ue||ke(t),S.removed=[],ve);else if(e instanceof P)1===(o=(n=Ee("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===o.nodeName?n=o:n.appendChild(o);else{if(!pe&&!ce&&-1===e.indexOf("<"))return e;if(!(n=Ee(e)))return pe?null:""}n&&de&&Te(n.firstChild);for(var s=Ie(ve?e:n);i=s.nextNode();)3===i.nodeType&&i===r||De(i)||(i.content instanceof I&&Fe(i.content),Le(i),r=i);if(ve)return e;if(pe){if(fe)for(a=j.call(n.ownerDocument);n.firstChild;)a.appendChild(n.firstChild);else a=n;return he&&(a=U.call(k,a,!0)),a}return ce?n.outerHTML:n.innerHTML},S.setConfig=function(e){ke(e),ue=!0},S.clearConfig=function(){xe=null,ue=!1},S.isValidAttribute=function(e,t,n){xe||ke({});var o=e.toLowerCase(),i=t.toLowerCase();return Ne(o,i,n)},S.addHook=function(e,t){"function"==typeof t&&(W[e]=W[e]||[],W[e].push(t))},S.removeHook=function(e){W[e]&&W[e].pop()},S.removeHooks=function(e){W[e]&&(W[e]=[])},S.removeAllHooks=function(){W={}},S}()}()},function(e,t,n){var o,i,r;
/*!
 * bootstrap-fileinput v5.0.4
 * http://plugins.krajee.com/file-input
 *
 * Author: Kartik Visweswaran
 * Copyright: 2014 - 2019, Kartik Visweswaran, Krajee.com
 *
 * Licensed under the BSD-3-Clause
 * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md
 */!function(a){"use strict";i=[n(0)],void 0===(r="function"==typeof(o=function(e){var t,n;e.fn.fileinputLocales={},e.fn.fileinputThemes={},String.prototype.setTokens=function(e){var t,n,o=this.toString();for(t in e)e.hasOwnProperty(t)&&(n=new RegExp("{"+t+"}","g"),o=o.replace(n,e[t]));return o},t={FRAMES:".kv-preview-thumb",SORT_CSS:"file-sortable",OBJECT_PARAMS:'<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n',DEFAULT_PREVIEW:'<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',MODAL_ID:"kvFileinputModal",MODAL_EVENTS:["show","shown","hide","hidden","loaded"],logMessages:{ajaxError:"{status}: {error}. Error Details: {text}.",badDroppedFiles:"Error scanning dropped files!",badExifParser:"Error loading the piexif.js library. {details}",badInputType:'The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.',exifWarning:'To avoid this warning, either set "autoOrientImage" to "false" OR ensure you have loaded the "piexif.js" library correctly on your page before the "fileinput.js" script.',invalidChunkSize:'Invalid upload chunk size: "{chunkSize}". Resumable uploads are disabled.',invalidThumb:'Invalid thumb frame with id: "{id}".',noResumableSupport:"The browser does not support resumable or chunk uploads.",noUploadUrl:'The "uploadUrl" is not set. Ajax uploads and resumable uploads have been disabled.',retryStatus:"Retrying upload for chunk # {chunk} for {filename}... retry # {retry}."},objUrl:window.URL||window.webkitURL,now:function(){return new Date},round:function(e){return e=parseFloat(e),isNaN(e)?0:Math.floor(Math.round(e))},getFileRelativePath:function(e){return String(e.relativePath||e.webkitRelativePath||t.getFileName(e)||null)},getFileId:function(e,n){var o=t.getFileRelativePath(e);return"function"==typeof n?n(e):e&&o?e.size+"_"+o.replace(/\s/gim,"_"):null},getElapsed:function(t){var n=t,o="",i={},r={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};return Object.keys(r).forEach(function(e){i[e]=Math.floor(n/r[e]),n-=i[e]*r[e]}),e.each(i,function(e,t){t>0&&(o+=(o?" ":"")+t+e.substring(0,1))}),o},debounce:function(e,t){var n;return function(){var o=arguments,i=this;clearTimeout(n),n=setTimeout(function(){e.apply(i,o)},t)}},stopEvent:function(e){e.stopPropagation(),e.preventDefault()},getFileName:function(e){return e&&(e.fileName||e.name)||""},createObjectURL:function(e){return t.objUrl&&t.objUrl.createObjectURL&&e?t.objUrl.createObjectURL(e):""},revokeObjectURL:function(e){t.objUrl&&t.objUrl.revokeObjectURL&&e&&t.objUrl.revokeObjectURL(e)},compare:function(e,t,n){return void 0!==e&&(n?e===t:e.match(t))},isIE:function(e){var t,n;return"Microsoft Internet Explorer"===navigator.appName&&(10===e?new RegExp("msie\\s"+e,"i").test(navigator.userAgent):((t=document.createElement("div")).innerHTML="\x3c!--[if IE "+e+"]> <i></i> <![endif]--\x3e",n=t.getElementsByTagName("i").length,document.body.appendChild(t),t.parentNode.removeChild(t),n))},canAssignFilesToInput:function(){var e=document.createElement("input");try{return e.type="file",e.files=null,!0}catch(e){return!1}},getDragDropFolders:function(e){var t,n,o=e?e.length:0,i=0;if(o>0&&e[0].webkitGetAsEntry())for(t=0;o>t;t++)(n=e[t].webkitGetAsEntry())&&n.isDirectory&&i++;return i},initModal:function(t){var n=e("body");n.length&&t.appendTo(n)},isEmpty:function(t,n){return null==t||0===t.length||n&&""===e.trim(t)},isArray:function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)},ifSet:function(e,t,n){return n=n||"",t&&"object"==typeof t&&e in t?t[e]:n},cleanArray:function(e){return e instanceof Array||(e=[]),e.filter(function(e){return null!=e})},spliceArray:function(t,n,o){var i,r,a=0,s=[];if(!(t instanceof Array))return[];for(r=e.extend(!0,[],t),o&&r.reverse(),i=0;i<r.length;i++)i!==n&&(s[a]=r[i],a++);return o&&s.reverse(),s},getNum:function(e,t){return t=t||0,"number"==typeof e?e:("string"==typeof e&&(e=parseFloat(e)),isNaN(e)?t:e)},hasFileAPISupport:function(){return!(!window.File||!window.FileReader)},hasDragDropSupport:function(){var e=document.createElement("div");return!t.isIE(9)&&(void 0!==e.draggable||void 0!==e.ondragstart&&void 0!==e.ondrop)},hasFileUploadSupport:function(){return t.hasFileAPISupport()&&window.FormData},hasBlobSupport:function(){try{return!!window.Blob&&Boolean(new Blob)}catch(e){return!1}},hasArrayBufferViewSupport:function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}},hasResumableUploadSupport:function(){return t.hasFileUploadSupport()&&t.hasBlobSupport()&&t.hasArrayBufferViewSupport()&&(!!Blob.prototype.webkitSlice||!!Blob.prototype.mozSlice||!!Blob.prototype.slice||!1)},dataURI2Blob:function(e){var n,o,i,r,a,s,l=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,c=t.hasBlobSupport(),u=(c||l)&&window.atob&&window.ArrayBuffer&&window.Uint8Array;if(!u)return null;for(n=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),o=new ArrayBuffer(n.length),i=new Uint8Array(o),r=0;r<n.length;r+=1)i[r]=n.charCodeAt(r);return a=e.split(",")[0].split(":")[1].split(";")[0],c?new Blob([t.hasArrayBufferViewSupport()?i:o],{type:a}):((s=new l).append(o),s.getBlob(a))},arrayBuffer2String:function(e){if(window.TextDecoder)return new TextDecoder("utf-8").decode(e);var t,n,o,i,r=Array.prototype.slice.apply(new Uint8Array(e)),a="",s=0;for(t=r.length;t>s;)switch(n=r[s++],n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:o=r[s++],a+=String.fromCharCode((31&n)<<6|63&o);break;case 14:o=r[s++],i=r[s++],a+=String.fromCharCode((15&n)<<12|(63&o)<<6|(63&i)<<0)}return a},isHtml:function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.childNodes,o=n.length;o--;)if(1===n[o].nodeType)return!0;return!1},isSvg:function(e){return e.match(/^\s*<\?xml/i)&&(e.match(/<!DOCTYPE svg/i)||e.match(/<svg/i))},getMimeType:function(e,t,n){switch(e){case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":return"image/jpeg";case"89504E47":return"image/png";case"47494638":return"image/gif";case"49492a00":return"image/tiff";case"52494646":return"image/webp";case"66747970":return"video/3gp";case"4f676753":return"video/ogg";case"1a45dfa3":return"video/mkv";case"000001ba":case"000001b3":return"video/mpeg";case"3026b275":return"video/wmv";case"25504446":return"application/pdf";case"25215053":return"application/ps";case"504b0304":case"504b0506":case"504b0508":return"application/zip";case"377abcaf":return"application/7z";case"75737461":return"application/tar";case"7801730d":return"application/dmg";default:switch(e.substring(0,6)){case"435753":return"application/x-shockwave-flash";case"494433":return"audio/mp3";case"425a68":return"application/bzip";default:switch(e.substring(0,4)){case"424d":return"image/bmp";case"fffb":return"audio/mp3";case"4d5a":return"application/exe";case"1f9d":case"1fa0":return"application/zip";case"1f8b":return"application/gzip";default:return t&&!t.match(/[^\u0000-\u007f]/)?"application/text-plain":n}}}},addCss:function(e,t){e.removeClass(t).addClass(t)},getElement:function(n,o,i){return t.isEmpty(n)||t.isEmpty(n[o])?i:e(n[o])},uniqId:function(){return Math.round((new Date).getTime())+"_"+Math.round(100*Math.random())},htmlEncode:function(e,t){return void 0===e?t||null:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags:function(t,n){var o=t;return n?(e.each(n,function(e,t){"function"==typeof t&&(t=t()),o=o.split(e).join(t)}),o):o},cleanMemory:function(e){var n=e.is("img")?e.attr("src"):e.find("source").attr("src");t.revokeObjectURL(n)},findFileName:function(e){var t=e.lastIndexOf("/");return-1===t&&(t=e.lastIndexOf("\\")),e.split(e.substring(t,t+1)).pop()},checkFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},toggleFullScreen:function(e){var n=document,o=n.documentElement;o&&e&&!t.checkFullScreen()?o.requestFullscreen?o.requestFullscreen():o.msRequestFullscreen?o.msRequestFullscreen():o.mozRequestFullScreen?o.mozRequestFullScreen():o.webkitRequestFullscreen&&o.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()},moveArray:function(t,n,o,i){var r=e.extend(!0,[],t);if(i&&r.reverse(),o>=r.length)for(var a=o-r.length;1+a--;)r.push(void 0);return r.splice(o,0,r.splice(n,1)[0]),i&&r.reverse(),r},cleanZoomCache:function(e){var t=e.closest(".kv-zoom-cache-theme");t.length||(t=e.closest(".kv-zoom-cache")),t.remove()},closeButton:function(e){return'<button type="button" class="'+(e=e?"close "+e:"close")+'" aria-label="Close">\n  <span aria-hidden="true">&times;</span>\n</button>'},getRotation:function(e){switch(e){case 2:return"rotateY(180deg)";case 3:return"rotate(180deg)";case 4:return"rotate(180deg) rotateY(180deg)";case 5:return"rotate(270deg) rotateY(180deg)";case 6:return"rotate(90deg)";case 7:return"rotate(90deg) rotateY(180deg)";case 8:return"rotate(270deg)";default:return""}},setTransform:function(e,t){e&&(e.style.transform=t,e.style.webkitTransform=t,e.style["-moz-transform"]=t,e.style["-ms-transform"]=t,e.style["-o-transform"]=t)}},(n=function(n,o){var i=this;i.$element=e(n),i.$parent=i.$element.parent(),i._validate()&&(i.isPreviewable=t.hasFileAPISupport(),i.isIE9=t.isIE(9),i.isIE10=t.isIE(10),(i.isPreviewable||i.isIE9)&&(i._init(o),i._listen()),i.$element.removeClass("file-loading"))}).prototype={constructor:n,_cleanup:function(){var e=this;e.reader=null,e.clearFileStack(),e.fileBatchCompleted=!0,e.isError=!1,e.cancelling=!1,e.paused=!1,e.lastProgress=0,e._initAjax()},_initAjax:function(){var e=this;e.ajaxQueue=[],e.ajaxRequests=[],e.ajaxQueueIntervalId=null,e.ajaxCurrentThreads=0,e.ajaxAborted=!1},_init:function(n,o){var i,r,a,s,l=this,c=l.$element;l.options=n,e.each(n,function(e,n){switch(e){case"minFileCount":case"maxFileCount":case"minFileSize":case"maxFileSize":case"maxFilePreviewSize":case"resizeImageQuality":case"resizeIfSizeMoreThan":case"progressUploadThreshold":case"initialPreviewCount":case"zoomModalHeight":case"minImageHeight":case"maxImageHeight":case"minImageWidth":case"maxImageWidth":l[e]=t.getNum(n);break;default:l[e]=n}}),l.rtl&&(s=l.previewZoomButtonIcons.prev,l.previewZoomButtonIcons.prev=l.previewZoomButtonIcons.next,l.previewZoomButtonIcons.next=s),!isNaN(l.maxAjaxThreads)&&l.maxAjaxThreads<l.resumableUploadOptions.maxThreads&&(l.resumableUploadOptions.maxThreads=l.maxAjaxThreads),l._initFileManager(),"function"==typeof l.autoOrientImage&&(l.autoOrientImage=l.autoOrientImage()),"function"==typeof l.autoOrientImageInitial&&(l.autoOrientImageInitial=l.autoOrientImageInitial()),o||l._cleanup(),l.$form=c.closest("form"),l._initTemplateDefaults(),l.uploadFileAttr=t.isEmpty(c.attr("name"))?"file_data":c.attr("name"),a=l._getLayoutTemplate("progress"),l.progressTemplate=a.replace("{class}",l.progressClass),l.progressInfoTemplate=a.replace("{class}",l.progressInfoClass),l.progressPauseTemplate=a.replace("{class}",l.progressPauseClass),l.progressCompleteTemplate=a.replace("{class}",l.progressCompleteClass),l.progressErrorTemplate=a.replace("{class}",l.progressErrorClass),l.isDisabled=c.attr("disabled")||c.attr("readonly"),l.isDisabled&&c.attr("disabled",!0),l.isClickable=l.browseOnZoneClick&&l.showPreview&&(l.dropZoneEnabled||!t.isEmpty(l.defaultPreviewContent)),l.isAjaxUpload=t.hasFileUploadSupport()&&!t.isEmpty(l.uploadUrl),l.dropZoneEnabled=t.hasDragDropSupport()&&l.dropZoneEnabled,l.isAjaxUpload||(l.dropZoneEnabled=l.dropZoneEnabled&&t.canAssignFilesToInput()),l.slug="function"==typeof n.slugCallback?n.slugCallback:l._slugDefault,l.mainTemplate=l.showCaption?l._getLayoutTemplate("main1"):l._getLayoutTemplate("main2"),l.captionTemplate=l._getLayoutTemplate("caption"),l.previewGenericTemplate=l._getPreviewTemplate("generic"),!l.imageCanvas&&l.resizeImage&&(l.maxImageWidth||l.maxImageHeight)&&(l.imageCanvas=document.createElement("canvas"),l.imageCanvasContext=l.imageCanvas.getContext("2d")),t.isEmpty(c.attr("id"))&&c.attr("id",t.uniqId()),l.namespace=".fileinput_"+c.attr("id").replace(/-/g,"_"),void 0===l.$container?l.$container=l._createContainer():l._refreshContainer(),r=l.$container,l.$dropZone=r.find(".file-drop-zone"),l.$progress=r.find(".kv-upload-progress"),l.$btnUpload=r.find(".fileinput-upload"),l.$captionContainer=t.getElement(n,"elCaptionContainer",r.find(".file-caption")),l.$caption=t.getElement(n,"elCaptionText",r.find(".file-caption-name")),t.isEmpty(l.msgPlaceholder)||(i=c.attr("multiple")?l.filePlural:l.fileSingle,l.$caption.attr("placeholder",l.msgPlaceholder.replace("{files}",i))),l.$captionIcon=l.$captionContainer.find(".file-caption-icon"),l.$previewContainer=t.getElement(n,"elPreviewContainer",r.find(".file-preview")),l.$preview=t.getElement(n,"elPreviewImage",r.find(".file-preview-thumbnails")),l.$previewStatus=t.getElement(n,"elPreviewStatus",r.find(".file-preview-status")),l.$errorContainer=t.getElement(n,"elErrorContainer",l.$previewContainer.find(".kv-fileinput-error")),l._validateDisabled(),t.isEmpty(l.msgErrorClass)||t.addCss(l.$errorContainer,l.msgErrorClass),o?l._errorsExist()||l.$errorContainer.hide():(l.$errorContainer.hide(),l.previewInitId="preview-"+t.uniqId(),l._initPreviewCache(),l._initPreview(!0),l._initPreviewActions(),l.$parent.hasClass("file-loading")&&(l.$container.insertBefore(l.$parent),l.$parent.remove())),l._setFileDropZoneTitle(),c.attr("disabled")&&l.disable(),l._initZoom(),l.hideThumbnailContent&&t.addCss(l.$preview,"hide-content")},_initFileManager:function(){var n=this;n.fileManager={stack:{},processed:[],errors:[],loadedImages:{},totalImages:0,totalFiles:null,totalSize:null,uploadedSize:0,stats:{},initStats:function(e){var o={started:t.now().getTime()};e?n.fileManager.stats[e]=o:n.fileManager.stats=o},getUploadStats:function(e,o,i){var r=n.fileManager,a=e&&r.stats[e]&&r.stats[e].started||null;a||(a=t.now().getTime());var s=(t.now().getTime()-a)/1e3,l=s?o/s:0,c=n._getSize(l,["B/s","KB/s","MB/s","GB/s","TB/s","PB/s","EB/s","ZB/s","YB/s"]),u=i-o,d={fileId:e,started:a,elapsed:s,loaded:o,total:i,bps:l,bitrate:c,pendingBytes:u};return e?r.stats[e]=d:r.stats=d,d},exists:function(t){return-1!==e.inArray(t,n.fileManager.getIdList())},count:function(){return n.fileManager.getIdList().length},total:function(){var e=n.fileManager;return e.totalFiles||(e.totalFiles=e.count()),e.totalFiles},getTotalSize:function(){var t=n.fileManager;return t.totalSize?t.totalSize:(t.totalSize=0,e.each(n.fileManager.stack,function(e,n){var o=parseFloat(n.size);t.totalSize+=isNaN(o)?0:o}),t.totalSize)},add:function(e,o){o||(o=n.fileManager.getId(e)),o&&(n.fileManager.stack[o]={file:e,name:t.getFileName(e),relativePath:t.getFileRelativePath(e),size:e.size,nameFmt:n._getFileName(e,""),sizeFmt:n._getSize(e.size)})},remove:function(e){var t=e.attr("data-fileid");t&&n.fileManager.removeFile(t)},removeFile:function(e){delete n.fileManager.stack[e],delete n.fileManager.loadedImages[e]},move:function(t,o){var i={},r=n.fileManager.stack;(t||o)&&t!==o&&(e.each(r,function(e,n){e!==t&&(i[e]=n),e===o&&(i[t]=r[t])}),n.fileManager.stack=i)},list:function(){var t=[];return e.each(n.fileManager.stack,function(e,n){n&&n.file&&t.push(n.file)}),t},isPending:function(t){return-1===e.inArray(t,n.fileManager.processed)&&n.fileManager.exists(t)},isProcessed:function(){var t=!0,o=n.fileManager;return e.each(o.stack,function(e){o.isPending(e)&&(t=!1)}),t},clear:function(){var e=n.fileManager;e.totalFiles=null,e.totalSize=null,e.uploadedSize=0,e.stack={},e.errors=[],e.processed=[],e.stats={},e.clearImages()},clearImages:function(){n.fileManager.loadedImages={},n.fileManager.totalImages=0},addImage:function(e,t){n.fileManager.loadedImages[e]=t},removeImage:function(e){delete n.fileManager.loadedImages[e]},getImageIdList:function(){return Object.keys(n.fileManager.loadedImages)},getImageCount:function(){return n.fileManager.getImageIdList().length},getId:function(e){return n._getFileId(e)},getIndex:function(e){return n.fileManager.getIdList().indexOf(e)},getThumb:function(t){var o=null;return n._getThumbs().each(function(){e(this).attr("data-fileid")===t&&(o=e(this))}),o},getThumbIndex:function(e){var t=e.attr("data-fileid");return n.fileManager.getIndex(t)},getIdList:function(){return Object.keys(n.fileManager.stack)},getFile:function(e){return n.fileManager.stack[e]||null},getFileName:function(e,t){var o=n.fileManager.getFile(e);return o?t?o.nameFmt||"":o.name||"":""},getFirstFile:function(){var e=n.fileManager.getIdList(),t=e&&e.length?e[0]:null;return n.fileManager.getFile(t)},setFile:function(e,t){n.fileManager.getFile(e)?n.fileManager.stack[e].file=t:n.fileManager.add(t,e)},setProcessed:function(e){n.fileManager.processed.push(e)},getProgress:function(){var e=n.fileManager.total(),t=n.fileManager.processed.length;return e?Math.ceil(t/e*100):0},setProgress:function(e,t){var o=n.fileManager.getFile(e);!isNaN(t)&&o&&(o.progress=t)}}},_setUploadData:function(n,o){var i=this;e.each(o,function(e,o){var r=i.uploadParamNames[e]||e;t.isArray(o)?n.append(r,o[0],o[1]):n.append(r,o)})},_initResumableUpload:function(){var n=this,o=n.resumableUploadOptions,i=t.logMessages;if(n.enableResumableUpload){if(!1!==o.fallback&&"function"!=typeof o.fallback&&(o.fallback=function(e){e._log(i.noResumableSupport),e.enableResumableUpload=!1}),!t.hasResumableUploadSupport()&&!1!==o.fallback)return void o.fallback(n);if(!n.uploadUrl&&n.enableResumableUpload)return n._log(i.noUploadUrl),void(n.enableResumableUpload=!1);if(o.chunkSize=parseFloat(o.chunkSize),o.chunkSize<=0||isNaN(o.chunkSize))return n._log(i.invalidChunkSize,{chunkSize:o.chunkSize}),void(n.enableResumableUpload=!1);n.resumableManager={init:function(e,t,o){var i=n.resumableManager,r=n.fileManager;i.currThreads=0,i.logs=[],i.stack=[],i.error="",i.chunkIntervalId=null,i.id=e,i.file=t.file,i.fileName=t.name,i.fileIndex=o,i.completed=!1,i.testing=!1,i.lastProgress=0,n.showPreview&&(i.$thumb=r.getThumb(e)||null,i.$progress=i.$btnDelete=null,i.$thumb&&i.$thumb.length&&(i.$progress=i.$thumb.find(".file-thumb-progress"),i.$btnDelete=i.$thumb.find(".kv-file-remove"))),i.chunkSize=1024*n.resumableUploadOptions.chunkSize,i.chunkCount=i.getTotalChunks()},logAjaxError:function(e,t,o){n.resumableUploadOptions.showErrorLog&&n._log(i.ajaxError,{status:e.status,error:o,text:e.responseText||""})},reset:function(){var e=n.resumableManager;e.processed={}},setProcessed:function(e){var t,o=n.resumableManager,i=n.fileManager,r=o.id,a=o.$thumb,s=o.$progress,l=a&&a.length,c={id:l?a.attr("id"):"",index:i.getIndex(r),fileId:r};o.completed=!0,o.lastProgress=0,i.uploadedSize+=o.file.size,l&&a.removeClass("file-uploading"),"success"===e?(n.showPreview&&(n._setProgress(101,s),n._setThumbStatus(a,"Success"),n._initUploadSuccess(o.processed[r].data,a)),n.fileManager.removeFile(r),delete o.processed[r],n._raise("fileuploaded",[c.id,c.index,c.fileId]),i.isProcessed()&&n._setProgress(101)):(n.showPreview&&(n._setThumbStatus(a,"Error"),n._setPreviewError(a,!0),n._setProgress(101,s,n.msgProgressError),n._setProgress(101,n.$progress,n.msgProgressError),n.cancelling=!0),n.$errorContainer.find('li[data-file-id="'+c.fileId+'"]').length||(t=n.msgResumableUploadRetriesExceeded.setTokens({file:o.fileName,max:n.resumableUploadOptions.maxRetries,error:o.error}),n._showFileError(t,c))),i.isProcessed()&&o.reset()},check:function(){var t=n.resumableManager,o=!0;e.each(t.logs,function(e,t){return t?void 0:(o=!1,!1)}),o&&(clearInterval(t.chunkIntervalId),t.setProcessed("success"))},processedResumables:function(){var e,t=n.resumableManager.logs,o=0;if(!t||!t.length)return 0;for(e=0;e<t.length;e++)!0===t[e]&&o++;return o},getUploadedSize:function(){var e=n.resumableManager,t=e.processedResumables()*e.chunkSize;return t>e.file.size?e.file.size:t},getTotalChunks:function(){var e=n.resumableManager,t=parseFloat(e.chunkSize);return!isNaN(t)&&t>0?Math.ceil(e.file.size/t):0},getProgress:function(){var e=n.resumableManager,t=e.processedResumables(),o=e.chunkCount;return 0===o?0:Math.ceil(t/o*100)},checkAborted:function(e){(n.paused||n.cancelling)&&(clearInterval(e),n.unlock())},upload:function(){var e,o=n.resumableManager,i=n.fileManager,r=i.getIdList(),a="new";e=setInterval(function(){var s;if(o.checkAborted(e),"new"===a&&(n.lock(),a="processing",s=r.shift(),i.initStats(s),i.stack[s]&&(o.init(s,i.stack[s],i.getIndex(s)),o.testUpload(),o.uploadResumable())),!i.isPending(s)&&o.completed&&(a="new"),i.isProcessed()){var l=n.$preview.find(".file-preview-initial");l.length&&(t.addCss(l,t.SORT_CSS),n._initSortable()),clearInterval(e),n._clearFileInput(),n.unlock(),setTimeout(function(){var e=n.previewCache.data;e&&(n.initialPreview=e.content,n.initialPreviewConfig=e.config,n.initialPreviewThumbTags=e.tags),n._raise("filebatchuploadcomplete",[n.initialPreview,n.initialPreviewConfig,n.initialPreviewThumbTags,n._getExtraData()])},n.processDelay)}},n.processDelay)},uploadResumable:function(){var e,t=n.resumableManager,o=t.chunkCount;for(e=0;o>e;e++)t.logs[e]=!(!t.processed[t.id]||!t.processed[t.id][e]);for(e=0;o>e;e++)t.pushAjax(e,0);t.chunkIntervalId=setInterval(t.loopAjax,n.queueDelay)},testUpload:function(){var o,i,r,a,s,l,c,u=n.resumableManager,d=n.resumableUploadOptions,p=n.fileManager,f=u.id;return d.testUrl?(u.testing=!0,o=new FormData,i=p.stack[f],n._setUploadData(o,{fileId:f,fileName:i.fileName,fileSize:i.size,fileRelativePath:i.relativePath,chunkSize:u.chunkSize,chunkCount:u.chunkCount}),r=function(e){c=n._getOutData(o,e),n._raise("filetestbeforesend",[f,p,u,c])},a=function(i,r,a){c=n._getOutData(o,a,i);var s=n.uploadParamNames,l=s.chunksUploaded||"chunksUploaded",d=[f,p,u,c];i[l]&&t.isArray(i[l])?(u.processed[f]||(u.processed[f]={}),e.each(i[l],function(e,t){u.logs[t]=!0,u.processed[f][t]=!0}),u.processed[f].data=i,n._raise("filetestsuccess",d)):n._raise("filetesterror",d),u.testing=!1},s=function(e,t,i){c=n._getOutData(o,e),n._raise("filetestajaxerror",[f,p,u,c]),u.logAjaxError(e,t,i),u.testing=!1},l=function(){n._raise("filetestcomplete",[f,p,u,n._getOutData(o)]),u.testing=!1},void n._ajaxSubmit(r,a,l,s,o,f,u.fileIndex,d.testUrl)):void(u.testing=!1)},pushAjax:function(e,t){n.resumableManager.stack.push([e,t])},sendAjax:function(e,o){var r,a=n.fileManager,s=n.resumableManager,l=n.resumableUploadOptions,c=s.chunkSize,u=s.id,d=s.file,p=s.$thumb,f=s.$btnDelete;if(!s.processed[u]||!s.processed[u][e]){if(s.currThreads++,o>l.maxRetries)return void s.setProcessed("error");var h,m,g,v,b,y,w=d.slice?"slice":d.mozSlice?"mozSlice":d.webkitSlice?"webkitSlice":"slice",C=d[w](c*e,c*(e+1));h=new FormData,r=a.stack[u],n._setUploadData(h,{chunkCount:s.chunkCount,chunkIndex:e,chunkSize:c,chunkSizeStart:c*e,fileBlob:[C,s.fileName],fileId:u,fileName:s.fileName,fileRelativePath:r.relativePath,fileSize:d.size,retryCount:o}),s.$progress&&s.$progress.length&&s.$progress.show(),g=function(i){m=n._getOutData(h,i),n.showPreview&&(p.hasClass("file-preview-success")||(n._setThumbStatus(p,"Loading"),t.addCss(p,"file-uploading")),f.attr("disabled",!0)),n._raise("filechunkbeforesend",[u,e,o,a,s,m])},v=function(t,r,l){m=n._getOutData(h,l,t);var c=n.uploadParamNames,d=c.chunkIndex||"chunkIndex",p=n.resumableUploadOptions,f=[u,e,o,a,s,m];s.currThreads--,t.error?(p.showErrorLog&&n._log(i.retryStatus,{retry:o+1,filename:s.fileName,chunk:e}),s.pushAjax(e,o+1),s.error=t.error,n._raise("filechunkerror",f)):(s.logs[t[d]]=!0,s.processed[u]||(s.processed[u]={}),s.processed[u][t[d]]=!0,s.processed[u].data=t,n._raise("filechunksuccess",f),s.check())},b=function(t,i,r){m=n._getOutData(h,t),s.currThreads--,s.error=r,s.logAjaxError(t,i,r),n._raise("filechunkajaxerror",[u,e,o,a,s,m]),s.pushAjax(e,o+1)},y=function(){n._raise("filechunkcomplete",[u,e,o,a,s,n._getOutData(h)])},n._ajaxSubmit(g,v,y,b,h,u,s.fileIndex)}},loopAjax:function(){var e=n.resumableManager;if(e.currThreads<n.resumableUploadOptions.maxThreads&&!e.testing){var t,o=e.stack.shift();void 0!==o&&(t=o[0],e.processed[e.id]&&e.processed[e.id][t]?e.processedResumables()>=e.getTotalChunks()&&(e.setProcessed("success"),clearInterval(e.chunkIntervalId)):e.sendAjax(t,o[1]))}}},n.resumableManager.reset()}},_initTemplateDefaults:function(){var n,o,i,r,a,s,l,c,u,d,p=this;n=t.closeButton("fileinput-remove"),o='<div id="'+t.MODAL_ID+'" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="'+t.MODAL_ID+'Label"></div>',i='<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-fileid="{fileid}" data-template="{template}"',u=" {style}",r='<video class="kv-preview-data file-preview-video" controls'+u+'>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</video>\n",a='\x3c!--suppress ALL --\x3e<audio class="kv-preview-data file-preview-audio" controls'+u+'>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</audio>\n",l='<embed class="kv-preview-data file-preview-pdf" src="{data}" type="application/pdf"'+u+">\n",s='<object class="kv-preview-data file-preview-object file-object {typeCss}" data="{data}" type="{type}"'+u+'>\n<param name="movie" value="{caption}" />\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n</object>\n",c='<div class="kv-preview-data file-preview-other-frame"'+u+">\n"+t.DEFAULT_PREVIEW+"\n</div>\n",d={width:"100%",height:"100%","min-height":"480px"},p._isPdfRendered()&&(l=p.pdfRendererTemplate.replace("{renderer}",p._encodeURI(p.pdfRendererUrl))),p.defaults={layoutTemplates:{main1:'{preview}\n<div class="kv-upload-progress kv-hidden"></div><div class="clearfix"></div>\n<div class="input-group {class}">\n  {caption}\n<div class="input-group-btn input-group-append">\n      {remove}\n      {cancel}\n      {pause}\n      {upload}\n      {browse}\n    </div>\n</div>',main2:'{preview}\n<div class="kv-upload-progress kv-hidden"></div>\n<div class="clearfix"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',preview:'<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',close:n,fileIcon:'<i class="glyphicon glyphicon-file"></i>',caption:'<div class="file-caption form-control {class}" tabindex="500">\n  <span class="file-caption-icon"></span>\n  <input class="file-caption-name" onkeydown="return false;" onpaste="return false;">\n</div>',modalMain:o,modal:'<div class="modal-dialog modal-lg{rtl}" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <h5 class="modal-title">{heading}</h5>\n      <span class="kv-zoom-title"></span>\n      <div class="kv-zoom-actions">{toggleheader}{fullscreen}{borderless}{close}</div>\n    </div>\n    <div class="modal-body">\n      <div class="floating-buttons"></div>\n      <div class="kv-zoom-body file-zoom-content {zoomFrameClass}"></div>\n{prev} {next}\n    </div>\n  </div>\n</div>\n',progress:'<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {status}\n     </div>\n</div>{stats}',stats:'<div class="text-info file-upload-stats"><span class="pending-time">{pendingTime}</span> <span class="upload-speed">{uploadSpeed}</span></div>',size:" <samp>({sizeText})</samp>",footer:'<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">\n        <div class="file-caption-info">{caption}</div>\n        <div class="file-size-info">{size}</div>\n    </div>\n    {progress}\n{indicator}\n{actions}\n</div>',indicator:'<div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>',actions:'<div class="file-actions">\n    <div class="file-footer-buttons">\n        {download} {upload} {delete} {zoom} {other}    </div>\n</div>\n{drag}\n<div class="clearfix"></div>',actionDelete:'<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',actionUpload:'<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}</button>',actionDownload:'<a class="kv-file-download {downloadClass}" title="{downloadTitle}" href="{downloadUrl}" download="{caption}" target="_blank">{downloadIcon}</a>',actionZoom:'<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}</button>',actionDrag:'<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>',btnDefault:'<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</button>',btnLink:'<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>',btnBrowse:'<div tabindex="500" class="{css}" {status}>{icon} {label}</div>',zoomCache:'<div class="kv-zoom-cache" style="display:none">{zoomContent}</div>'},previewMarkupTags:{tagBefore1:'<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-fileid="{fileid}" data-template="{template}"><div class="kv-file-content">\n',tagBefore2:'<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-fileid="{fileid}" data-template="{template}" title="{caption}"><div class="kv-file-content">\n',tagAfter:"</div>{footer}\n</div>\n"},previewContentTemplates:{generic:"{content}\n",html:'<div class="kv-preview-data file-preview-html" title="{caption}" {style}>{data}</div>\n',image:'<img src="{data}" class="file-preview-image kv-preview-data" title="{title}" alt="{alt}" {style}>\n',text:'<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly {style}>{data}</textarea>\n',office:'<iframe class="kv-preview-data file-preview-office" src="https://view.officeapps.live.com/op/embed.aspx?src={data}" {style}></iframe>',gdocs:'<iframe class="kv-preview-data file-preview-gdocs" src="https://docs.google.com/gview?url={data}&embedded=true" {style}></iframe>',video:r,audio:a,flash:'<embed class="kv-preview-data file-preview-flash" src="{data}" type="application/x-shockwave-flash" {style}>\n',object:s,pdf:l,other:c},allowedPreviewTypes:["image","html","text","video","audio","flash","pdf","object"],previewTemplates:{},previewSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},office:{width:"213px",height:"160px"},gdocs:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"100%",height:"30px"},flash:{width:"213px",height:"160px"},object:{width:"213px",height:"160px"},pdf:{width:"100%",height:"160px"},other:{width:"213px",height:"160px"}},previewSettingsSmall:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"100%",height:"160px"},text:{width:"100%",height:"160px"},office:{width:"100%",height:"160px"},gdocs:{width:"100%",height:"160px"},video:{width:"100%",height:"auto"},audio:{width:"100%",height:"30px"},flash:{width:"100%",height:"auto"},object:{width:"100%",height:"auto"},pdf:{width:"100%",height:"160px"},other:{width:"100%",height:"160px"}},previewZoomSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:d,text:d,office:{width:"100%",height:"100%","max-width":"100%","min-height":"480px"},gdocs:{width:"100%",height:"100%","max-width":"100%","min-height":"480px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","max-width":"100%","min-height":"480px"},pdf:d,other:{width:"auto",height:"100%","min-height":"480px"}},mimeTypeAliases:{"video/quicktime":"video/mp4"},fileTypeSettings:{image:function(e,n){return t.compare(e,"image.*")&&!t.compare(e,/(tiff?|wmf)$/i)||t.compare(n,/\.(gif|png|jpe?g)$/i)},html:function(e,n){return t.compare(e,"text/html")||t.compare(n,/\.(htm|html)$/i)},office:function(e,n){return t.compare(e,/(word|excel|powerpoint|office)$/i)||t.compare(n,/\.(docx?|xlsx?|pptx?|pps|potx?)$/i)},gdocs:function(e,n){return t.compare(e,/(word|excel|powerpoint|office|iwork-pages|tiff?)$/i)||t.compare(n,/\.(docx?|xlsx?|pptx?|pps|potx?|rtf|ods|odt|pages|ai|dxf|ttf|tiff?|wmf|e?ps)$/i)},text:function(e,n){return t.compare(e,"text.*")||t.compare(n,/\.(xml|javascript)$/i)||t.compare(n,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,n){return t.compare(e,"video.*")&&(t.compare(e,/(ogg|mp4|mp?g|mov|webm|3gp)$/i)||t.compare(n,/\.(og?|mp4|webm|mp?g|mov|3gp)$/i))},audio:function(e,n){return t.compare(e,"audio.*")&&(t.compare(n,/(ogg|mp3|mp?g|wav)$/i)||t.compare(n,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(e,n){return t.compare(e,"application/x-shockwave-flash",!0)||t.compare(n,/\.(swf)$/i)},pdf:function(e,n){return t.compare(e,"application/pdf",!0)||t.compare(n,/\.(pdf)$/i)},object:function(){return!0},other:function(){return!0}},fileActionSettings:{showRemove:!0,showUpload:!0,showDownload:!0,showZoom:!0,showDrag:!0,removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",removeErrorClass:"btn btn-sm btn-kv btn-danger",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",uploadTitle:"Upload file",uploadRetryIcon:'<i class="glyphicon glyphicon-repeat"></i>',uploadRetryTitle:"Retry upload",downloadIcon:'<i class="glyphicon glyphicon-download"></i>',downloadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",downloadTitle:"Download file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',zoomClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-move"></i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-plus-sign text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hourglass text-muted"></i>',indicatorPaused:'<i class="glyphicon glyphicon-pause text-primary"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ...",indicatorPausedTitle:"Upload Paused"}},e.each(p.defaults,function(t,n){return"allowedPreviewTypes"===t?void(void 0===p.allowedPreviewTypes&&(p.allowedPreviewTypes=n)):void(p[t]=e.extend(!0,{},n,p[t]))}),p._initPreviewTemplates()},_initPreviewTemplates:function(){var n,o=this,i=o.previewMarkupTags,r=i.tagAfter;e.each(o.previewContentTemplates,function(e,a){t.isEmpty(o.previewTemplates[e])&&(n=i.tagBefore2,"generic"!==e&&"image"!==e&&"html"!==e&&"text"!==e||(n=i.tagBefore1),o._isPdfRendered()&&"pdf"===e&&(n=n.replace("kv-file-content","kv-file-content kv-pdf-rendered")),o.previewTemplates[e]=n+a+r)})},_initPreviewCache:function(){var n=this;n.previewCache={data:{},init:function(){var e=n.initialPreview;e.length>0&&!t.isArray(e)&&(e=e.split(n.initialPreviewDelimiter)),n.previewCache.data={content:e,config:n.initialPreviewConfig,tags:n.initialPreviewThumbTags}},count:function(e){if(!n.previewCache.data||!n.previewCache.data.content)return 0;if(e){var t=n.previewCache.data.content.filter(function(e){return null!==e});return t.length}return n.previewCache.data.content.length},get:function(o,i){var r,a,s,l,c,u,d,p,f="init_"+o,h=n.previewCache.data,m=h.config[o],g=h.content[o],v=n.previewInitId+"-"+f,b=t.ifSet("previewAsData",m,n.initialPreviewAsData),y=m?{title:m.title||null,alt:m.alt||null}:{title:null,alt:null},w=function(e,o,i,a,s,l,c,u,d){return u=" file-preview-initial "+t.SORT_CSS+(u?" "+u:""),r=m&&m.fileId||"file_"+s,n._generatePreviewTemplate(e,o,i,a,s,r,!1,null,u,l,c,d,y,m&&m.zoomData||o)};return g&&g.length?(i=void 0===i||i,l=t.ifSet("type",m,n.initialPreviewFileType||"generic"),u=t.ifSet("filename",m,t.ifSet("caption",m)),d=t.ifSet("filetype",m,l),c=n.previewCache.footer(o,i,m&&m.size||null),p=t.ifSet("frameClass",m),a=b?w(l,g,u,d,v,c,f,p):w("generic",g,u,d,v,c,f,p,l).setTokens({content:h.content[o]}),h.tags.length&&h.tags[o]&&(a=t.replaceTags(a,h.tags[o])),t.isEmpty(m)||t.isEmpty(m.frameAttr)||((s=e(document.createElement("div")).html(a)).find(".file-preview-initial").attr(m.frameAttr),a=s.html(),s.remove()),a):""},clean:function(e){e.content=t.cleanArray(e.content),e.config=t.cleanArray(e.config),e.tags=t.cleanArray(e.tags),n.previewCache.data=e},add:function(e,o,i,r){var a=n.previewCache.data,s=e.length-1;return e&&e.length?(t.isArray(e)||(e=e.split(n.initialPreviewDelimiter)),r?(s=a.content.push(e[0])-1,a.config[s]=o,a.tags[s]=i):(a.content=e,a.config=o,a.tags=i),n.previewCache.clean(a),s):s},set:function(e,o,i,r){var a,s=n.previewCache.data;if(e&&e.length&&(t.isArray(e)||(e=e.split(n.initialPreviewDelimiter)),e.filter(function(e){return null!==e}).length)){if(void 0===s.content&&(s.content=[]),void 0===s.config&&(s.config=[]),void 0===s.tags&&(s.tags=[]),r){for(a=0;a<e.length;a++)e[a]&&s.content.push(e[a]);for(a=0;a<o.length;a++)o[a]&&s.config.push(o[a]);for(a=0;a<i.length;a++)i[a]&&s.tags.push(i[a])}else s.content=e,s.config=o,s.tags=i;n.previewCache.clean(s)}},unset:function(o){var i=n.previewCache.count(),r=n.reversePreviewOrder;if(i){if(1===i)return n.previewCache.data.content=[],n.previewCache.data.config=[],n.previewCache.data.tags=[],n.initialPreview=[],n.initialPreviewConfig=[],void(n.initialPreviewThumbTags=[]);n.previewCache.data.content=t.spliceArray(n.previewCache.data.content,o,r),n.previewCache.data.config=t.spliceArray(n.previewCache.data.config,o,r),n.previewCache.data.tags=t.spliceArray(n.previewCache.data.tags,o,r);var a=e.extend(!0,{},n.previewCache.data);n.previewCache.clean(a)}},out:function(){var e,t,o,i="",r=n.previewCache.count();if(0===r)return{content:"",caption:""};for(t=0;r>t;t++)o=n.previewCache.get(t),i=n.reversePreviewOrder?o+i:i+o;return e=n._getMsgSelected(r),{content:i,caption:e}},footer:function(e,o,i){var r=n.previewCache.data||{};if(t.isEmpty(r.content))return"";(t.isEmpty(r.config)||t.isEmpty(r.config[e]))&&(r.config[e]={}),o=void 0===o||o;var a,s=r.config[e],l=t.ifSet("caption",s),c=t.ifSet("width",s,"auto"),u=t.ifSet("url",s,!1),d=t.ifSet("key",s,null),p=t.ifSet("fileId",s,null),f=n.fileActionSettings,h=n.initialPreviewShowDelete||!1,m=n.initialPreviewDownloadUrl?n.initialPreviewDownloadUrl+"?key="+d+(p?"&fileId="+p:""):"",g=s.downloadUrl||m,v=s.filename||s.caption||"",b=!!g,y=t.ifSet("showRemove",s,t.ifSet("showRemove",f,h)),w=t.ifSet("showDownload",s,t.ifSet("showDownload",f,b)),C=t.ifSet("showZoom",s,t.ifSet("showZoom",f,!0)),x=t.ifSet("showDrag",s,t.ifSet("showDrag",f,!0)),S=!1===u&&o;return w=w&&!1!==s.downloadUrl&&!!g,a=n._renderFileActions(s,!1,w,y,C,x,S,u,d,!0,g,v),n._getLayoutTemplate("footer").setTokens({progress:n._renderThumbProgress(),actions:a,caption:l,size:n._getSize(i),width:c,indicator:""})}},n.previewCache.init()},_isPdfRendered:function(){var e=this.usePdfRenderer,t="function"==typeof e?e():!!e;return t&&this.pdfRendererUrl},_handler:function(e,t,n){var o=this.namespace,i=t.split(" ").join(o+" ")+o;e&&e.length&&e.off(i).on(i,n)},_encodeURI:function(e){return this.encodeUrl?encodeURI(e):e},_log:function(e,t){var n=this.$element.attr("id");n&&(e='"'+n+'": '+e),e="bootstrap-fileinput: "+e,"object"==typeof t&&e.setTokens(t),void 0!==window.console.log?window.console.log(e):window.alert(e)},_validate:function(){var e="file"===this.$element.attr("type");return e||this._log(t.logMessages.badInputType),e},_errorsExist:function(){var t,n=this.$errorContainer.find("li");return!!n.length||((t=e(document.createElement("div")).html(this.$errorContainer.html())).find(".kv-error-close").remove(),t.find("ul").remove(),!!e.trim(t.text()).length)},_errorHandler:function(e,t){var n=this,o=e.target.error;!function(e){n._showError(e.replace("{name}",t))}(o.code===o.NOT_FOUND_ERR?n.msgFileNotFound:o.code===o.SECURITY_ERR?n.msgFileSecured:o.code===o.NOT_READABLE_ERR?n.msgFileNotReadable:o.code===o.ABORT_ERR?n.msgFilePreviewAborted:n.msgFilePreviewError)},_addError:function(e){var t=this,n=t.$errorContainer;e&&n.length&&(n.html(t.errorCloseButton+e),t._handler(n.find(".kv-error-close"),"click",function(){setTimeout(function(){t.showPreview&&!t.getFrames().length&&t.clear(),n.fadeOut("slow")},t.processDelay)}))},_setValidationError:function(e){e=(e?e+" ":"")+"has-error",this.$container.removeClass(e).addClass("has-error"),t.addCss(this.$captionContainer,"is-invalid")},_resetErrors:function(e){var t=this,n=t.$errorContainer;t.isError=!1,t.$container.removeClass("has-error"),t.$captionContainer.removeClass("is-invalid"),n.html(""),e?n.fadeOut("slow"):n.hide()},_showFolderError:function(e){var t,n=this,o=n.$errorContainer;e&&(n.isAjaxUpload||n._clearFileInput(),t=n.msgFoldersNotAllowed.replace("{n}",e),n._addError(t),n._setValidationError(),o.fadeIn(800),n._raise("filefoldererror",[e,t]))},_showFileError:function(e,t,n){var o=this,i=o.$errorContainer,r=n||"fileuploaderror",a=t&&t.fileId||"",s=t&&t.id?'<li data-thumb-id="'+t.id+'" data-file-id="'+a+'">'+e+"</li>":"<li>"+e+"</li>";return 0===i.find("ul").length?o._addError("<ul>"+s+"</ul>"):i.find("ul").append(s),i.fadeIn(800),o._raise(r,[t,e]),o._setValidationError("file-input-new"),!0},_showError:function(e,t,n){var o=this,i=o.$errorContainer,r=n||"fileerror";return(t=t||{}).reader=o.reader,o._addError(e),i.fadeIn(800),o._raise(r,[t,e]),o.isAjaxUpload||o._clearFileInput(),o._setValidationError("file-input-new"),o.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(e){var t=this,n=t.minFileCount>1?t.filePlural:t.fileSingle,o=t.msgFilesTooLess.replace("{n}",t.minFileCount).replace("{files}",n),i=t.$errorContainer;t._addError(o),t.isError=!0,t._updateFileDetails(0),i.fadeIn(800),t._raise("fileerror",[e,o]),t._clearFileInput(),t._setValidationError()},_parseError:function(t,n,o,i){var r,a=this,s=e.trim(o+""),l=void 0!==n.responseJSON&&void 0!==n.responseJSON.error?n.responseJSON.error:n.responseText;return a.cancelling&&a.msgUploadAborted&&(s=a.msgUploadAborted),a.showAjaxErrorDetails&&l&&(l=e.trim(l.replace(/\n\s*\n/g,"\n")),r=l.length?"<pre>"+l+"</pre>":"",s+=s?r:l),s||(s=a.msgAjaxError.replace("{operation}",t)),a.cancelling=!1,i?"<b>"+i+": </b>"+s:s},_parseFileType:function(e,n){var o,i,r,a,s=this.allowedPreviewTypes||[];if("application/text-plain"===e)return"text";for(a=0;a<s.length;a++)if(r=s[a],o=this.fileTypeSettings[r],i=o(e,n)?r:"",!t.isEmpty(i))return i;return"other"},_getPreviewIcon:function(t){var n,o=this,i=null;return t&&t.indexOf(".")>-1&&(n=t.split(".").pop(),o.previewFileIconSettings&&(i=o.previewFileIconSettings[n]||o.previewFileIconSettings[n.toLowerCase()]||null),o.previewFileExtSettings&&e.each(o.previewFileExtSettings,function(e,t){return o.previewFileIconSettings[e]&&t(n)?void(i=o.previewFileIconSettings[e]):void 0})),i||o.previewFileIcon},_parseFilePreviewIcon:function(e,t){var n=this._getPreviewIcon(t),o=e;return o.indexOf("{previewFileIcon}")>-1&&(o=o.setTokens({previewFileIconClass:this.previewFileIconClass,previewFileIcon:n})),o},_raise:function(t,n){var o=this,i=e.Event(t);if(void 0!==n?o.$element.trigger(i,n):o.$element.trigger(i),i.isDefaultPrevented()||!1===i.result)return!1;switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:o.ajaxAborted||(o.ajaxAborted=i.result)}return!0},_listenFullScreen:function(e){var t,n,o=this,i=o.$modal;i&&i.length&&(t=i&&i.find(".btn-fullscreen"),n=i&&i.find(".btn-borderless"),t.length&&n.length&&(t.removeClass("active").attr("aria-pressed","false"),n.removeClass("active").attr("aria-pressed","false"),e?t.addClass("active").attr("aria-pressed","true"):n.addClass("active").attr("aria-pressed","true"),i.hasClass("file-zoom-fullscreen")?o._maximizeZoomDialog():e?o._maximizeZoomDialog():n.removeClass("active").attr("aria-pressed","false")))},_listen:function(){var n=this,o=n.$element,i=n.$form,r=n.$container;n._handler(o,"click",function(e){o.hasClass("file-no-browse")&&(o.data("zoneClicked")?o.data("zoneClicked",!1):e.preventDefault())}),n._handler(o,"change",e.proxy(n._change,n)),n.showBrowse&&n._handler(n.$btnFile,"click",e.proxy(n._browse,n)),n._handler(r.find(".fileinput-remove:not([disabled])"),"click",e.proxy(n.clear,n)),n._handler(r.find(".fileinput-cancel"),"click",e.proxy(n.cancel,n)),n._handler(r.find(".fileinput-pause"),"click",e.proxy(n.pause,n)),n._initDragDrop(),n._handler(i,"reset",e.proxy(n.clear,n)),n.isAjaxUpload||n._handler(i,"submit",e.proxy(n._submitForm,n)),n._handler(n.$container.find(".fileinput-upload"),"click",e.proxy(n._uploadClick,n)),n._handler(e(window),"resize",function(){n._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)}),n._handler(e(document),"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){n._listenFullScreen(t.checkFullScreen())}),n._autoFitContent(),n._initClickable(),n._refreshPreview()},_autoFitContent:function(){var t,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=this,i=400>n?o.previewSettingsSmall||o.defaults.previewSettingsSmall:o.previewSettings||o.defaults.previewSettings;e.each(i,function(e,n){t=".file-preview-frame .file-preview-"+e,o.$preview.find(t+".kv-preview-data,"+t+" .kv-preview-data").css(n)})},_scanDroppedItems:function(e,n,o){o=o||"";var i,r,a,s=this,l=function(e){s._log(t.logMessages.badDroppedFiles),s._log(e)};e.isFile?e.file(function(e){n.push(e)},l):e.isDirectory&&(r=e.createReader(),(a=function(){r.readEntries(function(t){if(t&&t.length>0){for(i=0;i<t.length;i++)s._scanDroppedItems(t[i],n,o+e.name+"/");a()}return null},l)})())},_initDragDrop:function(){var t=this,n=t.$dropZone;t.dropZoneEnabled&&t.showPreview&&(t._handler(n,"dragenter dragover",e.proxy(t._zoneDragEnter,t)),t._handler(n,"dragleave",e.proxy(t._zoneDragLeave,t)),t._handler(n,"drop",e.proxy(t._zoneDrop,t)),t._handler(e(document),"dragenter dragover drop",t._zoneDragDropInit))},_zoneDragDropInit:function(e){e.stopPropagation(),e.preventDefault()},_zoneDragEnter:function(n){var o=this,i=n.originalEvent.dataTransfer,r=e.inArray("Files",i.types)>-1;return o._zoneDragDropInit(n),o.isDisabled||!r?(n.originalEvent.dataTransfer.effectAllowed="none",void(n.originalEvent.dataTransfer.dropEffect="none")):void(o._raise("fileDragEnter",{sourceEvent:n,files:i.types.Files})&&t.addCss(o.$dropZone,"file-highlighted"))},_zoneDragLeave:function(e){var t=this;t._zoneDragDropInit(e),t.isDisabled||t._raise("fileDragLeave",{sourceEvent:e})&&t.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){var n,o=this,i=o.$element,r=e.originalEvent.dataTransfer,a=r.files,s=r.items,l=t.getDragDropFolders(s),c=function(){o.isAjaxUpload?o._change(e,a):(o.changeTriggered=!0,i.get(0).files=a,setTimeout(function(){o.changeTriggered=!1,i.trigger("change"+o.namespace)},o.processDelay)),o.$dropZone.removeClass("file-highlighted")};if(e.preventDefault(),!o.isDisabled&&!t.isEmpty(a)&&o._raise("fileDragDrop",{sourceEvent:e,files:a}))if(l>0){if(!o.isAjaxUpload)return void o._showFolderError(l);for(a=[],n=0;n<s.length;n++){var u=s[n].webkitGetAsEntry();u&&o._scanDroppedItems(u,a)}setTimeout(function(){c()},500)}else c()},_uploadClick:function(e){var n,o=this,i=o.$container.find(".fileinput-upload"),r=!i.hasClass("disabled")&&t.isEmpty(i.attr("disabled"));if(!e||!e.isDefaultPrevented()){if(!o.isAjaxUpload)return void(r&&"submit"!==i.attr("type")&&(n=i.closest("form"),n.length&&n.trigger("submit"),e.preventDefault()));e.preventDefault(),r&&o.upload()}},_submitForm:function(){return this._isFileSelectionValid()&&!this._abort({})},_clearPreview:function(){var n=this,o=n.$preview,i=n.showUploadedThumbs?n.getFrames(":not(.file-preview-success)"):n.getFrames();i.each(function(){var n=e(this);n.remove(),t.cleanZoomCache(o.find("#zoom-"+n.attr("id")))}),n.getFrames().length&&n.showPreview||n._resetUpload(),n._validateDefaultPreview()},_initSortable:function(){var n,o=this,i=o.$preview,r="."+t.SORT_CSS,a=o.reversePreviewOrder;window.KvSortable&&0!==i.find(r).length&&(n={handle:".drag-handle-init",dataIdAttr:"data-preview-id",scroll:!1,draggable:r,onSort:function(n){var i=n.oldIndex,r=n.newIndex,s=0;o.initialPreview=t.moveArray(o.initialPreview,i,r,a),o.initialPreviewConfig=t.moveArray(o.initialPreviewConfig,i,r,a),o.previewCache.init(),o.getFrames(".file-preview-initial").each(function(){e(this).attr("data-fileindex","init_"+s),s++}),o._raise("filesorted",{previewId:e(n.item).attr("id"),oldIndex:i,newIndex:r,stack:o.initialPreviewConfig})}},i.data("kvsortable")&&i.kvsortable("destroy"),e.extend(!0,n,o.fileActionSettings.dragSettings),i.kvsortable(n))},_setPreviewContent:function(e){this.$preview.html(e),this._autoFitContent()},_initPreviewImageOrientations:function(){var t=this,n=0;t.autoOrientImageInitial&&t.getFrames(".file-preview-initial").each(function(){var o,i,r,a=e(this),s=t.initialPreviewConfig[n];s&&s.exif&&s.exif.Orientation&&(r=a.attr("id"),o=a.find(">.kv-file-content img"),i=t.$preview.find("#zoom-"+r+" >.kv-file-content img"),t.setImageOrientation(o,i,s.exif.Orientation,a)),n++})},_initPreview:function(e){var n,o=this,i=o.initialCaption||"";return o.previewCache.count(!0)?(n=o.previewCache.out(),i=e&&o.initialCaption?o.initialCaption:n.caption,o._setPreviewContent(n.content),o._setInitThumbAttr(),o._setCaption(i),o._initSortable(),t.isEmpty(n.content)||o.$container.removeClass("file-input-new"),void o._initPreviewImageOrientations()):(o._clearPreview(),void(e?o._setCaption(i):o._initCaption()))},_getZoomButton:function(e){var t=this,n=t.previewZoomButtonIcons[e],o=t.previewZoomButtonClasses[e],i=' title="'+(t.previewZoomButtonTitles[e]||"")+'" ',r=i+("close"===e?' data-dismiss="modal" aria-hidden="true"':"");return"fullscreen"!==e&&"borderless"!==e&&"toggleheader"!==e||(r+=' data-toggle="button" aria-pressed="false" autocomplete="off"'),'<button type="button" class="'+o+" btn-"+e+'"'+r+">"+n+"</button>"},_getModalContent:function(){var e=this;return e._getLayoutTemplate("modal").setTokens({rtl:e.rtl?" kv-rtl":"",zoomFrameClass:e.frameClass,heading:e.msgZoomModalHeading,prev:e._getZoomButton("prev"),next:e._getZoomButton("next"),toggleheader:e._getZoomButton("toggleheader"),fullscreen:e._getZoomButton("fullscreen"),borderless:e._getZoomButton("borderless"),close:e._getZoomButton("close")})},_listenModalEvent:function(e){var n=this,o=n.$modal;o.on(e+".bs.modal",function(i){var r=o.find(".btn-fullscreen"),a=o.find(".btn-borderless");n._raise("filezoom"+e,function(e){return{sourceEvent:e,previewId:o.data("previewId"),modal:o}}(i)),"shown"===e&&(a.removeClass("active").attr("aria-pressed","false"),r.removeClass("active").attr("aria-pressed","false"),o.hasClass("file-zoom-fullscreen")&&(n._maximizeZoomDialog(),t.checkFullScreen()?r.addClass("active").attr("aria-pressed","true"):a.addClass("active").attr("aria-pressed","true")))})},_initZoom:function(){var n,o=this,i=o._getLayoutTemplate("modalMain"),r="#"+t.MODAL_ID;o.showPreview&&(o.$modal=e(r),o.$modal&&o.$modal.length||(n=e(document.createElement("div")).html(i).insertAfter(o.$container),o.$modal=e(r).insertBefore(n),n.remove()),t.initModal(o.$modal),o.$modal.html(o._getModalContent()),e.each(t.MODAL_EVENTS,function(e,t){o._listenModalEvent(t)}))},_initZoomButtons:function(){var t,n,o=this,i=o.$modal.data("previewId")||"",r=o.getFrames().toArray(),a=r.length,s=o.$modal.find(".btn-prev"),l=o.$modal.find(".btn-next");return r.length<2?(s.hide(),void l.hide()):(s.show(),l.show(),void(a&&(t=e(r[0]),n=e(r[a-1]),s.removeAttr("disabled"),l.removeAttr("disabled"),t.length&&t.attr("id")===i&&s.attr("disabled",!0),n.length&&n.attr("id")===i&&l.attr("disabled",!0))))},_maximizeZoomDialog:function(){var t=this.$modal,n=t.find(".modal-header:visible"),o=t.find(".modal-footer:visible"),i=t.find(".modal-body"),r=e(window).height(),a=0;t.addClass("file-zoom-fullscreen"),n&&n.length&&(r-=n.outerHeight(!0)),o&&o.length&&(r-=o.outerHeight(!0)),i&&i.length&&(a=i.outerHeight(!0)-i.height(),r-=a),t.find(".kv-zoom-body").height(r)},_resizeZoomDialog:function(e){var n=this,o=n.$modal,i=o.find(".btn-fullscreen"),r=o.find(".btn-borderless");if(o.hasClass("file-zoom-fullscreen"))t.toggleFullScreen(!1),e?i.hasClass("active")||(o.removeClass("file-zoom-fullscreen"),n._resizeZoomDialog(!0),r.hasClass("active")&&r.removeClass("active").attr("aria-pressed","false")):i.hasClass("active")?i.removeClass("active").attr("aria-pressed","false"):(o.removeClass("file-zoom-fullscreen"),n.$modal.find(".kv-zoom-body").css("height",n.zoomModalHeight));else{if(!e)return void n._maximizeZoomDialog();t.toggleFullScreen(!0)}o.focus()},_setZoomContent:function(n,o){var i,r,a,s,l,c,u,d,p,f,h=this,m=n.attr("id"),g=h.$preview.find("#zoom-"+m),v=h.$modal,b=v.find(".btn-fullscreen"),y=v.find(".btn-borderless"),w=v.find(".btn-toggleheader");r=g.attr("data-template")||"generic",i=g.find(".kv-file-content"),a=i.length?i.html():"",p=n.data("caption")||"",f=n.data("size")||"",s=p+" "+f,v.find(".kv-zoom-title").attr("title",e("<div/>").html(s).text()).html(s),l=v.find(".kv-zoom-body"),v.removeClass("kv-single-content"),o?(d=l.addClass("file-thumb-loading").clone().insertAfter(l),l.html(a).hide(),d.fadeOut("fast",function(){l.fadeIn("fast",function(){l.removeClass("file-thumb-loading")}),d.remove()})):l.html(a),(u=h.previewZoomSettings[r])&&(c=l.find(".kv-preview-data"),t.addCss(c,"file-zoom-detail"),e.each(u,function(e,t){c.css(e,t),(c.attr("width")&&"width"===e||c.attr("height")&&"height"===e)&&c.removeAttr(e)})),v.data("previewId",m),h._handler(v.find(".btn-prev"),"click",function(){h._zoomSlideShow("prev",m)}),h._handler(v.find(".btn-next"),"click",function(){h._zoomSlideShow("next",m)}),h._handler(b,"click",function(){h._resizeZoomDialog(!0)}),h._handler(y,"click",function(){h._resizeZoomDialog(!1)}),h._handler(w,"click",function(){var e,t=v.find(".modal-header"),n=v.find(".modal-body .floating-buttons"),o=t.find(".kv-zoom-actions"),i=function(e){var n=h.$modal.find(".kv-zoom-body"),o=h.zoomModalHeight;v.hasClass("file-zoom-fullscreen")&&(o=n.outerHeight(!0),e||(o-=t.outerHeight(!0))),n.css("height",e?o+e:o)};t.is(":visible")?(e=t.outerHeight(!0),t.slideUp("slow",function(){o.find(".btn").appendTo(n),i(e)})):(n.find(".btn").appendTo(o),t.slideDown("slow",function(){i()})),v.focus()}),h._handler(v,"keydown",function(t){var n=t.which||t.keyCode,o=e(this).find(".btn-prev"),i=e(this).find(".btn-next"),r=e(this).data("previewId"),a=h.rtl?39:37,s=h.rtl?37:39;n===a&&o.length&&!o.attr("disabled")&&h._zoomSlideShow("prev",r),n===s&&i.length&&!i.attr("disabled")&&h._zoomSlideShow("next",r)})},_zoomPreview:function(e){var n,o=this,i=o.$modal;if(!e.length)throw"Cannot zoom to detailed preview!";t.initModal(i),i.html(o._getModalContent()),n=e.closest(t.FRAMES),o._setZoomContent(n),i.modal("show"),o._initZoomButtons()},_zoomSlideShow:function(t,n){var o,i,r,a=this,s=a.$modal.find(".kv-zoom-actions .btn-"+t),l=a.getFrames().toArray(),c=l.length;if(!s.attr("disabled")){for(i=0;c>i;i++)if(e(l[i]).attr("id")===n){r="prev"===t?i-1:i+1;break}0>r||r>=c||!l[r]||((o=e(l[r])).length&&a._setZoomContent(o,!0),a._initZoomButtons(),a._raise("filezoom"+t,{previewId:n,modal:a.$modal}))}},_initZoomButton:function(){var t=this;t.$preview.find(".kv-file-zoom").each(function(){var n=e(this);t._handler(n,"click",function(){t._zoomPreview(n)})})},_inputFileCount:function(){return this.$element.get(0).files.length},_refreshPreview:function(){var t,n=this;(n._inputFileCount()||n.isAjaxUpload)&&n.showPreview&&n.isPreviewable&&(n.isAjaxUpload&&n.fileManager.count()>0?(t=e.extend(!0,{},n.fileManager.stack),n.fileManager.clear(),n._clearFileInput()):t=n.$element.get(0).files,t&&t.length&&(n.readFiles(t),n._setFileDropZoneTitle()))},_clearObjects:function(t){t.find("video audio").each(function(){this.pause(),e(this).remove()}),t.find("img object div").each(function(){e(this).remove()})},_clearFileInput:function(){var t,n,o,i=this.$element;this._inputFileCount()&&(t=i.closest("form"),n=e(document.createElement("form")),o=e(document.createElement("div")),i.before(o),t.length?t.after(n):o.after(n),n.append(i).trigger("reset"),o.before(i).remove(),n.remove())},_resetUpload:function(){var e=this;e.uploadCache={content:[],config:[],tags:[],append:!0},e.$btnUpload.removeAttr("disabled"),e._setProgress(0),e.$progress.hide(),e._resetErrors(!1),e._initAjax(),e.fileManager.clearImages(),e._resetCanvas(),e.cacheInitialPreview={},e.overwriteInitial&&(e.initialPreview=[],e.initialPreviewConfig=[],e.initialPreviewThumbTags=[],e.previewCache.data={content:[],config:[],tags:[]})},_resetCanvas:function(){var e=this;e.canvas&&e.imageCanvasContext&&e.imageCanvasContext.clearRect(0,0,e.canvas.width,e.canvas.height)},_hasInitialPreview:function(){return!this.overwriteInitial&&this.previewCache.count(!0)},_resetPreview:function(){var e,t,n=this;n.previewCache.count(!0)?(e=n.previewCache.out(),n._setPreviewContent(e.content),n._setInitThumbAttr(),t=n.initialCaption?n.initialCaption:e.caption,n._setCaption(t)):(n._clearPreview(),n._initCaption()),n.showPreview&&(n._initZoom(),n._initSortable())},_clearDefaultPreview:function(){this.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var e=this;e.showPreview&&!t.isEmpty(e.defaultPreviewContent)&&(e._setPreviewContent('<div class="file-default-preview">'+e.defaultPreviewContent+"</div>"),e.$container.removeClass("file-input-new"),e._initClickable())},_resetPreviewThumbs:function(e){var t,n=this;return e?(n._clearPreview(),void n.clearFileStack()):void(n._hasInitialPreview()?(t=n.previewCache.out(),n._setPreviewContent(t.content),n._setInitThumbAttr(),n._setCaption(t.caption),n._initPreviewActions()):n._clearPreview())},_getLayoutTemplate:function(e){var n=this,o=n.layoutTemplates[e];return t.isEmpty(n.customLayoutTags)?o:t.replaceTags(o,n.customLayoutTags)},_getPreviewTemplate:function(e){var n=this,o=n.previewTemplates[e];return t.isEmpty(n.customPreviewTags)?o:t.replaceTags(o,n.customPreviewTags)},_getOutData:function(e,t,n,o){var i=this;return t=t||{},n=n||{},o=o||i.fileManager.list(),{formdata:e,files:o,filenames:i.filenames,filescount:i.getFilesCount(),extra:i._getExtraData(),response:n,reader:i.reader,jqXHR:t}},_getMsgSelected:function(e){var t=this,n=1===e?t.fileSingle:t.filePlural;return e>0?t.msgSelected.replace("{n}",e).replace("{files}",n):t.msgNoFilesSelected},_getFrame:function(n){var o=e("#"+n);return o.length?o:(this._log(t.logMessages.invalidThumb,{id:n}),null)},_getThumbs:function(e){return e=e||"",this.getFrames(":not(.file-preview-initial)"+e)},_getExtraData:function(e,t){var n=this,o=n.uploadExtraData;return"function"==typeof n.uploadExtraData&&(o=n.uploadExtraData(e,t)),o},_initXhr:function(e,n,o){var i=this,r=i.fileManager,a=function(e){var a=0,s=e.total,l=e.loaded||e.position,c=r.getUploadStats(n,l,s);e.lengthComputable&&!i.enableResumableUpload&&(a=t.round(l/s*100)),n?i._setFileUploadStats(n,a,o,c):i._setProgress(a,null,null,i._getStats(c)),i._raise("fileajaxprogress",[c])};return e.upload&&(i.progressDelay&&(a=t.debounce(a,i.progressDelay)),e.upload.addEventListener("progress",a,!1)),e},_initAjaxSettings:function(){var t=this;t._ajaxSettings=e.extend(!0,{},t.ajaxSettings),t._ajaxDeleteSettings=e.extend(!0,{},t.ajaxDeleteSettings)},_mergeAjaxCallback:function(e,t,n){var o,i=this,r=i._ajaxSettings,a=i.mergeAjaxCallbacks;"delete"===n&&(r=i._ajaxDeleteSettings,a=i.mergeAjaxDeleteCallbacks),o=r[e],r[e]=a&&"function"==typeof o?"before"===a?function(){o.apply(this,arguments),t.apply(this,arguments)}:function(){t.apply(this,arguments),o.apply(this,arguments)}:t},_ajaxSubmit:function(t,n,o,i,r,a,s,l){var c,u,d,p,f=this;f._raise("filepreajax",[r,a,s])&&(r.append("initialPreview",JSON.stringify(f.initialPreview)),r.append("initialPreviewConfig",JSON.stringify(f.initialPreviewConfig)),r.append("initialPreviewThumbTags",JSON.stringify(f.initialPreviewThumbTags)),f._initAjaxSettings(),f._mergeAjaxCallback("beforeSend",t),f._mergeAjaxCallback("success",n),f._mergeAjaxCallback("complete",o),f._mergeAjaxCallback("error",i),"function"==typeof(l=l||f.uploadUrlThumb||f.uploadUrl)&&(l=l()),"object"==typeof(d=f._getExtraData(a,s)||{})&&e.each(d,function(e,t){r.append(e,t)}),u={xhr:function(){var t=e.ajaxSettings.xhr();return f._initXhr(t,a,f.fileManager.count())},url:f._encodeURI(l),type:"POST",dataType:"json",data:r,cache:!1,processData:!1,contentType:!1},c=e.extend(!0,{},u,f._ajaxSettings),f.ajaxQueue.push(c),p=function(){var t,n;f.ajaxCurrentThreads<f.maxAjaxThreads&&(void 0!==(t=f.ajaxQueue.shift())&&(f.ajaxCurrentThreads++,n=e.ajax(t).done(function(){clearInterval(f.ajaxQueueIntervalId),f.ajaxCurrentThreads--}),f.ajaxRequests.push(n)))},f.ajaxQueueIntervalId=setInterval(p,f.queueDelay))},_mergeArray:function(e,n){var o=t.cleanArray(this[e]),i=t.cleanArray(n);this[e]=o.concat(i)},_initUploadSuccess:function(n,o,i){var r,a,s,l,c,u,d,p,f,h=this;h.showPreview&&"object"==typeof n&&!e.isEmptyObject(n)&&void 0!==n.initialPreview&&n.initialPreview.length>0&&(h.hasInitData=!0,u=n.initialPreview||[],d=n.initialPreviewConfig||[],p=n.initialPreviewThumbTags||[],r=void 0===n.append||n.append,u.length>0&&!t.isArray(u)&&(u=u.split(h.initialPreviewDelimiter)),u.length&&(h._mergeArray("initialPreview",u),h._mergeArray("initialPreviewConfig",d),h._mergeArray("initialPreviewThumbTags",p)),void 0!==o?i?(f=o.attr("data-fileindex"),h.uploadCache.content[f]=u[0],h.uploadCache.config[f]=d[0]||[],h.uploadCache.tags[f]=p[0]||[],h.uploadCache.append=r):(s=h.previewCache.add(u[0],d[0],p[0],r),a=h.previewCache.get(s,!1),l=e(document.createElement("div")).html(a).hide().insertAfter(o),(c=l.find(".kv-zoom-cache"))&&c.length&&c.insertAfter(o),o.fadeOut("slow",function(){var e=l.find(".file-preview-frame");e&&e.length&&e.insertBefore(o).fadeIn("slow").css("display:inline-block"),h._initPreviewActions(),h._clearFileInput(),t.cleanZoomCache(h.$preview.find("#zoom-"+o.attr("id"))),o.remove(),l.remove(),h._initSortable()})):(h.previewCache.set(u,d,p,r),h._initPreview(),h._initPreviewActions()))},_initSuccessThumbs:function(){var n=this;n.showPreview&&n._getThumbs(t.FRAMES+".file-preview-success").each(function(){var o=e(this),i=n.$preview,r=o.find(".kv-file-remove");r.removeAttr("disabled"),n._handler(r,"click",function(){var e=o.attr("id"),r=n._raise("filesuccessremove",[e,o.attr("data-fileindex")]);t.cleanMemory(o),!1!==r&&o.fadeOut("slow",function(){t.cleanZoomCache(i.find("#zoom-"+e)),o.remove(),n.getFrames().length||n.reset()})})})},_updateInitialPreview:function(){var e,n,o=this,i=o.uploadCache,r=0,a=o.cacheInitialPreview;if(a&&a.content&&(r=a.content.length),o.showPreview){if(o.previewCache.set(i.content,i.config,i.tags,i.append),r){for(e=0;e<i.content.length;e++)n=e+r,a.content[n]=i.content[e],a.config.length&&(a.config[n]=i.config[e]),a.tags.length&&(a.tags[n]=i.tags[e]);o.initialPreview=t.cleanArray(a.content),o.initialPreviewConfig=t.cleanArray(a.config),o.initialPreviewThumbTags=t.cleanArray(a.tags)}else o.initialPreview=i.content,o.initialPreviewConfig=i.config,o.initialPreviewThumbTags=i.tags;o.cacheInitialPreview={},o.hasInitData&&(o._initPreview(),o._initPreviewActions())}},_uploadSingle:function(n,o,i){var r,a,s,l,c,u,d,p,f,h,m,g,v,b=this,y=b.fileManager,w=y.count(),C=new FormData,x=b.previewInitId+"-"+n,S=w>0||!e.isEmptyObject(b.uploadExtraData),k=b.ajaxOperations.uploadThumb,T=y.getFile(o),_={id:x,index:n,fileId:o},E=b.fileManager.getFileName(o,!0);b.enableResumableUpload||(b.showPreview&&(a=b.fileManager.getThumb(o),d=a.find(".file-thumb-progress"),l=a.find(".kv-file-upload"),c=a.find(".kv-file-remove"),d.show()),0===w||!S||b.showPreview&&l&&l.hasClass("disabled")||b._abort(_)||(v=function(){u?y.errors.push(o):y.removeFile(o),y.setProcessed(o),y.isProcessed()&&(b.fileBatchCompleted=!0)},s=function(){var e;b.fileBatchCompleted&&setTimeout(function(){var n=0===y.count(),o=y.errors.length;b._updateInitialPreview(),b.unlock(n),n&&b._clearFileInput(),e=b.$preview.find(".file-preview-initial"),b.uploadAsync&&e.length&&(t.addCss(e,t.SORT_CSS),b._initSortable()),b._raise("filebatchuploadcomplete",[y.stack,b._getExtraData()]),b.retryErrorUploads&&0!==o||y.clear(),b._setProgress(101),b.ajaxAborted=!1},b.processDelay)},p=function(s){r=b._getOutData(C,s),y.initStats(o),b.fileBatchCompleted=!1,i||(b.ajaxAborted=!1),b.showPreview&&(a.hasClass("file-preview-success")||(b._setThumbStatus(a,"Loading"),t.addCss(a,"file-uploading")),l.attr("disabled",!0),c.attr("disabled",!0)),i||b.lock(),-1!==y.errors.indexOf(o)&&delete y.errors[o],b._raise("filepreupload",[r,x,n]),e.extend(!0,_,r),b._abort(_)&&(s.abort(),i||(b._setThumbStatus(a,"New"),a.removeClass("file-uploading"),l.removeAttr("disabled"),c.removeAttr("disabled"),b.unlock()),b._setProgressCancelled())},h=function(s,c,p){var h=b.showPreview&&a.attr("id")?a.attr("id"):x;r=b._getOutData(C,p,s),e.extend(!0,_,r),setTimeout(function(){t.isEmpty(s)||t.isEmpty(s.error)?(b.showPreview&&(b._setThumbStatus(a,"Success"),l.hide(),b._initUploadSuccess(s,a,i),b._setProgress(101,d)),b._raise("fileuploaded",[r,h,n]),i?v():b.fileManager.remove(a)):(u=!0,f=b._parseError(k,p,b.msgUploadError,b.fileManager.getFileName(o)),b._showFileError(f,_),b._setPreviewError(a,!0),b.retryErrorUploads||l.hide(),i&&v(),b._setProgress(101,e("#"+h).find(".file-thumb-progress"),b.msgUploadError))},b.processDelay)},m=function(){setTimeout(function(){b.showPreview&&(l.removeAttr("disabled"),c.removeAttr("disabled"),a.removeClass("file-uploading")),i?s():(b.unlock(!1),b._clearFileInput()),b._initSuccessThumbs()},b.processDelay)},g=function(t,n,r){f=b._parseError(k,t,r,b.fileManager.getFileName(o)),u=!0,setTimeout(function(){i&&v(),b.fileManager.setProgress(o,100),b._setPreviewError(a,!0),b.retryErrorUploads||l.hide(),e.extend(!0,_,b._getOutData(C,t)),b._setProgress(101,d,b.msgAjaxProgressError.replace("{operation}",k)),b._setProgress(101,a.find(".file-thumb-progress"),b.msgUploadError),b._showFileError(f,_)},b.processDelay)},C.append(b.uploadFileAttr,T.file,E),b._setUploadData(C,{fileId:o}),b._ajaxSubmit(p,h,m,g,C,o,n)))},_uploadBatch:function(){var n,o,i,r,a,s,l=this,c=l.fileManager,u=c.total(),d=u>0||!e.isEmptyObject(l.uploadExtraData),p=new FormData,f=l.ajaxOperations.uploadBatch;if(0!==u&&d&&!l._abort({})){s=function(){l.fileManager.clear(),l._clearFileInput()},n=function(n){l.lock(),c.initStats();var o=l._getOutData(p,n);l.ajaxAborted=!1,l.showPreview&&l._getThumbs().each(function(){var n=e(this),o=n.find(".kv-file-upload"),i=n.find(".kv-file-remove");n.hasClass("file-preview-success")||(l._setThumbStatus(n,"Loading"),t.addCss(n,"file-uploading")),o.attr("disabled",!0),i.attr("disabled",!0)}),l._raise("filebatchpreupload",[o]),l._abort(o)&&(n.abort(),l._getThumbs().each(function(){var t=e(this),n=t.find(".kv-file-upload"),o=t.find(".kv-file-remove");t.hasClass("file-preview-loading")&&(l._setThumbStatus(t,"New"),t.removeClass("file-uploading")),n.removeAttr("disabled"),o.removeAttr("disabled")}),l._setProgressCancelled())},o=function(n,o,i){var r=l._getOutData(p,i,n),c=0,u=l._getThumbs(":not(.file-preview-success)"),d=t.isEmpty(n)||t.isEmpty(n.errorkeys)?[]:n.errorkeys;t.isEmpty(n)||t.isEmpty(n.error)?(l._raise("filebatchuploadsuccess",[r]),s(),l.showPreview?(u.each(function(){var t=e(this);l._setThumbStatus(t,"Success"),t.removeClass("file-uploading"),t.find(".kv-file-upload").hide().removeAttr("disabled")}),l._initUploadSuccess(n)):l.reset(),l._setProgress(101)):(l.showPreview&&(u.each(function(){var t=e(this);t.removeClass("file-uploading"),t.find(".kv-file-upload").removeAttr("disabled"),t.find(".kv-file-remove").removeAttr("disabled"),0===d.length||-1!==e.inArray(c,d)?(l._setPreviewError(t,!0),l.retryErrorUploads||(t.find(".kv-file-upload").hide(),l.fileManager.remove(t))):(t.find(".kv-file-upload").hide(),l._setThumbStatus(t,"Success"),l.fileManager.remove(t)),t.hasClass("file-preview-error")&&!l.retryErrorUploads||c++}),l._initUploadSuccess(n)),a=l._parseError(f,i,l.msgUploadError),l._showFileError(a,r,"filebatchuploaderror"),l._setProgress(101,l.$progress,l.msgUploadError))},r=function(){l.unlock(),l._initSuccessThumbs(),l._clearFileInput(),l._raise("filebatchuploadcomplete",[l.fileManager.stack,l._getExtraData()])},i=function(t,n,o){var i=l._getOutData(p,t);a=l._parseError(f,t,o),l._showFileError(a,i,"filebatchuploaderror"),l.uploadFileCount=u-1,l.showPreview&&(l._getThumbs().each(function(){var t=e(this);t.removeClass("file-uploading"),l.fileManager.getFile(t.attr("data-fileid"))&&l._setPreviewError(t)}),l._getThumbs().removeClass("file-uploading"),l._getThumbs(" .kv-file-upload").removeAttr("disabled"),l._getThumbs(" .kv-file-delete").removeAttr("disabled"),l._setProgress(101,l.$progress,l.msgAjaxProgressError.replace("{operation}",f)))};var h=0;e.each(l.fileManager.stack,function(e,n){t.isEmpty(n.file)||p.append(l.uploadFileAttr,n.file,n.nameFmt||"untitled_"+h),h++}),l._ajaxSubmit(n,o,r,i,p)}},_uploadExtraOnly:function(){var e,n,o,i,r,a=this,s={},l=new FormData,c=a.ajaxOperations.uploadExtra;a._abort(s)||(e=function(e){a.lock();var t=a._getOutData(l,e);a._raise("filebatchpreupload",[t]),a._setProgress(50),s.data=t,s.xhr=e,a._abort(s)&&(e.abort(),a._setProgressCancelled())},n=function(e,n,o){var i=a._getOutData(l,o,e);t.isEmpty(e)||t.isEmpty(e.error)?(a._raise("filebatchuploadsuccess",[i]),a._clearFileInput(),a._initUploadSuccess(e),a._setProgress(101)):(r=a._parseError(c,o,a.msgUploadError),a._showFileError(r,i,"filebatchuploaderror"))},o=function(){a.unlock(),a._clearFileInput(),a._raise("filebatchuploadcomplete",[a.fileManager.stack,a._getExtraData()])},i=function(e,t,n){var o=a._getOutData(l,e);r=a._parseError(c,e,n),s.data=o,a._showFileError(r,o,"filebatchuploaderror"),a._setProgress(101,a.$progress,a.msgAjaxProgressError.replace("{operation}",c))},a._ajaxSubmit(e,n,o,i,l))},_deleteFileIndex:function(n){var o=this,i=n.attr("data-fileindex"),r=o.reversePreviewOrder;"init_"===i.substring(0,5)&&(i=parseInt(i.replace("init_","")),o.initialPreview=t.spliceArray(o.initialPreview,i,r),o.initialPreviewConfig=t.spliceArray(o.initialPreviewConfig,i,r),o.initialPreviewThumbTags=t.spliceArray(o.initialPreviewThumbTags,i,r),o.getFrames().each(function(){var t=e(this),n=t.attr("data-fileindex");"init_"===n.substring(0,5)&&((n=parseInt(n.replace("init_","")))>i&&(n--,t.attr("data-fileindex","init_"+n)))}),(o.uploadAsync||o.enableResumableUpload)&&(o.cacheInitialPreview=o.getPreview()))},_initFileActions:function(){var n=this,o=n.$preview;n.showPreview&&(n._initZoomButton(),n.getFrames(" .kv-file-remove").each(function(){var i,r,a,s=e(this),l=s.closest(t.FRAMES),c=l.attr("id"),u=l.attr("data-fileindex");n._handler(s,"click",function(){return!(!1===n._raise("filepreremove",[c,u])||!n._validateMinCount())&&(i=l.hasClass("file-preview-error"),t.cleanMemory(l),void l.fadeOut("slow",function(){t.cleanZoomCache(o.find("#zoom-"+c)),n.fileManager.remove(l),n._clearObjects(l),l.remove(),c&&i&&n.$errorContainer.find('li[data-thumb-id="'+c+'"]').fadeOut("fast",function(){e(this).remove(),n._errorsExist()||n._resetErrors()}),n._clearFileInput();var s,d=n.previewCache.count(!0),p=n.fileManager.count(),f=n.showPreview&&n.getFrames().length;0!==p||0!==d||f?((r=d+p)>1?a=n._getMsgSelected(r):(s=n.fileManager.getFirstFile(),a=s?s.nameFmt:"_"),n._setCaption(a)):n.reset(),n._raise("fileremoved",[c,u])}))})}),n.getFrames(" .kv-file-upload").each(function(){var o=e(this);n._handler(o,"click",function(){var e=o.closest(t.FRAMES),i=e.attr("data-fileid");n.$progress.hide(),e.hasClass("file-preview-error")&&!n.retryErrorUploads||n._uploadSingle(n.fileManager.getIndex(i),i,!1)})}))},_initPreviewActions:function(){var n=this,o=n.$preview,i=n.deleteExtraData||{},r=t.FRAMES+" .kv-file-remove",a=n.fileActionSettings,s=a.removeClass,l=a.removeErrorClass,c=function(){var e=n.isAjaxUpload?n.previewCache.count(!0):n._inputFileCount();n.getFrames().length||e||(n._setCaption(""),n.reset(),n.initialCaption="")};n._initZoomButton(),o.find(r).each(function(){var r,a,u,d,p=e(this),f=p.data("url")||n.deleteUrl,h=p.data("key"),m=n.ajaxOperations.deleteThumb;if(!t.isEmpty(f)&&void 0!==h){"function"==typeof f&&(f=f());var g,v,b,y,w,C=p.closest(t.FRAMES),x=n.previewCache.data,S=C.attr("data-fileindex");S=parseInt(S.replace("init_","")),b=t.isEmpty(x.config)&&t.isEmpty(x.config[S])?null:x.config[S],w=t.isEmpty(b)||t.isEmpty(b.extra)?i:b.extra,y=b.filename||b.caption||"","function"==typeof w&&(w=w()),v={id:p.attr("id"),key:h,extra:w},a=function(e){n.ajaxAborted=!1,n._raise("filepredelete",[h,e,w]),n._abort()?e.abort():(p.removeClass(l),t.addCss(C,"file-uploading"),t.addCss(p,"disabled "+s))},u=function(e,i,a){var u,d;return t.isEmpty(e)||t.isEmpty(e.error)?(C.removeClass("file-uploading").addClass("file-deleted"),void C.fadeOut("slow",function(){S=parseInt(C.attr("data-fileindex").replace("init_","")),n.previewCache.unset(S),n._deleteFileIndex(C),u=n.previewCache.count(!0),d=u>0?n._getMsgSelected(u):"",n._setCaption(d),n._raise("filedeleted",[h,a,w]),t.cleanZoomCache(o.find("#zoom-"+C.attr("id"))),n._clearObjects(C),C.remove(),c()})):(v.jqXHR=a,v.response=e,r=n._parseError(m,a,n.msgDeleteError,y),n._showFileError(r,v,"filedeleteerror"),C.removeClass("file-uploading"),p.removeClass("disabled "+s).addClass(l),void c())},d=function(e,t,o){var i=n._parseError(m,e,o,y);v.jqXHR=e,v.response={},n._showFileError(i,v,"filedeleteerror"),C.removeClass("file-uploading"),p.removeClass("disabled "+s).addClass(l),c()},n._initAjaxSettings(),n._mergeAjaxCallback("beforeSend",a,"delete"),n._mergeAjaxCallback("success",u,"delete"),n._mergeAjaxCallback("error",d,"delete"),g=e.extend(!0,{},{url:n._encodeURI(f),type:"POST",dataType:"json",data:e.extend(!0,{},{key:h},w)},n._ajaxDeleteSettings),n._handler(p,"click",function(){return!!n._validateMinCount()&&(n.ajaxAborted=!1,n._raise("filebeforedelete",[h,w]),void(n.ajaxAborted instanceof Promise?n.ajaxAborted.then(function(t){t||e.ajax(g)}):n.ajaxAborted||e.ajax(g)))})}})},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.removeClass("icon-visible")},_showFileIcon:function(){t.addCss(this.$captionContainer,"icon-visible")},_getSize:function(t,n){var o,i,r=parseFloat(t),a=this.fileSizeGetter;return e.isNumeric(t)&&e.isNumeric(r)?("function"==typeof a?i=a(r):0===r?i="0.00 B":(o=Math.floor(Math.log(r)/Math.log(1024)),n||(n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"]),i=1*(r/Math.pow(1024,o)).toFixed(2)+" "+n[o]),this._getLayoutTemplate("size").replace("{sizeText}",i)):""},_getFileType:function(e){return this.mimeTypeAliases[e]||e},_generatePreviewTemplate:function(n,o,i,r,a,s,l,c,u,d,p,f,h,m){var g,v,b=this,y=b.slug(i),w="",C="",x=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,S=y,k=y,T="type-default",_=d||b._renderFileFooter(n,y,c,"auto",l),E=b.preferIconicPreview,I=b.preferIconicZoomPreview,A=E?"other":n;return(g=400>x?b.previewSettingsSmall[A]||b.defaults.previewSettingsSmall[A]:b.previewSettings[A]||b.defaults.previewSettings[A])&&e.each(g,function(e,t){C+=e+":"+t+";"}),v=function(o,l,c,d){var m=c?"zoom-"+a:a,g=b._getPreviewTemplate(o),v=(u||"")+" "+d;return b.frameClass&&(v=b.frameClass+" "+v),c&&(v=v.replace(" "+t.SORT_CSS,"")),g=b._parseFilePreviewIcon(g,i),"text"===o&&(l=t.htmlEncode(l)),"object"!==n||r||e.each(b.defaults.fileTypeSettings,function(e,t){"object"!==e&&"other"!==e&&t(i,r)&&(T="type-"+e)}),t.isEmpty(h)||(void 0!==h.title&&null!==h.title&&(S=h.title),void 0!==h.alt&&null!==h.alt&&(S=h.alt)),g.setTokens({previewId:m,caption:y,title:S,alt:k,frameClass:v,type:b._getFileType(r),fileindex:p,fileid:s||"",typeCss:T,footer:_,data:l,template:f||n,style:C?'style="'+C+'"':""})},p=p||a.slice(a.lastIndexOf("-")+1),b.fileActionSettings.showZoom&&(w=v(I?"other":n,m||o,!0,"kv-zoom-thumb")),w="\n"+b._getLayoutTemplate("zoomCache").replace("{zoomContent}",w),"function"==typeof b.sanitizeZoomCache&&(w=b.sanitizeZoomCache(w)),v(E?"other":n,o,!1,"kv-preview-thumb")+w},_addToPreview:function(e,t){return this.reversePreviewOrder?e.prepend(t):e.append(t)},_previewDefault:function(n,o,i){var r=this,a=r.$preview;if(r.showPreview){var s,l=t.getFileName(n),c=n?n.type:"",u=n.size||0,d=r._getFileName(n,""),p=!0===i&&!r.isAjaxUpload,f=t.createObjectURL(n),h=r.fileManager.getId(n);r._clearDefaultPreview(),s=r._generatePreviewTemplate("other",f,l,c,o,h,p,u),r._addToPreview(a,s),r._setThumbAttr(o,d,u),!0===i&&r.isAjaxUpload&&r._setThumbStatus(e("#"+o),"Error")}},canPreview:function(e){var n=this;if(!(e&&n.showPreview&&n.$preview&&n.$preview.length))return!1;var o,i,r,a=e.name||"",s=e.type||"",l=(e.size||0)/1e3,c=n._parseFileType(s,a),u=n.allowedPreviewTypes,d=n.allowedPreviewMimeTypes,p=n.allowedPreviewExtensions||[],f=n.disabledPreviewTypes,h=n.disabledPreviewMimeTypes,m=n.disabledPreviewExtensions||[],g=n.maxFilePreviewSize&&parseFloat(n.maxFilePreviewSize)||0,v=new RegExp("\\.("+p.join("|")+")$","i"),b=new RegExp("\\.("+m.join("|")+")$","i");return o=!u||-1!==u.indexOf(c),i=!d||-1!==d.indexOf(s),r=!p.length||t.compare(a,v),!(f&&-1!==f.indexOf(c)||h&&-1!==h.indexOf(s)||m.length&&t.compare(a,b)||g&&!isNaN(g)&&l>g)&&(o||i||r)},_previewFile:function(e,n,o,i,r,a){if(this.showPreview){var s,l=this,c=t.getFileName(n),u=a.type,d=a.name,p=l._parseFileType(u,c),f=l.$preview,h=n.size||0,m="text"===p||"html"===p||"image"===p?o.target.result:r,g=l.fileManager.getId(n);"html"===p&&l.purifyHtml&&window.DOMPurify&&(m=window.DOMPurify.sanitize(m)),s=l._generatePreviewTemplate(p,m,c,u,i,g,!1,h),l._clearDefaultPreview(),l._addToPreview(f,s);var v=f.find("#"+i),b=v.find("img"),y=v.attr("data-fileid");l._validateImageOrientation(b,n,i,y,d,u,h,m),l._setThumbAttr(i,d,h),l._initSortable()}},_setThumbAttr:function(t,n,o){var i=e("#"+t);i.length&&(o=o&&o>0?this._getSize(o):"",i.data({caption:n,size:o}))},_setInitThumbAttr:function(){var e,n,o,i,r=this,a=r.previewCache.data,s=r.previewCache.count(!0);if(0!==s)for(var l=0;s>l;l++)e=a.config[l],i=r.previewInitId+"-init_"+l,n=t.ifSet("caption",e,t.ifSet("filename",e)),o=t.ifSet("size",e),r._setThumbAttr(i,n,o)},_slugDefault:function(e){return t.isEmpty(e)?"":String(e).replace(/[\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_updateFileDetails:function(e){var n,o,i,r,a,s=this,l=s.$element,c=t.isIE(9)&&t.findFileName(l.val())||l[0].files[0]&&l[0].files[0].name;!c&&s.fileManager.count()>0?(a=s.fileManager.getFirstFile(),n=a.nameFmt):n=c?s.slug(c):"_",o=s.isAjaxUpload?s.fileManager.count():e,r=s.previewCache.count(!0)+o,i=1===o?n:s._getMsgSelected(r),s.isError?(s.$previewContainer.removeClass("file-thumb-loading"),s.$previewStatus.html(""),s.$captionContainer.removeClass("icon-visible")):s._showFileIcon(),s._setCaption(i,s.isError),s.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&s._raise("fileselect",[e,n]),s.previewCache.count(!0)&&s._initPreviewActions()},_setThumbStatus:function(e,t){var n=this;if(n.showPreview){var o="indicator"+t,i=o+"Title",r="file-preview-"+t.toLowerCase(),a=e.find(".file-upload-indicator"),s=n.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-paused file-preview-loading"),"Success"===t&&e.find(".file-drag-handle").remove(),a.html(s[o]),a.attr("title",s[i]),e.addClass(r),"Error"!==t||n.retryErrorUploads||e.find(".kv-file-upload").attr("disabled",!0)}},_setProgressCancelled:function(){var e=this;e._setProgress(101,e.$progress,e.msgCancelled)},_setProgress:function(e,n,o,i){var r=this;if((n=n||r.$progress).length){var a,s=Math.min(e,100),l=r.progressUploadThreshold,c=100>=e?r.progressTemplate:r.progressCompleteTemplate,u=100>s?r.progressTemplate:o?r.paused?r.progressPauseTemplate:r.progressErrorTemplate:c;e>=100&&(i=""),t.isEmpty(u)||(a=l&&s>l&&100>=e?u.setTokens({percent:l,status:r.msgUploadThreshold}):u.setTokens({percent:s,status:e>100?r.msgUploadEnd:s+"%"}),i=i||"",a=a.setTokens({stats:i}),n.html(a),o&&n.find('[role="progressbar"]').html(o))}},_setFileDropZoneTitle:function(){var e,n=this,o=n.$container.find(".file-drop-zone"),i=n.dropZoneTitle;n.isClickable&&(e=t.isEmpty(n.$element.attr("multiple"))?n.fileSingle:n.filePlural,i+=n.dropZoneClickTitle.replace("{files}",e)),o.find("."+n.dropZoneTitleClass).remove(),!n.showPreview||0===o.length||n.fileManager.count()>0||!n.dropZoneEnabled||!n.isAjaxUpload&&n.$element.files||(0===o.find(t.FRAMES).length&&t.isEmpty(n.defaultPreviewContent)&&o.prepend('<div class="'+n.dropZoneTitleClass+'">'+i+"</div>"),n.$container.removeClass("file-input-new"),t.addCss(n.$container,"file-input-ajax-new"))},_getStats:function(e){var n,o,i=this;return i.showUploadStats&&e&&e.bitrate?(o=i._getLayoutTemplate("stats"),n=e.elapsed&&e.bps?i.msgPendingTime.setTokens({time:t.getElapsed(Math.ceil(e.pendingBytes/e.bps))}):i.msgCalculatingTime,o.setTokens({uploadSpeed:e.bitrate,pendingTime:n})):""},_setResumableProgress:function(e,t,n){var o=this,i=o.resumableManager,r=n?i:o,a=n?n.find(".file-thumb-progress"):null;0===r.lastProgress&&(r.lastProgress=e),e<r.lastProgress&&(e=r.lastProgress),o._setProgress(e,a,null,o._getStats(t)),r.lastProgress=e},_setFileUploadStats:function(n,o,i,r){var a=this,s=a.$progress;if(a.showPreview||s&&s.length){var l,c=a.fileManager,u=c.getThumb(n),d=a.resumableManager,p=0,f=c.getTotalSize(),h=e.extend(!0,{},r);if(a.enableResumableUpload){var m,g=r.loaded,v=d.getUploadedSize(),b=d.file.size;g+=v,m=c.uploadedSize+g,o=t.round(100*g/b),r.pendingBytes=b-v,a._setResumableProgress(o,r,u),l=Math.floor(100*m/f),h.pendingBytes=f-m,a._setResumableProgress(l,h)}else c.setProgress(n,o),s=u&&u.length?u.find(".file-thumb-progress"):null,a._setProgress(o,s,null,a._getStats(r)),e.each(c.stats,function(e,t){p+=t.loaded}),h.pendingBytes=f-p,l=t.round(p/f*100),a._setProgress(l,null,null,a._getStats(h))}},_validateMinCount:function(){var e=this,t=e.isAjaxUpload?e.fileManager.count():e._inputFileCount();return!(e.validateInitialCount&&e.minFileCount>0&&e._getFileCount(t-1)<e.minFileCount)||(e._noFilesError({}),!1)},_getFileCount:function(e){var t=this,n=0;return t.validateInitialCount&&!t.overwriteInitial&&(n=t.previewCache.count(!0),e+=n),e},_getFileId:function(e){return t.getFileId(e,this.generateFileId)},_getFileName:function(e,n){var o=t.getFileName(e);return o?this.slug(o):n},_getFileNames:function(e){return this.filenames.filter(function(t){return e?void 0!==t:null!=t})},_setPreviewError:function(e,t){var n=this,o=n.removeFromPreviewOnError&&!n.retryErrorUploads;if(t&&!o||n.fileManager.remove(e),n.showPreview){if(o)return void e.remove();n._setThumbStatus(e,"Error"),n._refreshUploadButton(e)}},_refreshUploadButton:function(e){var t=e.find(".kv-file-upload"),n=this.fileActionSettings,o=n.uploadIcon,i=n.uploadTitle;t.length&&(this.retryErrorUploads&&(o=n.uploadRetryIcon,i=n.uploadRetryTitle),t.attr("title",i).html(o))},_checkDimensions:function(e,n,o,i,r,a,s){var l,c,u,d=this,p="Small"===n?"min":"max",f=d[p+"Image"+a];!t.isEmpty(f)&&o.length&&(u=o[0],c="Width"===a?u.naturalWidth||u.width:u.naturalHeight||u.height,("Small"===n?c>=f:f>=c)||(l=d["msgImage"+a+n].setTokens({name:r,size:f}),d._showFileError(l,s),d._setPreviewError(i)))},_getExifObj:function(e){var n=null,o=t.logMessages.exifWarning;if("data:image/jpeg;base64,"===e.slice(0,23)||"data:image/jpg;base64,"===e.slice(0,22)){try{n=window.piexif?window.piexif.load(e):null}catch(e){n=null,o=e&&e.message||""}return n||this._log(t.logMessages.badExifParser,{details:o}),n}n=null},setImageOrientation:function(n,o,i,r){var a,s,l,c=this,u=!n||!n.length,d=!o||!o.length,p=!1,f=u&&r&&"image"===r.attr("data-template");u&&d||(l="load.fileinputimageorient",f?(n=o,o=null,n.css(c.previewSettings.image),s=e(document.createElement("div")).appendTo(r.find(".kv-file-content")),a=e(document.createElement("span")).insertBefore(n),n.css("visibility","hidden").removeClass("file-zoom-detail").appendTo(s)):p=!n.is(":visible"),n.off(l).on(l,function(){p&&(c.$preview.removeClass("hide-content"),r.find(".kv-file-content").css("visibility","hidden"));var e=n.get(0),l=o&&o.length?o.get(0):null,u=e.offsetHeight,d=e.offsetWidth,h=t.getRotation(i);if(p&&(r.find(".kv-file-content").css("visibility","visible"),c.$preview.addClass("hide-content")),n.data("orientation",i),l&&o.data("orientation",i),5>i)return t.setTransform(e,h),void t.setTransform(l,h);var m=Math.atan(d/u),g=Math.sqrt(Math.pow(u,2)+Math.pow(d,2)),v=g?u/Math.cos(Math.PI/2+m)/g:1,b=" scale("+Math.abs(v)+")";t.setTransform(e,h+b),t.setTransform(l,h+b),f&&(n.css("visibility","visible").insertAfter(a).addClass("file-zoom-detail"),a.remove(),s.remove())}))},_validateImageOrientation:function(t,n,o,i,r,a,s,l){var c,u,d=this,p=d.autoOrientImage;return c=p?d._getExifObj(l):null,(u=c?c["0th"][piexif.ImageIFD.Orientation]:null)?(d.setImageOrientation(t,e("#zoom-"+o+" img"),u,e("#"+o)),d._raise("fileimageoriented",{$img:t,file:n}),void d._validateImage(o,i,r,a,s,l,c)):void d._validateImage(o,i,r,a,s,l,c)},_validateImage:function(t,n,o,i,r,a,s){var l,c,u,d=this,p=d.$preview,f=p.find("#"+t),h=f.attr("data-fileindex"),m=f.find("img");o=o||"Untitled",m.one("load",function(){c=f.width(),u=p.width(),c>u&&m.css("width","100%"),l={ind:h,id:t,fileId:n},d._checkDimensions(h,"Small",m,f,o,"Width",l),d._checkDimensions(h,"Small",m,f,o,"Height",l),d.resizeImage||(d._checkDimensions(h,"Large",m,f,o,"Width",l),d._checkDimensions(h,"Large",m,f,o,"Height",l)),d._raise("fileimageloaded",[t]),d.fileManager.addImage(n,{ind:h,img:m,thumb:f,pid:t,typ:i,siz:r,validated:!1,imgData:a,exifObj:s}),f.data("exif",s),d._validateAllImages()}).one("error",function(){d._raise("fileimageloaderror",[t])}).each(function(){this.complete?e(this).trigger("load"):this.error&&e(this).trigger("error")})},_validateAllImages:function(){var t,n=this,o={val:0},i=n.fileManager.getImageCount(),r=n.resizeIfSizeMoreThan;i===n.fileManager.totalImages&&(n._raise("fileimagesloaded"),n.resizeImage&&e.each(n.fileManager.loadedImages,function(e,a){a.validated||((t=a.siz)&&t>1e3*r&&n._getResizedImage(e,a,o,i),a.validated=!0)}))},_getResizedImage:function(n,o,i,r){var a,s,l,c,u,d,p,f,h,m,g=this,v=e(o.img)[0],b=v.naturalWidth,y=v.naturalHeight,w=1,C=g.maxImageWidth||b,x=g.maxImageHeight||y,S=!(!b||!y),k=g.imageCanvas,T=g.imageCanvasContext,_=o.typ,E=o.pid,I=o.ind,A=o.thumb,P=o.exifObj;if(u=function(e,t,n){g.isAjaxUpload?g._showFileError(e,t,n):g._showError(e,t,n),g._setPreviewError(A)},f=g.fileManager.getFile(n),h={id:E,index:I,fileId:n},m=[n,E,I],f&&S&&!(C>=b&&x>=y)||(S&&f&&g._raise("fileimageresized",m),i.val++,i.val===r&&g._raise("fileimagesresized"),S)){_=_||g.resizeDefaultImageType,s=b>C,l=y>x,w="width"===g.resizePreference?s?C/b:l?x/y:1:l?x/y:s?C/b:1,g._resetCanvas(),b*=w,y*=w,k.width=b,k.height=y;try{T.drawImage(v,0,0,b,y),c=k.toDataURL(_,g.resizeQuality),P&&(p=window.piexif.dump(P),c=window.piexif.insert(p,c)),a=t.dataURI2Blob(c),g.fileManager.setFile(n,a),g._raise("fileimageresized",m),i.val++,i.val===r&&g._raise("fileimagesresized",[void 0,void 0]),a instanceof Blob||u(g.msgImageResizeError,h,"fileimageresizeerror")}catch(e){i.val++,i.val===r&&g._raise("fileimagesresized",[void 0,void 0]),d=g.msgImageResizeException.replace("{errors}",e.message),u(d,h,"fileimageresizeexception")}}else u(g.msgImageResizeError,h,"fileimageresizeerror")},_initBrowse:function(e){var n=this,o=n.$element;n.showBrowse?n.$btnFile=e.find(".btn-file").append(o):(o.appendTo(e).attr("tabindex",-1),t.addCss(o,"file-no-browse"))},_initClickable:function(){var n,o,i=this;i.isClickable&&(n=i.$dropZone,i.isAjaxUpload||(o=i.$preview.find(".file-default-preview")).length&&(n=o),t.addCss(n,"clickable"),n.attr("tabindex",-1),i._handler(n,"click",function(t){var o=e(t.target);e(i.elErrorContainer+":visible").length||o.parents(".file-preview-thumbnails").length&&!o.parents(".file-default-preview").length||(i.$element.data("zoneClicked",!0).trigger("click"),n.blur())}))},_initCaption:function(){var e=this,n=e.initialCaption||"";return e.overwriteInitial||t.isEmpty(n)?(e.$caption.val(""),!1):(e._setCaption(n),!0)},_setCaption:function(n,o){var i,r,a,s,l,c,u=this;if(u.$caption.length){if(u.$captionContainer.removeClass("icon-visible"),o)i=e("<div>"+u.msgValidationError+"</div>").text(),(s=u.fileManager.count())?(c=u.fileManager.getFirstFile(),l=1===s&&c?c.nameFmt:u._getMsgSelected(s)):l=u._getMsgSelected(u.msgNo),r=t.isEmpty(n)?l:n,a='<span class="'+u.msgValidationErrorClass+'">'+u.msgValidationErrorIcon+"</span>";else{if(t.isEmpty(n))return;i=e("<div>"+n+"</div>").text(),r=i,a=u._getLayoutTemplate("fileIcon")}u.$captionContainer.addClass("icon-visible"),u.$caption.attr("title",i).val(r),u.$captionIcon.html(a)}},_createContainer:function(){var t=this,n={class:"file-input file-input-new"+(t.rtl?" kv-rtl":"")},o=e(document.createElement("div")).attr(n).html(t._renderMain());return o.insertBefore(t.$element),t._initBrowse(o),t.theme&&o.addClass("theme-"+t.theme),o},_refreshContainer:function(){var e=this,t=e.$container,n=e.$element;n.insertAfter(t),t.html(e._renderMain()),e._initBrowse(t),e._validateDisabled()},_validateDisabled:function(){this.$caption.attr({readonly:this.isDisabled})},_renderMain:function(){var e=this,t=e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",n=e.showClose?e._getLayoutTemplate("close"):"",o=e.showPreview?e._getLayoutTemplate("preview").setTokens({class:e.previewClass,dropClass:t}):"",i=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,r=e.captionTemplate.setTokens({class:i+" kv-fileinput-caption"});return e.mainTemplate.setTokens({class:e.mainClass+(!e.showBrowse&&e.showCaption?" no-browse":""),preview:o,close:n,caption:r,upload:e._renderButton("upload"),remove:e._renderButton("remove"),cancel:e._renderButton("cancel"),pause:e._renderButton("pause"),browse:e._renderButton("browse")})},_renderButton:function(e){var n=this,o=n._getLayoutTemplate("btnDefault"),i=n[e+"Class"],r=n[e+"Title"],a=n[e+"Icon"],s=n[e+"Label"],l=n.isDisabled?" disabled":"",c="button";switch(e){case"remove":if(!n.showRemove)return"";break;case"cancel":if(!n.showCancel)return"";i+=" kv-hidden";break;case"pause":if(!n.showPause)return"";i+=" kv-hidden";break;case"upload":if(!n.showUpload)return"";n.isAjaxUpload&&!n.isDisabled?o=n._getLayoutTemplate("btnLink").replace("{href}",n.uploadUrl):c="submit";break;case"browse":if(!n.showBrowse)return"";o=n._getLayoutTemplate("btnBrowse");break;default:return""}return i+="browse"===e?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button",t.isEmpty(s)||(s=' <span class="'+n.buttonLabelClass+'">'+s+"</span>"),o.setTokens({type:c,css:i,title:r,status:l,icon:a,label:s})},_renderThumbProgress:function(){return'<div class="file-thumb-progress kv-hidden">'+this.progressInfoTemplate.setTokens({percent:101,status:this.msgUploadBegin,stats:""})+"</div>"},_renderFileFooter:function(e,n,o,i,r){var a,s,l=this,c=l.fileActionSettings,u=c.showRemove,d=c.showDrag,p=c.showUpload,f=c.showZoom,h=l._getLayoutTemplate("footer"),m=l._getLayoutTemplate("indicator"),g=r?c.indicatorError:c.indicatorNew,v=r?c.indicatorErrorTitle:c.indicatorNewTitle,b=m.setTokens({indicator:g,indicatorTitle:v});return o=l._getSize(o),s={type:e,caption:n,size:o,width:i,progress:"",indicator:b},l.isAjaxUpload?(s.progress=l._renderThumbProgress(),s.actions=l._renderFileActions(s,p,!1,u,f,d,!1,!1,!1)):s.actions=l._renderFileActions(s,!1,!1,!1,f,d,!1,!1,!1),a=h.setTokens(s),a=t.replaceTags(a,l.previewThumbTags)},_renderFileActions:function(e,t,n,o,i,r,a,s,l,c,u,d){var p=this;if(!e.type&&c&&(e.type="image"),p.enableResumableUpload?t=!1:"function"==typeof t&&(t=t(e)),"function"==typeof n&&(n=n(e)),"function"==typeof o&&(o=o(e)),"function"==typeof i&&(i=i(e)),"function"==typeof r&&(r=r(e)),!(t||n||o||i||r))return"";var f,h=!1===s?"":' data-url="'+s+'"',m="",g="",v=!1===l?"":' data-key="'+l+'"',b="",y="",w="",C=p._getLayoutTemplate("actions"),x=p.fileActionSettings,S=p.otherActionButtons.setTokens({dataKey:v,key:l}),k=a?x.removeClass+" disabled":x.removeClass;return o&&(b=p._getLayoutTemplate("actionDelete").setTokens({removeClass:k,removeIcon:x.removeIcon,removeTitle:x.removeTitle,dataUrl:h,dataKey:v,key:l})),t&&(y=p._getLayoutTemplate("actionUpload").setTokens({uploadClass:x.uploadClass,uploadIcon:x.uploadIcon,uploadTitle:x.uploadTitle})),n&&(w=(w=p._getLayoutTemplate("actionDownload").setTokens({downloadClass:x.downloadClass,downloadIcon:x.downloadIcon,downloadTitle:x.downloadTitle,downloadUrl:u||p.initialPreviewDownloadUrl})).setTokens({filename:d,key:l})),i&&(m=p._getLayoutTemplate("actionZoom").setTokens({zoomClass:x.zoomClass,zoomIcon:x.zoomIcon,zoomTitle:x.zoomTitle})),r&&c&&(f="drag-handle-init "+x.dragClass,g=p._getLayoutTemplate("actionDrag").setTokens({dragClass:f,dragTitle:x.dragTitle,dragIcon:x.dragIcon})),C.setTokens({delete:b,upload:y,download:w,zoom:m,drag:g,other:S})},_browse:function(e){var t=this;e&&e.isDefaultPrevented()||!t._raise("filebrowse")||(t.isError&&!t.isAjaxUpload&&t.clear(),t.$captionContainer.focus())},_change:function(n){var o=this;if(!o.changeTriggered){var i,r,a,s=o.$element,l=arguments.length>1,c=o.isAjaxUpload,u=l?arguments[1]:s.get(0).files,d=!c&&t.isEmpty(s.attr("multiple"))?1:o.maxFileCount,p=o.fileManager.count(),f=t.isEmpty(s.attr("multiple")),h=f&&p>0,m=function(t,n,i,r){var a=e.extend(!0,{},o._getOutData(null,{},{},u),{id:i,index:r}),s={id:i,index:r,file:n,files:u};return c?o._showFileError(t,a):o._showError(t,s)},g=function(e,t){var n=o.msgFilesTooMany.replace("{m}",t).replace("{n}",e);o.isError=m(n,null,null,null),o.$captionContainer.removeClass("icon-visible"),o._setCaption("",!0),o.$container.removeClass("file-input-new file-input-ajax-new")};if(o.reader=null,o._resetUpload(),o._hideFileIcon(),o.dropZoneEnabled&&o.$container.find(".file-drop-zone ."+o.dropZoneTitleClass).remove(),c||(u=n.target&&void 0===n.target.files?n.target.value?[{name:n.target.value.replace(/^.+\\/,"")}]:[]:n.target.files||{}),i=u,t.isEmpty(i)||0===i.length)return c||o.clear(),void o._raise("fileselectnone");if(o._resetErrors(),a=i.length,r=o._getFileCount(c?o.fileManager.count()+a:a),d>0&&r>d){if(!o.autoReplace||a>d)return void g(o.autoReplace&&a>d?a:r,d);r>d&&o._resetPreviewThumbs(c)}else!c||h?(o._resetPreviewThumbs(!1),h&&o.clearFileStack()):!c||0!==p||o.previewCache.count(!0)&&!o.overwriteInitial||o._resetPreviewThumbs(!0);o.readFiles(i)}},_abort:function(t){var n,o=this;return o.ajaxAborted&&"object"==typeof o.ajaxAborted&&void 0!==o.ajaxAborted.message?((n=e.extend(!0,{},o._getOutData(null),t)).abortData=o.ajaxAborted.data||{},n.abortMessage=o.ajaxAborted.message,o._setProgress(101,o.$progress,o.msgCancelled),o._showFileError(o.ajaxAborted.message,n,"filecustomerror"),o.cancel(),!0):!!o.ajaxAborted},_resetFileStack:function(){var n=this,o=0;n._getThumbs().each(function(){var i=e(this),r=i.attr("data-fileindex"),a=i.attr("id");"-1"!==r&&-1!==r&&(n.fileManager.getFile(i.attr("data-fileid"))?i.attr({id:"uploaded-"+t.uniqId(),"data-fileindex":"-1"}):(i.attr({id:n.previewInitId+"-"+o,"data-fileindex":o}),o++),n.$preview.find("#zoom-"+a).attr({id:"zoom-"+i.attr("id"),"data-fileindex":i.attr("data-fileindex")}))})},_isFileSelectionValid:function(e){var t=this;return e=e||0,t.required&&!t.getFilesCount()?(t.$errorContainer.html(""),t._showFileError(t.msgFileRequired),!1):!(t.minFileCount>0&&t._getFileCount(e)<t.minFileCount)||(t._noFilesError({}),!1)},clearFileStack:function(){var e=this;return e.fileManager.clear(),e._initResumableUpload(),e.enableResumableUpload?(null===e.showPause&&(e.showPause=!0),null===e.showCancel&&(e.showCancel=!1)):(e.showPause=!1,null===e.showCancel&&(e.showCancel=!0)),e.$element},getFileStack:function(){return this.fileManager.stack},getFileList:function(){return this.fileManager.list()},getFilesCount:function(){var e=this,t=e.isAjaxUpload?e.fileManager.count():e._inputFileCount();return e._getFileCount(t)},readFiles:function(n){this.reader=new FileReader;var o,i=this,r=i.$element,a=i.reader,s=i.$previewContainer,l=i.$previewStatus,c=i.msgLoading,u=i.msgProgress,d=i.previewInitId,p=n.length,f=i.fileTypeSettings,h=i.fileManager.count(),m=i.allowedFileTypes,g=m?m.length:0,v=i.allowedFileExtensions,b=t.isEmpty(v)?"":v.join(", "),y=function(t,r,a,s,l){var c=e.extend(!0,{},i._getOutData(null,{},{},n),{id:a,index:s,fileId:l}),u=e("#"+a),d={id:a,index:s,fileId:l,file:r,files:n};i._previewDefault(r,a,!0),i.isAjaxUpload?setTimeout(function(){o(s+1)},i.processDelay):p=0,i._initFileActions(),u.remove(),i.isError=i.isAjaxUpload?i._showFileError(t,c):i._showError(t,d),i._updateFileDetails(p)};i.fileManager.clearImages(),e.each(n,function(e,t){var n=i.fileTypeSettings.image;n&&n(t.type)&&i.fileManager.totalImages++}),(o=function(w){if(t.isEmpty(r.attr("multiple"))&&(p=1),w>=p)return i.isAjaxUpload&&i.fileManager.count()>0?i._raise("filebatchselected",[i.fileManager.stack]):i._raise("filebatchselected",[n]),s.removeClass("file-thumb-loading"),void l.html("");var C,x,S,k,T,_,E,I,A,P,D,N,L,F,R=h+w,$=d+"-"+R,M=n[w],O=f.text,B=f.image,H=f.html,z=i._getFileName(M,""),j=(M&&M.size||0)/1e3,U="",W=t.createObjectURL(M),q=0,V="",G=0,K=function(){var e=u.setTokens({index:w+1,files:p,percent:50,name:z});setTimeout(function(){l.html(e),i._updateFileDetails(p),o(w+1)},i.processDelay),i._raise("fileloaded",[M,$,w,a])};if(M){if(A=i.fileManager.getId(M),g>0)for(x=0;g>x;x++)E=m[x],I=i.msgFileTypes[E]||E,V+=0===x?I:", "+I;if(!1===z)return void o(w+1);if(0===z.length)return S=i.msgInvalidFileName.replace("{name}",t.htmlEncode(t.getFileName(M),"[unknown]")),void y(S,M,$,w,A);if(t.isEmpty(v)||(U=new RegExp("\\.("+v.join("|")+")$","i")),C=j.toFixed(2),i.maxFileSize>0&&j>i.maxFileSize)return S=i.msgSizeTooLarge.setTokens({name:z,size:C,maxSize:i.maxFileSize}),void y(S,M,$,w,A);if(null!==i.minFileSize&&j<=t.getNum(i.minFileSize))return S=i.msgSizeTooSmall.setTokens({name:z,size:C,minSize:i.minFileSize}),void y(S,M,$,w,A);if(!t.isEmpty(m)&&t.isArray(m)){for(x=0;x<m.length;x+=1)T=m[x],P=f[T],q+=P&&"function"==typeof P&&P(M.type,t.getFileName(M))?1:0;if(0===q)return S=i.msgInvalidFileType.setTokens({name:z,types:V}),void y(S,M,$,w,A)}if(0===q&&!t.isEmpty(v)&&t.isArray(v)&&!t.isEmpty(U)&&(_=t.compare(z,U),0===(q+=t.isEmpty(_)?0:_.length)))return S=i.msgInvalidFileExtension.setTokens({name:z,extensions:b}),void y(S,M,$,w,A);if(i.isAjaxUpload&&i.fileManager.exists(A))return S=i.msgDuplicateFile.setTokens({name:z,size:C}),y(S,M,$,w,A),void((k=e("#"+$))&&k.length&&k.remove());if(!i.canPreview(M))return i.isAjaxUpload&&i.fileManager.add(M),i.showPreview&&(s.addClass("file-thumb-loading"),i._previewDefault(M,$),i._initFileActions()),void setTimeout(function(){i._updateFileDetails(p),o(w+1),i._raise("fileloaded",[M,$,w])},10);D=O(M.type,z),N=H(M.type,z),L=B(M.type,z),l.html(c.replace("{index}",w+1).replace("{files}",p)),s.addClass("file-thumb-loading"),a.onerror=function(e){i._errorHandler(e,z)},a.onload=function(n){var o,r,s,l,c,u,d=[];if(r={name:z,type:M.type},e.each(f,function(e,t){"object"!==e&&"other"!==e&&"function"==typeof t&&t(M.type,z)&&G++}),0===G){for(s=new Uint8Array(n.target.result),x=0;x<s.length;x++)l=s[x].toString(16),d.push(l);if(o=d.join("").toLowerCase().substring(0,8),u=t.getMimeType(o,"",""),t.isEmpty(u)&&(c=t.arrayBuffer2String(a.result),u=t.isSvg(c)?"image/svg+xml":t.getMimeType(o,c,M.type)),r={name:z,type:u},D=O(u,""),N=H(u,""),L=B(u,""),(F=D||N)||L)return void function(e){var t=new FileReader;t.onerror=function(e){i._errorHandler(e,z)},t.onload=function(e){i._previewFile(w,M,e,$,W,r),i._initFileActions(),K()},e?t.readAsText(M,i.textEncoding):t.readAsDataURL(M)}(F)}i._previewFile(w,M,n,$,W,r),i._initFileActions(),K()},a.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100,n=Math.ceil(t);S=u.setTokens({index:w+1,files:p,percent:n,name:z}),setTimeout(function(){l.html(S)},i.processDelay)}},D||N?a.readAsText(M,i.textEncoding):L?a.readAsDataURL(M):a.readAsArrayBuffer(M),i.fileManager.add(M)}})(0),i._updateFileDetails(p,!1)},lock:function(){var e=this,t=e.$container;return e._resetErrors(),e.disable(),t.addClass("is-locked"),e.showCancel&&t.find(".fileinput-cancel").show(),e.showPause&&t.find(".fileinput-pause").show(),e._raise("filelock",[e.fileManager.stack,e._getExtraData()]),e.$element},unlock:function(e){var t=this,n=t.$container;return void 0===e&&(e=!0),t.enable(),n.removeClass("is-locked"),t.showCancel&&n.find(".fileinput-cancel").hide(),t.showPause&&n.find(".fileinput-pause").hide(),e&&t._resetFileStack(),t._raise("fileunlock",[t.fileManager.stack,t._getExtraData()]),t.$element},resume:function(){var e=this,t=!1,n=e.$progress,o=e.resumableManager;return e.enableResumableUpload?(e.paused?n.html(e.progressPauseTemplate.setTokens({percent:101,status:e.msgUploadResume,stats:""})):t=!0,e.paused=!1,t&&n.html(e.progressInfoTemplate.setTokens({percent:101,status:e.msgUploadBegin,stats:""})),setTimeout(function(){o.upload()},e.processDelay),e.$element):e.$element},pause:function(){var t,n=this,o=n.resumableManager,i=n.ajaxRequests,r=i.length,a=o.getProgress(),s=n.fileActionSettings;if(!n.enableResumableUpload)return n.$element;if(o.chunkIntervalId&&clearInterval(o.chunkIntervalId),n.ajaxQueueIntervalId&&clearInterval(n.ajaxQueueIntervalId),n._raise("fileuploadpaused",[n.fileManager,o]),r>0)for(t=0;r>t;t+=1)n.paused=!0,i[t].abort();return n.showPreview&&n._getThumbs().each(function(){var t,o=e(this),i=o.attr("data-fileid"),r=n._getLayoutTemplate("stats"),l=o.find(".file-upload-indicator");o.removeClass("file-uploading"),l.attr("title")===s.indicatorLoadingTitle&&(n._setThumbStatus(o,"Paused"),t=r.setTokens({pendingTime:n.msgPaused,uploadSpeed:""}),n.paused=!0,n._setProgress(a,o.find(".file-thumb-progress"),a+"%",t)),n.fileManager.getFile(i)||o.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")}),n._setProgress(101,n.$progress,n.msgPaused),n.$element},cancel:function(){var t,n=this,o=n.ajaxRequests,i=n.resumableManager,r=o.length;if(n.enableResumableUpload&&i.chunkIntervalId?(clearInterval(i.chunkIntervalId),i.reset(),n._raise("fileuploadcancelled",[n.fileManager,i])):n._raise("fileuploadcancelled",[n.fileManager]),n.ajaxQueueIntervalId&&clearInterval(n.ajaxQueueIntervalId),n._initAjax(),r>0)for(t=0;r>t;t+=1)n.cancelling=!0,o[t].abort();return n._getThumbs().each(function(){var t=e(this),o=t.attr("data-fileid"),i=t.find(".file-thumb-progress");t.removeClass("file-uploading"),n._setProgress(0,i),i.hide(),n.fileManager.getFile(o)||(t.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),t.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),n.unlock()}),setTimeout(function(){n._setProgressCancelled()},n.processDelay),n.$element},clear:function(){var n,o=this;if(o._raise("fileclear"))return o.$btnUpload.removeAttr("disabled"),o._getThumbs().find("video,audio,img").each(function(){t.cleanMemory(e(this))}),o._clearFileInput(),o._resetUpload(),o.clearFileStack(),o._resetErrors(!0),o._hasInitialPreview()?(o._showFileIcon(),o._resetPreview(),o._initPreviewActions(),o.$container.removeClass("file-input-new")):(o._getThumbs().each(function(){o._clearObjects(e(this))}),o.isAjaxUpload&&(o.previewCache.data={}),o.$preview.html(""),n=!o.overwriteInitial&&o.initialCaption.length>0?o.initialCaption:"",o.$caption.attr("title","").val(n),t.addCss(o.$container,"file-input-new"),o._validateDefaultPreview()),0===o.$container.find(t.FRAMES).length&&(o._initCaption()||o.$captionContainer.removeClass("icon-visible")),o._hideFileIcon(),o.$captionContainer.focus(),o._setFileDropZoneTitle(),o._raise("filecleared"),o.$element},reset:function(){var e=this;if(e._raise("filereset"))return e.lastProgress=0,e._resetPreview(),e.$container.find(".fileinput-filename").text(""),t.addCss(e.$container,"file-input-new"),(e.getFrames().length||e.dropZoneEnabled)&&e.$container.removeClass("file-input-new"),e.clearFileStack(),e._setFileDropZoneTitle(),e.$element},disable:function(){var e=this;return e.isDisabled=!0,e._raise("filedisabled"),e.$element.attr("disabled","disabled"),e.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),t.addCss(e.$container.find(".btn-file"),"disabled"),e._initDragDrop(),e.$element},enable:function(){var e=this;return e.isDisabled=!1,e._raise("fileenabled"),e.$element.removeAttr("disabled"),e.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),e.$container.find(".btn-file").removeClass("disabled"),e._initDragDrop(),e.$element},upload:function(){var n,o,i,r=this,a=r.fileManager,s=a.count(),l=!e.isEmptyObject(r._getExtraData());if(r.isAjaxUpload&&!r.isDisabled&&r._isFileSelectionValid(s)){if(r.lastProgress=0,r._resetUpload(),0===s&&!l)return void r._showFileError(r.msgUploadEmpty);if(r.cancelling=!1,r.$progress.show(),r.lock(),i=a.count(),0===s&&l)return r._setProgress(2),void r._uploadExtraOnly();if(r.enableResumableUpload)return r.resume();if(r.uploadAsync||r.enableResumableUpload){for(o=r._getOutData(null),r._raise("filebatchpreupload",[o]),r.fileBatchCompleted=!1,r.uploadCache={content:[],config:[],tags:[],append:!0},n=0;i>n;n++)r.uploadCache.content[n]=null,r.uploadCache.config[n]=null,r.uploadCache.tags[n]=null;r.$preview.find(".file-preview-initial").removeClass(t.SORT_CSS),r._initSortable(),r.cacheInitialPreview=r.getPreview()}return r._setProgress(2),r.hasInitData=!1,r.uploadAsync?(n=0,void e.each(a.stack,function(e){r._uploadSingle(n,e,!0),n++})):(r._uploadBatch(),r.$element)}},destroy:function(){var t=this,n=t.$form,o=t.$container,i=t.$element,r=t.namespace;return e(document).off(r),e(window).off(r),n&&n.length&&n.off(r),t.isAjaxUpload&&t._clearFileInput(),t._cleanup(),t._initPreviewCache(),i.insertBefore(o).off(r).removeData(),o.off().remove(),i},refresh:function(n){var o=this,i=o.$element;return n="object"!=typeof n||t.isEmpty(n)?o.options:e.extend(!0,{},o.options,n),o._init(n,!0),o._listen(),i},zoom:function(e){var n=this,o=n._getFrame(e),i=n.$modal;o&&(t.initModal(i),i.html(n._getModalContent()),n._setZoomContent(o),i.modal("show"),n._initZoomButtons())},getExif:function(e){var t=this._getFrame(e);return t&&t.data("exif")||null},getFrames:function(n){var o;return n=n||"",o=this.$preview.find(t.FRAMES+n),this.reversePreviewOrder&&(o=e(o.get().reverse())),o},getPreview:function(){var e=this;return{content:e.initialPreview,config:e.initialPreviewConfig,tags:e.initialPreviewThumbTags}}},e.fn.fileinput=function(o){if(t.hasFileAPISupport()||t.isIE(9)){var i=Array.apply(null,arguments),r=[];switch(i.shift(),this.each(function(){var a,s=e(this),l=s.data("fileinput"),c="object"==typeof o&&o,u=c.theme||s.data("theme"),d={},p={},f=c.language||s.data("language")||e.fn.fileinput.defaults.language||"en";l||(u&&(p=e.fn.fileinputThemes[u]||{}),"en"===f||t.isEmpty(e.fn.fileinputLocales[f])||(d=e.fn.fileinputLocales[f]||{}),a=e.extend(!0,{},e.fn.fileinput.defaults,p,e.fn.fileinputLocales.en,d,c,s.data()),l=new n(this,a),s.data("fileinput",l)),"string"==typeof o&&r.push(l[o].apply(l,i))}),r.length){case 0:return this;case 1:return r[0];default:return r}}},e.fn.fileinput.defaults={language:"en",showCaption:!0,showBrowse:!0,showPreview:!0,showRemove:!0,showUpload:!0,showUploadStats:!0,showCancel:null,showPause:null,showClose:!0,showUploadedThumbs:!0,browseOnZoneClick:!1,autoReplace:!1,autoOrientImage:function(){var e=window.navigator.userAgent,t=!!e.match(/WebKit/i),n=!!e.match(/iP(od|ad|hone)/i),o=n&&t&&!e.match(/CriOS/i);return!o},autoOrientImageInitial:!0,required:!1,rtl:!1,hideThumbnailContent:!1,encodeUrl:!0,generateFileId:null,previewClass:"",captionClass:"",frameClass:"krajee-default",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:!0,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:!1,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,initialPreviewDownloadUrl:"",removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,sanitizeZoomCache:function(t){var n=e(document.createElement("div")).append(t);return n.find("input,select,.file-thumbnail-footer").remove(),n.html()},previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-sm btn-kv btn-default btn-outline-secondary",fullscreen:"btn btn-sm btn-kv btn-default btn-outline-secondary",borderless:"btn btn-sm btn-kv btn-default btn-outline-secondary",close:"btn btn-sm btn-kv btn-default btn-outline-secondary"},previewTemplates:{},previewContentTemplates:{},preferIconicPreview:!1,preferIconicZoomPreview:!1,allowedFileTypes:null,allowedFileExtensions:null,allowedPreviewTypes:void 0,allowedPreviewMimeTypes:null,allowedPreviewExtensions:null,disabledPreviewTypes:void 0,disabledPreviewExtensions:["msi","exe","com","zip","rar","app","vb","scr"],disabledPreviewMimeTypes:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default btn-secondary",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default btn-secondary",pauseIcon:'<i class="glyphicon glyphicon-pause"></i>',pauseClass:"btn btn-default btn-secondary",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default btn-secondary",uploadUrl:null,uploadUrlThumb:null,uploadAsync:!0,uploadParamNames:{chunkCount:"chunkCount",chunkIndex:"chunkIndex",chunkSize:"chunkSize",chunkSizeStart:"chunkSizeStart",chunksUploaded:"chunksUploaded",fileBlob:"fileBlob",fileId:"fileId",fileName:"fileName",fileRelativePath:"fileRelativePath",fileSize:"fileSize",retryCount:"retryCount"},maxAjaxThreads:5,processDelay:100,queueDelay:10,progressDelay:0,enableResumableUpload:!1,resumableUploadOptions:{fallback:null,testUrl:null,chunkSize:2048,maxThreads:4,maxRetries:3,showErrorLog:!0},uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",resizeIfSizeMoreThan:0,minFileSize:0,maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-striped active",progressClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressInfoClass:"progress-bar bg-info progress-bar-info progress-bar-striped active",progressCompleteClass:"progress-bar bg-success progress-bar-success",progressPauseClass:"progress-bar bg-primary progress-bar-primary progress-bar-striped active",progressErrorClass:"progress-bar bg-danger progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:t.closeButton("kv-error-close"),slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0,mergeAjaxCallbacks:!1,mergeAjaxDeleteCallbacks:!1,retryErrorUploads:!0,reversePreviewOrder:!1,usePdfRenderer:function(){var e=!!window.MSInputMethodContext&&!!document.documentMode;return!!navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/i)||e},pdfRendererUrl:"",pdfRendererTemplate:'<iframe class="kv-preview-data file-preview-pdf" src="{renderer}?file={data}" {style}></iframe>'},e.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear all unprocessed files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",pauseLabel:"Pause",pauseTitle:"Pause ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgPaused:"Paused",msgPlaceholder:"Select {files}...",msgZoomModalHeading:"Detailed Preview",msgFileRequired:"You must select a file to upload.",msgSizeTooSmall:'File "{name}" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadResume:"Resuming upload...",msgUploadEmpty:"No valid data available for upload.",msgUploadError:"Upload Error",msgDeleteError:"Delete Error",msgProgressError:"Error",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",msgDuplicateFile:'File "{name}" of same size "{size} KB" has already been selected earlier. Skipping duplicate selection.',msgResumableUploadRetriesExceeded:"Upload aborted beyond <b>{max}</b> retries for file <b>{file}</b>! Error Details: <pre>{error}</pre>",msgPendingTime:"{time} remaining",msgCalculatingTime:"calculating time remaining",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"}},e.fn.fileinput.Constructor=n,e(document).ready(function(){var t=e("input.file[type=file]");t.length&&t.fileinput()})})?o.apply(t,i):o)||(e.exports=r)}()},function(e,t,n){var o=n(22);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(23)(!1)).push([e.i,"",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),r=o.sources.map(function(e){return"/*# sourceURL=".concat(o.sourceRoot).concat(e," */")});return[n].concat(r).concat([i]).join("\n")}var a,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];null!=r&&(o[r]=!0)}for(var a=0;a<e.length;a++){var s=e[a];null!=s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),t.push(s))}},t}},function(e,t,n){var o=n(25);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){},function(e,t,n){(function(e){e(document).ready(function(){e(".summernote").summernote({minHeight:450,focus:!0})})}).call(this,n(0))}]);